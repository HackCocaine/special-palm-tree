const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index.es.BQTaLac8.js","_astro/index.DzoBSwPE.js"])))=>i.map(i=>d[i]);
import{a as b0,g as Hp,R as $p,b as Vp,r as vt}from"./index.DzoBSwPE.js";var Sl={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function Wp(){if(Uf)return Bs;Uf=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return Bs.Fragment=e,Bs.jsx=n,Bs.jsxs=n,Bs}var Hf;function Gp(){return Hf||(Hf=1,Sl.exports=Wp()),Sl.exports}var nt=Gp();function on(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=on(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Yp={value:()=>{}};function Tc(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ac(n)}function ac(t){this._=t}function Xp(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ac.prototype=Tc.prototype={constructor:ac,on:function(t,e){var n=this._,r=Xp(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Zp(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=$f(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$f(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ac(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Zp(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $f(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Yp,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var au="http://www.w3.org/1999/xhtml";const Vf={svg:"http://www.w3.org/2000/svg",xhtml:au,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oc(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Vf.hasOwnProperty(e)?{space:Vf[e],local:t}:t}function Kp(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===au&&e.documentElement.namespaceURI===au?e.createElement(t):e.createElementNS(n,t)}}function Jp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function x0(t){var e=Oc(t);return(e.local?Jp:Kp)(e)}function Qp(){}function Fu(t){return t==null?Qp:function(){return this.querySelector(t)}}function t5(t){typeof t!="function"&&(t=Fu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,h=0;h<s;++h)(l=o[h])&&(u=t.call(l,l.__data__,h,o))&&("__data__"in l&&(u.__data__=l.__data__),a[h]=u);return new tr(r,this._parents)}function e5(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function n5(){return[]}function _0(t){return t==null?n5:function(){return this.querySelectorAll(t)}}function r5(t){return function(){return e5(t.apply(this,arguments))}}function i5(t){typeof t=="function"?t=r5(t):t=_0(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new tr(r,i)}function N0(t){return function(){return this.matches(t)}}function S0(t){return function(e){return e.matches(t)}}var o5=Array.prototype.find;function s5(t){return function(){return o5.call(this.children,t)}}function a5(){return this.firstElementChild}function c5(t){return this.select(t==null?a5:s5(typeof t=="function"?t:S0(t)))}var l5=Array.prototype.filter;function u5(){return Array.from(this.children)}function f5(t){return function(){return l5.call(this.children,t)}}function h5(t){return this.selectAll(t==null?u5:f5(typeof t=="function"?t:S0(t)))}function d5(t){typeof t!="function"&&(t=N0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new tr(r,this._parents)}function A0(t){return new Array(t.length)}function p5(){return new tr(this._enter||this._groups.map(A0),this._parents)}function vc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vc.prototype={constructor:vc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function g5(t){return function(){return t}}function m5(t,e,n,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new vc(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function y5(t,e,n,r,i,o,s){var a,l,u=new Map,h=e.length,p=o.length,m=new Array(h),d;for(a=0;a<h;++a)(l=e[a])&&(m[a]=d=s.call(l,l.__data__,a,e)+"",u.has(d)?i[a]=l:u.set(d,l));for(a=0;a<p;++a)d=s.call(t,o[a],a,o)+"",(l=u.get(d))?(r[a]=l,l.__data__=o[a],u.delete(d)):n[a]=new vc(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(m[a])===l&&(i[a]=l)}function v5(t){return t.__data__}function w5(t,e){if(!arguments.length)return Array.from(this,v5);var n=e?y5:m5,r=this._parents,i=this._groups;typeof t!="function"&&(t=g5(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var h=r[u],p=i[u],m=p.length,d=b5(t.call(h,h&&h.__data__,u,r)),v=d.length,x=a[u]=new Array(v),N=s[u]=new Array(v),w=l[u]=new Array(m);n(h,p,x,N,w,d,e);for(var M=0,_=0,A,H;M<v;++M)if(A=x[M]){for(M>=_&&(_=M+1);!(H=N[_])&&++_<v;);A._next=H||null}}return s=new tr(s,r),s._enter=a,s._exit=l,s}function b5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x5(){return new tr(this._exit||this._groups.map(A0),this._parents)}function _5(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function N5(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],h=r[l],p=u.length,m=a[l]=new Array(p),d,v=0;v<p;++v)(d=u[v]||h[v])&&(m[v]=d);for(;l<i;++l)a[l]=n[l];return new tr(a,this._parents)}function S5(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function A5(t){t||(t=L5);function e(p,m){return p&&m?t(p.__data__,m.__data__):!p-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,h=0;h<a;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new tr(i,this._parents).order()}function L5(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k5(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function E5(){return Array.from(this)}function C5(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function P5(){let t=0;for(const e of this)++t;return t}function I5(){return!this.node()}function M5(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function F5(t){return function(){this.removeAttribute(t)}}function R5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T5(t,e){return function(){this.setAttribute(t,e)}}function O5(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function D5(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function j5(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function B5(t,e){var n=Oc(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?R5:F5:typeof e=="function"?n.local?j5:D5:n.local?O5:T5)(n,e))}function L0(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function q5(t){return function(){this.style.removeProperty(t)}}function z5(t,e,n){return function(){this.style.setProperty(t,e,n)}}function U5(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H5(t,e,n){return arguments.length>1?this.each((e==null?q5:typeof e=="function"?U5:z5)(t,e,n??"")):is(this.node(),t)}function is(t,e){return t.style.getPropertyValue(e)||L0(t).getComputedStyle(t,null).getPropertyValue(e)}function $5(t){return function(){delete this[t]}}function V5(t,e){return function(){this[t]=e}}function W5(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function G5(t,e){return arguments.length>1?this.each((e==null?$5:typeof e=="function"?W5:V5)(t,e)):this.node()[t]}function k0(t){return t.trim().split(/^|\s+/)}function Ru(t){return t.classList||new E0(t)}function E0(t){this._node=t,this._names=k0(t.getAttribute("class")||"")}E0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function C0(t,e){for(var n=Ru(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function P0(t,e){for(var n=Ru(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Y5(t){return function(){C0(this,t)}}function X5(t){return function(){P0(this,t)}}function Z5(t,e){return function(){(e.apply(this,arguments)?C0:P0)(this,t)}}function K5(t,e){var n=k0(t+"");if(arguments.length<2){for(var r=Ru(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Z5:e?Y5:X5)(n,e))}function J5(){this.textContent=""}function Q5(t){return function(){this.textContent=t}}function tg(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function eg(t){return arguments.length?this.each(t==null?J5:(typeof t=="function"?tg:Q5)(t)):this.node().textContent}function ng(){this.innerHTML=""}function rg(t){return function(){this.innerHTML=t}}function ig(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function og(t){return arguments.length?this.each(t==null?ng:(typeof t=="function"?ig:rg)(t)):this.node().innerHTML}function sg(){this.nextSibling&&this.parentNode.appendChild(this)}function ag(){return this.each(sg)}function cg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lg(){return this.each(cg)}function ug(t){var e=typeof t=="function"?t:x0(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function fg(){return null}function hg(t,e){var n=typeof t=="function"?t:x0(t),r=e==null?fg:typeof e=="function"?e:Fu(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function dg(){var t=this.parentNode;t&&t.removeChild(this)}function pg(){return this.each(dg)}function gg(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mg(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yg(t){return this.select(t?mg:gg)}function vg(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wg(t){return function(e){t.call(this,e,this.__data__)}}function bg(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function xg(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function _g(t,e,n){return function(){var r=this.__on,i,o=wg(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ng(t,e,n){var r=bg(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,h;l<u;++l)for(i=0,h=a[l];i<o;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(a=e?_g:xg,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function I0(t,e,n){var r=L0(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Sg(t,e){return function(){return I0(this,t,e)}}function Ag(t,e){return function(){return I0(this,t,e.apply(this,arguments))}}function Lg(t,e){return this.each((typeof e=="function"?Ag:Sg)(t,e))}function*kg(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var M0=[null];function tr(t,e){this._groups=t,this._parents=e}function ca(){return new tr([[document.documentElement]],M0)}function Eg(){return this}tr.prototype=ca.prototype={constructor:tr,select:t5,selectAll:i5,selectChild:c5,selectChildren:h5,filter:d5,data:w5,enter:p5,exit:x5,join:_5,merge:N5,selection:Eg,order:S5,sort:A5,call:k5,nodes:E5,node:C5,size:P5,empty:I5,each:M5,attr:B5,style:H5,property:G5,classed:K5,text:eg,html:og,raise:ag,lower:lg,append:ug,insert:hg,remove:pg,clone:yg,datum:vg,on:Ng,dispatch:Lg,[Symbol.iterator]:kg};function Jn(t){return typeof t=="string"?new tr([[document.querySelector(t)]],[document.documentElement]):new tr([[t]],M0)}function Cg(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xr(t,e){if(t=Cg(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Pg={passive:!1},Zs={capture:!0,passive:!1};function Al(t){t.stopImmediatePropagation()}function Jo(t){t.preventDefault(),t.stopImmediatePropagation()}function F0(t){var e=t.document.documentElement,n=Jn(t).on("dragstart.drag",Jo,Zs);"onselectstart"in e?n.on("selectstart.drag",Jo,Zs):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function R0(t,e){var n=t.document.documentElement,r=Jn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Jo,Zs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ha=t=>()=>t;function cu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}cu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ig(t){return!t.ctrlKey&&!t.button}function Mg(){return this.parentNode}function Fg(t,e){return e??{x:t.x,y:t.y}}function Rg(){return navigator.maxTouchPoints||"ontouchstart"in this}function T0(){var t=Ig,e=Mg,n=Fg,r=Rg,i={},o=Tc("start","drag","end"),s=0,a,l,u,h,p=0;function m(A){A.on("mousedown.drag",d).filter(r).on("touchstart.drag",N).on("touchmove.drag",w,Pg).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(A,H){if(!(h||!t.call(this,A,H))){var G=_(this,e.call(this,A,H),A,H,"mouse");G&&(Jn(A.view).on("mousemove.drag",v,Zs).on("mouseup.drag",x,Zs),F0(A.view),Al(A),u=!1,a=A.clientX,l=A.clientY,G("start",A))}}function v(A){if(Jo(A),!u){var H=A.clientX-a,G=A.clientY-l;u=H*H+G*G>p}i.mouse("drag",A)}function x(A){Jn(A.view).on("mousemove.drag mouseup.drag",null),R0(A.view,u),Jo(A),i.mouse("end",A)}function N(A,H){if(t.call(this,A,H)){var G=A.changedTouches,W=e.call(this,A,H),D=G.length,I,J;for(I=0;I<D;++I)(J=_(this,W,A,H,G[I].identifier,G[I]))&&(Al(A),J("start",A,G[I]))}}function w(A){var H=A.changedTouches,G=H.length,W,D;for(W=0;W<G;++W)(D=i[H[W].identifier])&&(Jo(A),D("drag",A,H[W]))}function M(A){var H=A.changedTouches,G=H.length,W,D;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),W=0;W<G;++W)(D=i[H[W].identifier])&&(Al(A),D("end",A,H[W]))}function _(A,H,G,W,D,I){var J=o.copy(),S=xr(I||G,H),E,j,k;if((k=n.call(A,new cu("beforestart",{sourceEvent:G,target:m,identifier:D,active:s,x:S[0],y:S[1],dx:0,dy:0,dispatch:J}),W))!=null)return E=k.x-S[0]||0,j=k.y-S[1]||0,function B(U,Z,$){var Q=S,lt;switch(U){case"start":i[D]=B,lt=s++;break;case"end":delete i[D],--s;case"drag":S=xr($||Z,H),lt=s;break}J.call(U,A,new cu(U,{sourceEvent:Z,subject:k,target:m,identifier:D,active:lt,x:S[0]+E,y:S[1]+j,dx:S[0]-Q[0],dy:S[1]-Q[1],dispatch:J}),W)}}return m.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Ha(!!A),m):t},m.container=function(A){return arguments.length?(e=typeof A=="function"?A:Ha(A),m):e},m.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Ha(A),m):n},m.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Ha(!!A),m):r},m.on=function(){var A=o.on.apply(o,arguments);return A===o?m:A},m.clickDistance=function(A){return arguments.length?(p=(A=+A)*A,m):Math.sqrt(p)},m}function Tu(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function O0(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function la(){}var Ks=.7,wc=1/Ks,Qo="\\s*([+-]?\\d+)\\s*",Js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tg=/^#([0-9a-f]{3,8})$/,Og=new RegExp(`^rgb\\(${Qo},${Qo},${Qo}\\)$`),Dg=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),jg=new RegExp(`^rgba\\(${Qo},${Qo},${Qo},${Js}\\)$`),Bg=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${Js}\\)$`),qg=new RegExp(`^hsl\\(${Js},${Dr},${Dr}\\)$`),zg=new RegExp(`^hsla\\(${Js},${Dr},${Dr},${Js}\\)$`),Wf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tu(la,mo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gf,formatHex:Gf,formatHex8:Ug,formatHsl:Hg,formatRgb:Yf,toString:Yf});function Gf(){return this.rgb().formatHex()}function Ug(){return this.rgb().formatHex8()}function Hg(){return D0(this).formatHsl()}function Yf(){return this.rgb().formatRgb()}function mo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tg.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Xf(e):n===3?new Dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$a(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$a(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Og.exec(t))?new Dn(e[1],e[2],e[3],1):(e=Dg.exec(t))?new Dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jg.exec(t))?$a(e[1],e[2],e[3],e[4]):(e=Bg.exec(t))?$a(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qg.exec(t))?Jf(e[1],e[2]/100,e[3]/100,1):(e=zg.exec(t))?Jf(e[1],e[2]/100,e[3]/100,e[4]):Wf.hasOwnProperty(t)?Xf(Wf[t]):t==="transparent"?new Dn(NaN,NaN,NaN,0):null}function Xf(t){return new Dn(t>>16&255,t>>8&255,t&255,1)}function $a(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dn(t,e,n,r)}function $g(t){return t instanceof la||(t=mo(t)),t?(t=t.rgb(),new Dn(t.r,t.g,t.b,t.opacity)):new Dn}function lu(t,e,n,r){return arguments.length===1?$g(t):new Dn(t,e,n,r??1)}function Dn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Tu(Dn,lu,O0(la,{brighter(t){return t=t==null?wc:Math.pow(wc,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ks:Math.pow(Ks,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dn(fo(this.r),fo(this.g),fo(this.b),bc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zf,formatHex:Zf,formatHex8:Vg,formatRgb:Kf,toString:Kf}));function Zf(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}`}function Vg(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}${uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kf(){const t=bc(this.opacity);return`${t===1?"rgb(":"rgba("}${fo(this.r)}, ${fo(this.g)}, ${fo(this.b)}${t===1?")":`, ${t})`}`}function bc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function uo(t){return t=fo(t),(t<16?"0":"")+t.toString(16)}function Jf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _r(t,e,n,r)}function D0(t){if(t instanceof _r)return new _r(t.h,t.s,t.l,t.opacity);if(t instanceof la||(t=mo(t)),!t)return new _r;if(t instanceof _r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new _r(s,a,l,t.opacity)}function Wg(t,e,n,r){return arguments.length===1?D0(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Tu(_r,Wg,O0(la,{brighter(t){return t=t==null?wc:Math.pow(wc,t),new _r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ks:Math.pow(Ks,t),new _r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dn(Ll(t>=240?t-240:t+120,i,r),Ll(t,i,r),Ll(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _r(Qf(this.h),Va(this.s),Va(this.l),bc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bc(this.opacity);return`${t===1?"hsl(":"hsla("}${Qf(this.h)}, ${Va(this.s)*100}%, ${Va(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qf(t){return t=(t||0)%360,t<0?t+360:t}function Va(t){return Math.max(0,Math.min(1,t||0))}function Ll(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ou=t=>()=>t;function Gg(t,e){return function(n){return t+n*e}}function Yg(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xg(t){return(t=+t)==1?j0:function(e,n){return n-e?Yg(e,n,t):Ou(isNaN(e)?n:e)}}function j0(t,e){var n=e-t;return n?Gg(t,n):Ou(isNaN(t)?e:t)}const xc=(function t(e){var n=Xg(e);function r(i,o){var s=n((i=lu(i)).r,(o=lu(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=j0(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r})(1);function Zg(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Kg(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jg(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ws(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Qg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tm(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ws(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var uu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kl=new RegExp(uu.source,"g");function em(t){return function(){return t}}function nm(t){return function(e){return t(e)+""}}function B0(t,e){var n=uu.lastIndex=kl.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=uu.exec(t))&&(i=kl.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Tr(r,i)})),n=kl.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?nm(l[0].x):em(e):(e=l.length,function(u){for(var h=0,p;h<e;++h)a[(p=l[h]).i]=p.x(u);return a.join("")})}function Ws(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ou(e):(n==="number"?Tr:n==="string"?(r=mo(e))?(e=r,xc):B0:e instanceof mo?xc:e instanceof Date?Qg:Kg(e)?Zg:Array.isArray(e)?Jg:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tm:Tr)(t,e)}var th=180/Math.PI,fu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function q0(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*th,skewX:Math.atan(l)*th,scaleX:s,scaleY:a}}var Wa;function rm(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fu:q0(e.a,e.b,e.c,e.d,e.e,e.f)}function im(t){return t==null||(Wa||(Wa=document.createElementNS("http://www.w3.org/2000/svg","g")),Wa.setAttribute("transform",t),!(t=Wa.transform.baseVal.consolidate()))?fu:(t=t.matrix,q0(t.a,t.b,t.c,t.d,t.e,t.f))}function z0(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,h,p,m,d,v){if(u!==p||h!==m){var x=d.push("translate(",null,e,null,n);v.push({i:x-4,x:Tr(u,p)},{i:x-2,x:Tr(h,m)})}else(p||m)&&d.push("translate("+p+e+m+n)}function s(u,h,p,m){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),m.push({i:p.push(i(p)+"rotate(",null,r)-2,x:Tr(u,h)})):h&&p.push(i(p)+"rotate("+h+r)}function a(u,h,p,m){u!==h?m.push({i:p.push(i(p)+"skewX(",null,r)-2,x:Tr(u,h)}):h&&p.push(i(p)+"skewX("+h+r)}function l(u,h,p,m,d,v){if(u!==p||h!==m){var x=d.push(i(d)+"scale(",null,",",null,")");v.push({i:x-4,x:Tr(u,p)},{i:x-2,x:Tr(h,m)})}else(p!==1||m!==1)&&d.push(i(d)+"scale("+p+","+m+")")}return function(u,h){var p=[],m=[];return u=t(u),h=t(h),o(u.translateX,u.translateY,h.translateX,h.translateY,p,m),s(u.rotate,h.rotate,p,m),a(u.skewX,h.skewX,p,m),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,p,m),u=h=null,function(d){for(var v=-1,x=m.length,N;++v<x;)p[(N=m[v]).i]=N.x(d);return p.join("")}}}var om=z0(rm,"px, ","px)","deg)"),sm=z0(im,", ",")",")"),am=1e-12;function eh(t){return((t=Math.exp(t))+1/t)/2}function cm(t){return((t=Math.exp(t))-1/t)/2}function lm(t){return((t=Math.exp(2*t))-1)/(t+1)}const cc=(function t(e,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],h=s[0],p=s[1],m=s[2],d=h-a,v=p-l,x=d*d+v*v,N,w;if(x<am)w=Math.log(m/u)/e,N=function(W){return[a+W*d,l+W*v,u*Math.exp(e*W*w)]};else{var M=Math.sqrt(x),_=(m*m-u*u+r*x)/(2*u*n*M),A=(m*m-u*u-r*x)/(2*m*n*M),H=Math.log(Math.sqrt(_*_+1)-_),G=Math.log(Math.sqrt(A*A+1)-A);w=(G-H)/e,N=function(W){var D=W*w,I=eh(H),J=u/(n*M)*(I*lm(e*D+H)-cm(H));return[a+J*d,l+J*v,u*I/eh(e*D+H)]}}return N.duration=w*1e3*e/Math.SQRT2,N}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return t(s,a,l)},i})(Math.SQRT2,2,4);var os=0,$s=0,qs=0,U0=1e3,_c,Vs,Nc=0,yo=0,Dc=0,Qs=typeof performance=="object"&&performance.now?performance:Date,H0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Du(){return yo||(H0(um),yo=Qs.now()+Dc)}function um(){yo=0}function Sc(){this._call=this._time=this._next=null}Sc.prototype=$0.prototype={constructor:Sc,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Du():+n)+(e==null?0:+e),!this._next&&Vs!==this&&(Vs?Vs._next=this:_c=this,Vs=this),this._call=t,this._time=n,hu()},stop:function(){this._call&&(this._call=null,this._time=1/0,hu())}};function $0(t,e,n){var r=new Sc;return r.restart(t,e,n),r}function fm(){Du(),++os;for(var t=_c,e;t;)(e=yo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--os}function nh(){yo=(Nc=Qs.now())+Dc,os=$s=0;try{fm()}finally{os=0,dm(),yo=0}}function hm(){var t=Qs.now(),e=t-Nc;e>U0&&(Dc-=e,Nc=t)}function dm(){for(var t,e=_c,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:_c=n);Vs=t,hu(r)}function hu(t){if(!os){$s&&($s=clearTimeout($s));var e=t-yo;e>24?(t<1/0&&($s=setTimeout(nh,t-Qs.now()-Dc)),qs&&(qs=clearInterval(qs))):(qs||(Nc=Qs.now(),qs=setInterval(hm,U0)),os=1,H0(nh))}}function rh(t,e,n){var r=new Sc;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var pm=Tc("start","end","cancel","interrupt"),gm=[],V0=0,ih=1,du=2,lc=3,oh=4,pu=5,uc=6;function jc(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;mm(t,n,{name:e,index:r,group:i,on:pm,tween:gm,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:V0})}function ju(t,e){var n=Lr(t,e);if(n.state>V0)throw new Error("too late; already scheduled");return n}function Br(t,e){var n=Lr(t,e);if(n.state>lc)throw new Error("too late; already running");return n}function Lr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mm(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$0(o,0,n.time);function o(u){n.state=ih,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var h,p,m,d;if(n.state!==ih)return l();for(h in r)if(d=r[h],d.name===n.name){if(d.state===lc)return rh(s);d.state===oh?(d.state=uc,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[h]):+h<e&&(d.state=uc,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[h])}if(rh(function(){n.state===lc&&(n.state=oh,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=du,n.on.call("start",t,t.__data__,n.index,n.group),n.state===du){for(n.state=lc,i=new Array(m=n.tween.length),h=0,p=-1;h<m;++h)(d=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=d);i.length=p+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=pu,1),p=-1,m=i.length;++p<m;)i[p].call(t,h);n.state===pu&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=uc,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function fc(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>du&&r.state<pu,r.state=uc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function ym(t){return this.each(function(){fc(this,t)})}function vm(t,e){var n,r;return function(){var i=Br(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function wm(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Br(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function bm(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Lr(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?vm:wm)(n,t,e))}function Bu(t,e,n){var r=t._id;return t.each(function(){var i=Br(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Lr(i,r).value[e]}}function W0(t,e){var n;return(typeof e=="number"?Tr:e instanceof mo?xc:(n=mo(e))?(e=n,xc):B0)(t,e)}function xm(t){return function(){this.removeAttribute(t)}}function _m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nm(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Sm(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Am(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Lm(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function km(t,e){var n=Oc(t),r=n==="transform"?sm:W0;return this.attrTween(t,typeof e=="function"?(n.local?Lm:Am)(n,r,Bu(this,"attr."+t,e)):e==null?(n.local?_m:xm)(n):(n.local?Sm:Nm)(n,r,e))}function Em(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Cm(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pm(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Cm(t,o)),n}return i._value=e,i}function Im(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Em(t,o)),n}return i._value=e,i}function Mm(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Oc(t);return this.tween(n,(r.local?Pm:Im)(r,e))}function Fm(t,e){return function(){ju(this,t).delay=+e.apply(this,arguments)}}function Rm(t,e){return e=+e,function(){ju(this,t).delay=e}}function Tm(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fm:Rm)(e,t)):Lr(this.node(),e).delay}function Om(t,e){return function(){Br(this,t).duration=+e.apply(this,arguments)}}function Dm(t,e){return e=+e,function(){Br(this,t).duration=e}}function jm(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Om:Dm)(e,t)):Lr(this.node(),e).duration}function Bm(t,e){if(typeof e!="function")throw new Error;return function(){Br(this,t).ease=e}}function qm(t){var e=this._id;return arguments.length?this.each(Bm(e,t)):Lr(this.node(),e).ease}function zm(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Br(this,t).ease=n}}function Um(t){if(typeof t!="function")throw new Error;return this.each(zm(this._id,t))}function Hm(t){typeof t!="function"&&(t=N0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new hi(r,this._parents,this._name,this._id)}function $m(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=n[a],h=l.length,p=s[a]=new Array(h),m,d=0;d<h;++d)(m=l[d]||u[d])&&(p[d]=m);for(;a<r;++a)s[a]=e[a];return new hi(s,this._parents,this._name,this._id)}function Vm(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Wm(t,e,n){var r,i,o=Vm(e)?ju:Br;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Gm(t,e){var n=this._id;return arguments.length<2?Lr(this.node(),n).on.on(t):this.each(Wm(n,t,e))}function Ym(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Xm(){return this.on("end.remove",Ym(this._id))}function Zm(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fu(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),h,p,m=0;m<l;++m)(h=a[m])&&(p=t.call(h,h.__data__,m,a))&&("__data__"in h&&(p.__data__=h.__data__),u[m]=p,jc(u[m],e,n,m,u,Lr(h,n)));return new hi(o,this._parents,e,n)}function Km(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_0(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,h,p=0;p<u;++p)if(h=l[p]){for(var m=t.call(h,h.__data__,p,l),d,v=Lr(h,n),x=0,N=m.length;x<N;++x)(d=m[x])&&jc(d,e,n,x,m,v);o.push(m),s.push(h)}return new hi(o,s,e,n)}var Jm=ca.prototype.constructor;function Qm(){return new Jm(this._groups,this._parents)}function ty(t,e){var n,r,i;return function(){var o=is(this,t),s=(this.style.removeProperty(t),is(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function G0(t){return function(){this.style.removeProperty(t)}}function ey(t,e,n){var r,i=n+"",o;return function(){var s=is(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function ny(t,e,n){var r,i,o;return function(){var s=is(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),is(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function ry(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=Br(this,t),u=l.on,h=l.value[o]==null?a||(a=G0(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(s,i=h),l.on=r}}function iy(t,e,n){var r=(t+="")=="transform"?om:W0;return e==null?this.styleTween(t,ty(t,r)).on("end.style."+t,G0(t)):typeof e=="function"?this.styleTween(t,ny(t,r,Bu(this,"style."+t,e))).each(ry(this._id,t)):this.styleTween(t,ey(t,r,e),n).on("end.style."+t,null)}function oy(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function sy(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&oy(t,s,n)),r}return o._value=e,o}function ay(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sy(t,e,n??""))}function cy(t){return function(){this.textContent=t}}function ly(t){return function(){var e=t(this);this.textContent=e??""}}function uy(t){return this.tween("text",typeof t=="function"?ly(Bu(this,"text",t)):cy(t==null?"":t+""))}function fy(t){return function(e){this.textContent=t.call(this,e)}}function hy(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&fy(i)),e}return r._value=t,r}function dy(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hy(t))}function py(){for(var t=this._name,e=this._id,n=Y0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var h=Lr(l,e);jc(l,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new hi(r,this._parents,t,n)}function gy(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Br(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var my=0;function hi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Y0(){return++my}var si=ca.prototype;hi.prototype={constructor:hi,select:Zm,selectAll:Km,selectChild:si.selectChild,selectChildren:si.selectChildren,filter:Hm,merge:$m,selection:Qm,transition:py,call:si.call,nodes:si.nodes,node:si.node,size:si.size,empty:si.empty,each:si.each,on:Gm,attr:km,attrTween:Mm,style:iy,styleTween:ay,text:uy,textTween:dy,remove:Xm,tween:bm,delay:Tm,duration:jm,ease:qm,easeVarying:Um,end:gy,[Symbol.iterator]:si[Symbol.iterator]};function yy(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var vy={time:null,delay:0,duration:250,ease:yy};function wy(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function by(t){var e,n;t instanceof hi?(e=t._id,t=t._name):(e=Y0(),(n=vy).time=Du(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&jc(l,t,e,u,s,n||wy(l,e));return new hi(r,this._parents,t,e)}ca.prototype.interrupt=ym;ca.prototype.transition=by;const Ga=t=>()=>t;function xy(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ui(t,e,n){this.k=t,this.x=e,this.y=n}ui.prototype={constructor:ui,scale:function(t){return t===1?this:new ui(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ui(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bc=new ui(1,0,0);X0.prototype=ui.prototype;function X0(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Bc;return t.__zoom}function El(t){t.stopImmediatePropagation()}function zs(t){t.preventDefault(),t.stopImmediatePropagation()}function _y(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ny(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function sh(){return this.__zoom||Bc}function Sy(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ay(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ly(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Z0(){var t=_y,e=Ny,n=Ly,r=Sy,i=Ay,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=cc,u=Tc("start","zoom","end"),h,p,m,d=500,v=150,x=0,N=10;function w(k){k.property("__zoom",sh).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",J).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(k,B,U,Z){var $=k.selection?k.selection():k;$.property("__zoom",sh),k!==$?H(k,B,U,Z):$.interrupt().each(function(){G(this,arguments).event(Z).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},w.scaleBy=function(k,B,U,Z){w.scaleTo(k,function(){var $=this.__zoom.k,Q=typeof B=="function"?B.apply(this,arguments):B;return $*Q},U,Z)},w.scaleTo=function(k,B,U,Z){w.transform(k,function(){var $=e.apply(this,arguments),Q=this.__zoom,lt=U==null?A($):typeof U=="function"?U.apply(this,arguments):U,at=Q.invert(lt),L=typeof B=="function"?B.apply(this,arguments):B;return n(_(M(Q,L),lt,at),$,s)},U,Z)},w.translateBy=function(k,B,U,Z){w.transform(k,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),s)},null,Z)},w.translateTo=function(k,B,U,Z,$){w.transform(k,function(){var Q=e.apply(this,arguments),lt=this.__zoom,at=Z==null?A(Q):typeof Z=="function"?Z.apply(this,arguments):Z;return n(Bc.translate(at[0],at[1]).scale(lt.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof U=="function"?-U.apply(this,arguments):-U),Q,s)},Z,$)};function M(k,B){return B=Math.max(o[0],Math.min(o[1],B)),B===k.k?k:new ui(B,k.x,k.y)}function _(k,B,U){var Z=B[0]-U[0]*k.k,$=B[1]-U[1]*k.k;return Z===k.x&&$===k.y?k:new ui(k.k,Z,$)}function A(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function H(k,B,U,Z){k.on("start.zoom",function(){G(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(Z).end()}).tween("zoom",function(){var $=this,Q=arguments,lt=G($,Q).event(Z),at=e.apply($,Q),L=U==null?A(at):typeof U=="function"?U.apply($,Q):U,O=Math.max(at[1][0]-at[0][0],at[1][1]-at[0][1]),V=$.__zoom,tt=typeof B=="function"?B.apply($,Q):B,et=l(V.invert(L).concat(O/V.k),tt.invert(L).concat(O/tt.k));return function(ot){if(ot===1)ot=tt;else{var it=et(ot),ut=O/it[2];ot=new ui(ut,L[0]-it[0]*ut,L[1]-it[1]*ut)}lt.zoom(null,ot)}})}function G(k,B,U){return!U&&k.__zooming||new W(k,B)}function W(k,B){this.that=k,this.args=B,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,B),this.taps=0}W.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,B){return this.mouse&&k!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var B=Jn(this.that).datum();u.call(k,this.that,new xy(k,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:u}),B)}};function D(k,...B){if(!t.apply(this,arguments))return;var U=G(this,B).event(k),Z=this.__zoom,$=Math.max(o[0],Math.min(o[1],Z.k*Math.pow(2,r.apply(this,arguments)))),Q=xr(k);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=Z.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(Z.k===$)return;U.mouse=[Q,Z.invert(Q)],fc(this),U.start()}zs(k),U.wheel=setTimeout(lt,v),U.zoom("mouse",n(_(M(Z,$),U.mouse[0],U.mouse[1]),U.extent,s));function lt(){U.wheel=null,U.end()}}function I(k,...B){if(m||!t.apply(this,arguments))return;var U=k.currentTarget,Z=G(this,B,!0).event(k),$=Jn(k.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",O,!0),Q=xr(k,U),lt=k.clientX,at=k.clientY;F0(k.view),El(k),Z.mouse=[Q,this.__zoom.invert(Q)],fc(this),Z.start();function L(V){if(zs(V),!Z.moved){var tt=V.clientX-lt,et=V.clientY-at;Z.moved=tt*tt+et*et>x}Z.event(V).zoom("mouse",n(_(Z.that.__zoom,Z.mouse[0]=xr(V,U),Z.mouse[1]),Z.extent,s))}function O(V){$.on("mousemove.zoom mouseup.zoom",null),R0(V.view,Z.moved),zs(V),Z.event(V).end()}}function J(k,...B){if(t.apply(this,arguments)){var U=this.__zoom,Z=xr(k.changedTouches?k.changedTouches[0]:k,this),$=U.invert(Z),Q=U.k*(k.shiftKey?.5:2),lt=n(_(M(U,Q),Z,$),e.apply(this,B),s);zs(k),a>0?Jn(this).transition().duration(a).call(H,lt,Z,k):Jn(this).call(w.transform,lt,Z,k)}}function S(k,...B){if(t.apply(this,arguments)){var U=k.touches,Z=U.length,$=G(this,B,k.changedTouches.length===Z).event(k),Q,lt,at,L;for(El(k),lt=0;lt<Z;++lt)at=U[lt],L=xr(at,this),L=[L,this.__zoom.invert(L),at.identifier],$.touch0?!$.touch1&&$.touch0[2]!==L[2]&&($.touch1=L,$.taps=0):($.touch0=L,Q=!0,$.taps=1+!!h);h&&(h=clearTimeout(h)),Q&&($.taps<2&&(p=L[0],h=setTimeout(function(){h=null},d)),fc(this),$.start())}}function E(k,...B){if(this.__zooming){var U=G(this,B).event(k),Z=k.changedTouches,$=Z.length,Q,lt,at,L;for(zs(k),Q=0;Q<$;++Q)lt=Z[Q],at=xr(lt,this),U.touch0&&U.touch0[2]===lt.identifier?U.touch0[0]=at:U.touch1&&U.touch1[2]===lt.identifier&&(U.touch1[0]=at);if(lt=U.that.__zoom,U.touch1){var O=U.touch0[0],V=U.touch0[1],tt=U.touch1[0],et=U.touch1[1],ot=(ot=tt[0]-O[0])*ot+(ot=tt[1]-O[1])*ot,it=(it=et[0]-V[0])*it+(it=et[1]-V[1])*it;lt=M(lt,Math.sqrt(ot/it)),at=[(O[0]+tt[0])/2,(O[1]+tt[1])/2],L=[(V[0]+et[0])/2,(V[1]+et[1])/2]}else if(U.touch0)at=U.touch0[0],L=U.touch0[1];else return;U.zoom("touch",n(_(lt,at,L),U.extent,s))}}function j(k,...B){if(this.__zooming){var U=G(this,B).event(k),Z=k.changedTouches,$=Z.length,Q,lt;for(El(k),m&&clearTimeout(m),m=setTimeout(function(){m=null},d),Q=0;Q<$;++Q)lt=Z[Q],U.touch0&&U.touch0[2]===lt.identifier?delete U.touch0:U.touch1&&U.touch1[2]===lt.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(lt=xr(lt,this),Math.hypot(p[0]-lt[0],p[1]-lt[1])<N)){var at=Jn(this).on("dblclick.zoom");at&&at.apply(this,arguments)}}}return w.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Ga(+k),w):r},w.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Ga(!!k),w):t},w.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:Ga(!!k),w):i},w.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Ga([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),w):e},w.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],w):[o[0],o[1]]},w.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(k){return arguments.length?(n=k,w):n},w.duration=function(k){return arguments.length?(a=+k,w):a},w.interpolate=function(k){return arguments.length?(l=k,w):l},w.on=function(){var k=u.on.apply(u,arguments);return k===u?w:k},w.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,w):Math.sqrt(x)},w.tapDistance=function(k){return arguments.length?(N=+k,w):N},w}const jr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ta=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],K0=["Enter"," ","Escape"],J0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ss;(function(t){t.Strict="strict",t.Loose="loose"})(ss||(ss={}));var ho;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ho||(ho={}));var ea;(function(t){t.Partial="partial",t.Full="full"})(ea||(ea={}));const Q0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ji;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ji||(ji={}));var Ac;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ac||(Ac={}));var Wt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Wt||(Wt={}));const ah={[Wt.Left]:Wt.Right,[Wt.Right]:Wt.Left,[Wt.Top]:Wt.Bottom,[Wt.Bottom]:Wt.Top};function t1(t){return t===null?null:t?"valid":"invalid"}const e1=t=>"id"in t&&"source"in t&&"target"in t,ky=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),qu=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),ua=(t,e=[0,0])=>{const{width:n,height:r}=di(t),i=t.origin??e,o=n*i[0],s=r*i[1];return{x:t.position.x-o,y:t.position.y-s}},Ey=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let s=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(s=o?e.nodeLookup.get(i):qu(i)?i:e.nodeLookup.get(i.id));const a=s?Lc(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return qc(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return zc(n)},fa=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=qc(n,Lc(i)),r=!0)}),r?zc(n):{x:0,y:0,width:0,height:0}},zu=(t,e,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...da(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:h,selectable:p=!0,hidden:m=!1}=u;if(s&&!p||m)continue;const d=h.width??u.width??u.initialWidth??null,v=h.height??u.height??u.initialHeight??null,x=na(a,cs(u)),N=(d??0)*(v??0),w=o&&x>0;(!u.internals.handleBounds||w||x>=N||u.dragging)&&l.push(u)}return l},Cy=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function Py(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Iy({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(t.size===0)return Promise.resolve(!0);const a=Py(t,s),l=fa(a),u=Uu(l,e,n,s?.minZoom??i,s?.maxZoom??o,s?.padding??.1);return await r.setViewport(u,{duration:s?.duration,ease:s?.ease,interpolate:s?.interpolate}),Promise.resolve(!0)}function n1({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(t),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},h=s.origin??r;let p=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o?.("005",jr.error005());else{const d=a.measured.width,v=a.measured.height;d&&v&&(p=[[l,u],[l+d,u+v]])}else a&&ls(s.extent)&&(p=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const m=ls(p)?vo(e,p,s.measured):e;return(s.measured.width===void 0||s.measured.height===void 0)&&o?.("015",jr.error015()),{position:{x:m.x-l+(s.measured.width??0)*h[0],y:m.y-u+(s.measured.height??0)*h[1]},positionAbsolute:m}}async function My({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(m=>m.id)),s=[];for(const m of n){if(m.deletable===!1)continue;const d=o.has(m.id),v=!d&&m.parentId&&s.find(x=>x.id===m.parentId);(d||v)&&s.push(m)}const a=new Set(e.map(m=>m.id)),l=r.filter(m=>m.deletable!==!1),h=Cy(s,l);for(const m of l)a.has(m.id)&&!h.find(v=>v.id===m.id)&&h.push(m);if(!i)return{edges:h,nodes:s};const p=await i({nodes:s,edges:h});return typeof p=="boolean"?p?{edges:h,nodes:s}:{edges:[],nodes:[]}:p}const as=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),vo=(t={x:0,y:0},e,n)=>({x:as(t.x,e[0][0],e[1][0]-(n?.width??0)),y:as(t.y,e[0][1],e[1][1]-(n?.height??0))});function r1(t,e,n){const{width:r,height:i}=di(n),{x:o,y:s}=n.internals.positionAbsolute;return vo(t,[[o,s],[o+r,s+i]],e)}const ch=(t,e,n)=>t<e?as(Math.abs(t-e),1,e)/e:t>n?-as(Math.abs(t-n),1,e)/e:0,i1=(t,e,n=15,r=40)=>{const i=ch(t.x,r,e.width-r)*n,o=ch(t.y,r,e.height-r)*n;return[i,o]},qc=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),gu=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),zc=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),cs=(t,e=[0,0])=>{const{x:n,y:r}=qu(t)?t.internals.positionAbsolute:ua(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Lc=(t,e=[0,0])=>{const{x:n,y:r}=qu(t)?t.internals.positionAbsolute:ua(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},o1=(t,e)=>zc(qc(gu(t),gu(e))),na=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},lh=t=>Nr(t.width)&&Nr(t.height)&&Nr(t.x)&&Nr(t.y),Nr=t=>!isNaN(t)&&isFinite(t),Fy=(t,e)=>{},ha=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),da=({x:t,y:e},[n,r,i],o=!1,s=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return o?ha(a,s):a},kc=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function zo(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Ry(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=zo(t,n),i=zo(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=zo(t.top??t.y??0,n),i=zo(t.bottom??t.y??0,n),o=zo(t.left??t.x??0,e),s=zo(t.right??t.x??0,e);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Ty(t,e,n,r,i,o){const{x:s,y:a}=kc(t,[e,n,r]),{x:l,y:u}=kc({x:t.x+t.width,y:t.y+t.height},[e,n,r]),h=i-l,p=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(h),bottom:Math.floor(p)}}const Uu=(t,e,n,r,i,o)=>{const s=Ry(o,e,n),a=(e-s.x)/t.width,l=(n-s.y)/t.height,u=Math.min(a,l),h=as(u,r,i),p=t.x+t.width/2,m=t.y+t.height/2,d=e/2-p*h,v=n/2-m*h,x=Ty(t,d,v,h,e,n),N={left:Math.min(x.left-s.left,0),top:Math.min(x.top-s.top,0),right:Math.min(x.right-s.right,0),bottom:Math.min(x.bottom-s.bottom,0)};return{x:d-N.left+N.right,y:v-N.top+N.bottom,zoom:h}},ra=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ls(t){return t!=null&&t!=="parent"}function di(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function s1(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function a1(t,e={width:0,height:0},n,r,i){const o={...t},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(e.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(e.height??0)*a[1]}return o}function uh(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Oy(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Dy(t){return{...J0,...t||{}}}function Gs(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Sr(t),a=da({x:o-(i?.left??0),y:s-(i?.top??0)},r),{x:l,y:u}=n?ha(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const Hu=t=>({width:t.offsetWidth,height:t.offsetHeight}),c1=t=>t?.getRootNode?.()||window?.document,jy=["INPUT","SELECT","TEXTAREA"];function l1(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:jy.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const u1=t=>"clientX"in t,Sr=(t,e)=>{const n=u1(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},fh=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Hu(s)}})};function f1({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=t*.125+i*.375+s*.375+n*.125,u=e*.125+o*.375+a*.375+r*.125,h=Math.abs(l-t),p=Math.abs(u-e);return[l,u,h,p]}function Ya(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function hh({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case Wt.Left:return[e-Ya(e-r,o),n];case Wt.Right:return[e+Ya(r-e,o),n];case Wt.Top:return[e,n-Ya(n-i,o)];case Wt.Bottom:return[e,n+Ya(i-n,o)]}}function $u({sourceX:t,sourceY:e,sourcePosition:n=Wt.Bottom,targetX:r,targetY:i,targetPosition:o=Wt.Top,curvature:s=.25}){const[a,l]=hh({pos:n,x1:t,y1:e,x2:r,y2:i,c:s}),[u,h]=hh({pos:o,x1:r,y1:i,x2:t,y2:e,c:s}),[p,m,d,v]=f1({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:h});return[`M${t},${e} C${a},${l} ${u},${h} ${r},${i}`,p,m,d,v]}function h1({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,s=Math.abs(r-e)/2,a=r<e?r+s:r-s;return[o,a,i,s]}function By({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return s+a}function qy({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=qc(Lc(t),Lc(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return na(s,zc(o))>0}const zy=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Uy=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Hy=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||zy;let i;return e1(t)?i={...t}:i={...t,id:r(t)},Uy(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function d1({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,s,a]=h1({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,s,a]}const dh={[Wt.Left]:{x:-1,y:0},[Wt.Right]:{x:1,y:0},[Wt.Top]:{x:0,y:-1},[Wt.Bottom]:{x:0,y:1}},$y=({source:t,sourcePosition:e=Wt.Bottom,target:n})=>e===Wt.Left||e===Wt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},ph=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Vy({source:t,sourcePosition:e=Wt.Bottom,target:n,targetPosition:r=Wt.Top,center:i,offset:o,stepPosition:s}){const a=dh[e],l=dh[r],u={x:t.x+a.x*o,y:t.y+a.y*o},h={x:n.x+l.x*o,y:n.y+l.y*o},p=$y({source:u,sourcePosition:e,target:h}),m=p.x!==0?"x":"y",d=p[m];let v=[],x,N;const w={x:0,y:0},M={x:0,y:0},[,,_,A]=h1({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[m]*l[m]===-1){m==="x"?(x=i.x??u.x+(h.x-u.x)*s,N=i.y??(u.y+h.y)/2):(x=i.x??(u.x+h.x)/2,N=i.y??u.y+(h.y-u.y)*s);const G=[{x,y:u.y},{x,y:h.y}],W=[{x:u.x,y:N},{x:h.x,y:N}];a[m]===d?v=m==="x"?G:W:v=m==="x"?W:G}else{const G=[{x:u.x,y:h.y}],W=[{x:h.x,y:u.y}];if(m==="x"?v=a.x===d?W:G:v=a.y===d?G:W,e===r){const E=Math.abs(t[m]-n[m]);if(E<=o){const j=Math.min(o-1,o-E);a[m]===d?w[m]=(u[m]>t[m]?-1:1)*j:M[m]=(h[m]>n[m]?-1:1)*j}}if(e!==r){const E=m==="x"?"y":"x",j=a[m]===l[E],k=u[E]>h[E],B=u[E]<h[E];(a[m]===1&&(!j&&k||j&&B)||a[m]!==1&&(!j&&B||j&&k))&&(v=m==="x"?G:W)}const D={x:u.x+w.x,y:u.y+w.y},I={x:h.x+M.x,y:h.y+M.y},J=Math.max(Math.abs(D.x-v[0].x),Math.abs(I.x-v[0].x)),S=Math.max(Math.abs(D.y-v[0].y),Math.abs(I.y-v[0].y));J>=S?(x=(D.x+I.x)/2,N=v[0].y):(x=v[0].x,N=(D.y+I.y)/2)}return[[t,{x:u.x+w.x,y:u.y+w.y},...v,{x:h.x+M.x,y:h.y+M.y},n],x,N,_,A]}function Wy(t,e,n,r){const i=Math.min(ph(t,e)/2,ph(e,n)/2,r),{x:o,y:s}=e;if(t.x===o&&o===n.x||t.y===s&&s===n.y)return`L${o} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*h}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function mu({sourceX:t,sourceY:e,sourcePosition:n=Wt.Bottom,targetX:r,targetY:i,targetPosition:o=Wt.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20,stepPosition:h=.5}){const[p,m,d,v,x]=Vy({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u,stepPosition:h});return[p.reduce((w,M,_)=>{let A="";return _>0&&_<p.length-1?A=Wy(p[_-1],M,p[_+1],s):A=`${_===0?"M":"L"}${M.x} ${M.y}`,w+=A,w},""),m,d,v,x]}function gh(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Gy(t){const{sourceNode:e,targetNode:n}=t;if(!gh(e)||!gh(n))return null;const r=e.internals.handleBounds||mh(e.handles),i=n.internals.handleBounds||mh(n.handles),o=yh(r?.source??[],t.sourceHandle),s=yh(t.connectionMode===ss.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!o||!s)return t.onError?.("008",jr.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=o?.position||Wt.Bottom,l=s?.position||Wt.Top,u=wo(e,o,a),h=wo(n,s,l);return{sourceX:u.x,sourceY:u.y,targetX:h.x,targetY:h.y,sourcePosition:a,targetPosition:l}}function mh(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function wo(t,e,n=Wt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,o=(e?.y??0)+t.internals.positionAbsolute.y,{width:s,height:a}=e??di(t);if(r)return{x:i+s/2,y:o+a/2};switch(e?.position??n){case Wt.Top:return{x:i+s/2,y:o};case Wt.Right:return{x:i+s,y:o+a/2};case Wt.Bottom:return{x:i+s/2,y:o+a};case Wt.Left:return{x:i,y:o+a/2}}}function yh(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function yu(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function Yy(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=yu(l,e);o.has(u)||(s.push({id:u,color:l.color||n,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const p1=1e3,Xy=10,Vu={nodeOrigin:[0,0],nodeExtent:ta,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Zy={...Vu,checkEquality:!0};function Wu(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function Ky(t,e,n){const r=Wu(Vu,n);for(const i of t.values())if(i.parentId)Yu(i,t,e,r);else{const o=ua(i,r.nodeOrigin),s=ls(i.extent)?i.extent:r.nodeExtent,a=vo(o,s,di(i));i.internals.positionAbsolute=a}}function Jy(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function Gu(t){return t==="manual"}function vu(t,e,n,r={}){const i=Wu(Zy,r),o={i:0},s=new Map(e),a=i?.elevateNodesOnSelect&&!Gu(i.zIndexMode)?p1:0;let l=t.length>0;e.clear(),n.clear();for(const u of t){let h=s.get(u.id);if(i.checkEquality&&u===h?.internals.userNode)e.set(u.id,h);else{const p=ua(u,i.nodeOrigin),m=ls(u.extent)?u.extent:i.nodeExtent,d=vo(p,m,di(u));h={...i.defaults,...u,measured:{width:u.measured?.width,height:u.measured?.height},internals:{positionAbsolute:d,handleBounds:Jy(u,h),z:g1(u,a,i.zIndexMode),userNode:u}},e.set(u.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(l=!1),u.parentId&&Yu(h,e,n,r,o)}return l}function Qy(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Yu(t,e,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:l}=Wu(Vu,r),u=t.parentId,h=e.get(u);if(!h){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Qy(t,n),i&&!h.parentId&&h.internals.rootParentIndex===void 0&&l==="auto"&&(h.internals.rootParentIndex=++i.i,h.internals.z=h.internals.z+i.i*Xy),i&&h.internals.rootParentIndex!==void 0&&(i.i=h.internals.rootParentIndex);const p=o&&!Gu(l)?p1:0,{x:m,y:d,z:v}=tv(t,h,s,a,p,l),{positionAbsolute:x}=t.internals,N=m!==x.x||d!==x.y;(N||v!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:N?{x:m,y:d}:x,z:v}})}function g1(t,e,n){const r=Nr(t.zIndex)?t.zIndex:0;return Gu(n)?r:r+(t.selected?e:0)}function tv(t,e,n,r,i,o){const{x:s,y:a}=e.internals.positionAbsolute,l=di(t),u=ua(t,n),h=ls(t.extent)?vo(u,t.extent,l):u;let p=vo({x:s+h.x,y:a+h.y},r,l);t.extent==="parent"&&(p=r1(p,l,e));const m=g1(t,i,o),d=e.internals.z??0;return{x:p.x,y:p.y,z:d>=m?d+1:m}}function Xu(t,e,n,r=[0,0]){const i=[],o=new Map;for(const s of t){const a=e.get(s.parentId);if(!a)continue;const l=o.get(s.parentId)?.expandedRect??cs(a),u=o1(l,s.rect);o.set(s.parentId,{expandedRect:u,parent:a})}return o.size>0&&o.forEach(({expandedRect:s,parent:a},l)=>{const u=a.internals.positionAbsolute,h=di(a),p=a.origin??r,m=s.x<u.x?Math.round(Math.abs(u.x-s.x)):0,d=s.y<u.y?Math.round(Math.abs(u.y-s.y)):0,v=Math.max(h.width,Math.round(s.width)),x=Math.max(h.height,Math.round(s.height)),N=(v-h.width)*p[0],w=(x-h.height)*p[1];(m>0||d>0||N||w)&&(i.push({id:l,type:"position",position:{x:a.position.x-m+N,y:a.position.y-d+w}}),n.get(l)?.forEach(M=>{t.some(_=>_.id===M.id)||i.push({id:M.id,type:"position",position:{x:M.position.x+m,y:M.position.y+d}})})),(h.width<s.width||h.height<s.height||m||d)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:v+(m?p[0]*m-N:0),height:x+(d?p[1]*d-w:0)}})}),i}function ev(t,e,n,r,i,o,s){const a=r?.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],h=window.getComputedStyle(a),{m22:p}=new window.DOMMatrixReadOnly(h.transform),m=[];for(const d of t.values()){const v=e.get(d.id);if(!v)continue;if(v.hidden){e.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),l=!0;continue}const x=Hu(d.nodeElement),N=v.measured.width!==x.width||v.measured.height!==x.height;if(!!(x.width&&x.height&&(N||!v.internals.handleBounds||d.force))){const M=d.nodeElement.getBoundingClientRect(),_=ls(v.extent)?v.extent:o;let{positionAbsolute:A}=v.internals;v.parentId&&v.extent==="parent"?A=r1(A,x,e.get(v.parentId)):_&&(A=vo(A,_,x));const H={...v,measured:x,internals:{...v.internals,positionAbsolute:A,handleBounds:{source:fh("source",d.nodeElement,M,p,v.id),target:fh("target",d.nodeElement,M,p,v.id)}}};e.set(v.id,H),v.parentId&&Yu(H,e,n,{nodeOrigin:i,zIndexMode:s}),l=!0,N&&(u.push({id:v.id,type:"dimensions",dimensions:x}),v.expandParent&&v.parentId&&m.push({id:v.id,parentId:v.parentId,rect:cs(H,i)}))}}if(m.length>0){const d=Xu(m,e,n,i);u.push(...d)}return{changes:u,updatedInternals:l}}async function nv({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function vh(t,e,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,e)),s=`${i}-${t}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,e)),o){s=`${i}-${t}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,e))}}function m1(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,h=`${o}-${a}--${i}-${s}`;vh("source",l,h,t,i,s),vh("target",l,u,t,o,a),e.set(r.id,r)}}function y1(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:y1(n,e):!1}function wh(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function rv(t,e,n,r){const i=new Map;for(const[o,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!y1(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const a=t.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function Cl({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[s,a]of e){const l=n.get(s)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!t)return[i[0],i];const o=n.get(t)?.internals.userNode;return[o?{...o,position:e.get(t)?.position||o.position,dragging:r}:i[0],i]}function iv({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=ha(o,e);return{x:s.x-o.x,y:s.y-o.y}}function ov({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},h=null,p=!1,m=null,d=!1,v=!1,x=null;function N({noDragClassName:M,handleSelector:_,domNode:A,isSelectable:H,nodeId:G,nodeClickDistance:W=0}){m=Jn(A);function D({x:E,y:j}){const{nodeLookup:k,nodeExtent:B,snapGrid:U,snapToGrid:Z,nodeOrigin:$,onNodeDrag:Q,onSelectionDrag:lt,onError:at,updateNodePositions:L}=e();o={x:E,y:j};let O=!1;const V=a.size>1,tt=V&&B?gu(fa(a)):null,et=V&&Z?iv({dragItems:a,snapGrid:U,x:E,y:j}):null;for(const[ot,it]of a){if(!k.has(ot))continue;let ut={x:E-it.distance.x,y:j-it.distance.y};Z&&(ut=et?{x:Math.round(ut.x+et.x),y:Math.round(ut.y+et.y)}:ha(ut,U));let gt=null;if(V&&B&&!it.extent&&tt){const{positionAbsolute:Nt}=it.internals,Ct=Nt.x-tt.x+B[0][0],q=Nt.x+it.measured.width-tt.x2+B[1][0],kt=Nt.y-tt.y+B[0][1],Gt=Nt.y+it.measured.height-tt.y2+B[1][1];gt=[[Ct,kt],[q,Gt]]}const{position:mt,positionAbsolute:xt}=n1({nodeId:ot,nextPosition:ut,nodeLookup:k,nodeExtent:gt||B,nodeOrigin:$,onError:at});O=O||it.position.x!==mt.x||it.position.y!==mt.y,it.position=mt,it.internals.positionAbsolute=xt}if(v=v||O,!!O&&(L(a,!0),x&&(r||Q||!G&&lt))){const[ot,it]=Cl({nodeId:G,dragItems:a,nodeLookup:k});r?.(x,a,ot,it),Q?.(x,ot,it),G||lt?.(x,it)}}async function I(){if(!h)return;const{transform:E,panBy:j,autoPanSpeed:k,autoPanOnNodeDrag:B}=e();if(!B){l=!1,cancelAnimationFrame(s);return}const[U,Z]=i1(u,h,k);(U!==0||Z!==0)&&(o.x=(o.x??0)-U/E[2],o.y=(o.y??0)-Z/E[2],await j({x:U,y:Z})&&D(o)),s=requestAnimationFrame(I)}function J(E){const{nodeLookup:j,multiSelectionActive:k,nodesDraggable:B,transform:U,snapGrid:Z,snapToGrid:$,selectNodesOnDrag:Q,onNodeDragStart:lt,onSelectionDragStart:at,unselectNodesAndEdges:L}=e();p=!0,(!Q||!H)&&!k&&G&&(j.get(G)?.selected||L()),H&&Q&&G&&t?.(G);const O=Gs(E.sourceEvent,{transform:U,snapGrid:Z,snapToGrid:$,containerBounds:h});if(o=O,a=rv(j,B,O,G),a.size>0&&(n||lt||!G&&at)){const[V,tt]=Cl({nodeId:G,dragItems:a,nodeLookup:j});n?.(E.sourceEvent,a,V,tt),lt?.(E.sourceEvent,V,tt),G||at?.(E.sourceEvent,tt)}}const S=T0().clickDistance(W).on("start",E=>{const{domNode:j,nodeDragThreshold:k,transform:B,snapGrid:U,snapToGrid:Z}=e();h=j?.getBoundingClientRect()||null,d=!1,v=!1,x=E.sourceEvent,k===0&&J(E),o=Gs(E.sourceEvent,{transform:B,snapGrid:U,snapToGrid:Z,containerBounds:h}),u=Sr(E.sourceEvent,h)}).on("drag",E=>{const{autoPanOnNodeDrag:j,transform:k,snapGrid:B,snapToGrid:U,nodeDragThreshold:Z,nodeLookup:$}=e(),Q=Gs(E.sourceEvent,{transform:k,snapGrid:B,snapToGrid:U,containerBounds:h});if(x=E.sourceEvent,(E.sourceEvent.type==="touchmove"&&E.sourceEvent.touches.length>1||G&&!$.has(G))&&(d=!0),!d){if(!l&&j&&p&&(l=!0,I()),!p){const lt=Sr(E.sourceEvent,h),at=lt.x-u.x,L=lt.y-u.y;Math.sqrt(at*at+L*L)>Z&&J(E)}(o.x!==Q.xSnapped||o.y!==Q.ySnapped)&&a&&p&&(u=Sr(E.sourceEvent,h),D(Q))}}).on("end",E=>{if(!(!p||d)&&(l=!1,p=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:j,updateNodePositions:k,onNodeDragStop:B,onSelectionDragStop:U}=e();if(v&&(k(a,!1),v=!1),i||B||!G&&U){const[Z,$]=Cl({nodeId:G,dragItems:a,nodeLookup:j,dragging:!1});i?.(E.sourceEvent,a,Z,$),B?.(E.sourceEvent,Z,$),G||U?.(E.sourceEvent,$)}}}).filter(E=>{const j=E.target;return!E.button&&(!M||!wh(j,`.${M}`,A))&&(!_||wh(j,_,A))});m.call(S)}function w(){m?.on(".drag",null)}return{update:N,destroy:w}}function sv(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())na(i,cs(o))>0&&r.push(o);return r}const av=250;function cv(t,e,n,r){let i=[],o=1/0;const s=sv(t,n,e+av);for(const a of s){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const u of l){if(r.nodeId===u.nodeId&&r.type===u.type&&r.id===u.id)continue;const{x:h,y:p}=wo(a,u,u.position,!0),m=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...u,x:h,y:p}],o=m):m===o&&i.push({...u,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function v1(t,e,n,r,i,o=!1){const s=r.get(t);if(!s)return null;const a=i==="strict"?s.internals.handleBounds?.[e]:[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]],l=(n?a?.find(u=>u.id===n):a?.[0])??null;return l&&o?{...l,...wo(s,l,l.position,!0)}:l}function w1(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function lv(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const b1=()=>!0;function uv(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:h,flowId:p,panBy:m,cancelConnection:d,onConnectStart:v,onConnect:x,onConnectEnd:N,isValidConnection:w=b1,onReconnectEnd:M,updateConnection:_,getTransform:A,getFromHandle:H,autoPanSpeed:G,dragThreshold:W=1,handleDomNode:D}){const I=c1(t.target);let J=0,S;const{x:E,y:j}=Sr(t),k=w1(o,D),B=a?.getBoundingClientRect();let U=!1;if(!B||!k)return;const Z=v1(i,k,r,l,e);if(!Z)return;let $=Sr(t,B),Q=!1,lt=null,at=!1,L=null;function O(){if(!h||!B)return;const[mt,xt]=i1($,B,G);m({x:mt,y:xt}),J=requestAnimationFrame(O)}const V={...Z,nodeId:i,type:k,position:Z.position},tt=l.get(i);let ot={inProgress:!0,isValid:null,from:wo(tt,V,Wt.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:tt,to:$,toHandle:null,toPosition:ah[V.position],toNode:null,pointer:$};function it(){U=!0,_(ot),v?.(t,{nodeId:i,handleId:r,handleType:k})}W===0&&it();function ut(mt){if(!U){const{x:Gt,y:jt}=Sr(mt),St=Gt-E,qt=jt-j;if(!(St*St+qt*qt>W*W))return;it()}if(!H()||!V){gt(mt);return}const xt=A();$=Sr(mt,B),S=cv(da($,xt,!1,[1,1]),n,l,V),Q||(O(),Q=!0);const Nt=x1(mt,{handle:S,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:w,doc:I,lib:u,flowId:p,nodeLookup:l});L=Nt.handleDomNode,lt=Nt.connection,at=lv(!!S,Nt.isValid);const Ct=l.get(i),q=Ct?wo(Ct,V,Wt.Left,!0):ot.from,kt={...ot,from:q,isValid:at,to:Nt.toHandle&&at?kc({x:Nt.toHandle.x,y:Nt.toHandle.y},xt):$,toHandle:Nt.toHandle,toPosition:at&&Nt.toHandle?Nt.toHandle.position:ah[V.position],toNode:Nt.toHandle?l.get(Nt.toHandle.nodeId):null,pointer:$};_(kt),ot=kt}function gt(mt){if(!("touches"in mt&&mt.touches.length>0)){if(U){(S||L)&&lt&&at&&x?.(lt);const{inProgress:xt,...Nt}=ot,Ct={...Nt,toPosition:ot.toHandle?ot.toPosition:null};N?.(mt,Ct),o&&M?.(mt,Ct)}d(),cancelAnimationFrame(J),Q=!1,at=!1,lt=null,L=null,I.removeEventListener("mousemove",ut),I.removeEventListener("mouseup",gt),I.removeEventListener("touchmove",ut),I.removeEventListener("touchend",gt)}}I.addEventListener("mousemove",ut),I.addEventListener("mouseup",gt),I.addEventListener("touchmove",ut),I.addEventListener("touchend",gt)}function x1(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=b1,nodeLookup:h}){const p=o==="target",m=e?s.querySelector(`.${a}-flow__handle[data-id="${l}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:d,y:v}=Sr(t),x=s.elementFromPoint(d,v),N=x?.classList.contains(`${a}-flow__handle`)?x:m,w={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const M=w1(void 0,N),_=N.getAttribute("data-nodeid"),A=N.getAttribute("data-handleid"),H=N.classList.contains("connectable"),G=N.classList.contains("connectableend");if(!_||!M)return w;const W={source:p?_:r,sourceHandle:p?A:i,target:p?r:_,targetHandle:p?i:A};w.connection=W;const I=H&&G&&(n===ss.Strict?p&&M==="source"||!p&&M==="target":_!==r||A!==i);w.isValid=I&&u(W),w.toHandle=v1(_,M,A,h,n,!0)}return w}const wu={onPointerDown:uv,isValid:x1};function fv({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Jn(t);function o({translateExtent:a,width:l,height:u,zoomStep:h=1,pannable:p=!0,zoomable:m=!0,inversePan:d=!1}){const v=_=>{if(_.sourceEvent.type!=="wheel"||!e)return;const A=n(),H=_.sourceEvent.ctrlKey&&ra()?10:1,G=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*h,W=A[2]*Math.pow(2,G*H);e.scaleTo(W)};let x=[0,0];const N=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(x=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},w=_=>{const A=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const H=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],G=[H[0]-x[0],H[1]-x[1]];x=H;const W=r()*Math.max(A[2],Math.log(A[2]))*(d?-1:1),D={x:A[0]-G[0]*W,y:A[1]-G[1]*W},I=[[0,0],[l,u]];e.setViewportConstrained({x:D.x,y:D.y,zoom:A[2]},I,a)},M=Z0().on("start",N).on("zoom",p?w:null).on("zoom.wheel",m?v:null);i.call(M,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:xr}}const Uc=t=>({x:t.x,y:t.y,zoom:t.k}),Pl=({x:t,y:e,zoom:n})=>Bc.translate(t,e).scale(n),Xo=(t,e)=>t.target.closest(`.${e}`),_1=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),hv=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Il=(t,e=0,n=hv,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},N1=t=>{const e=t.ctrlKey&&ra()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function dv({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return h=>{if(Xo(h,e))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(h.ctrlKey&&s){const N=xr(h),w=N1(h),M=p*Math.pow(2,w);r.scaleTo(n,M,N,h);return}const m=h.deltaMode===1?20:1;let d=i===ho.Vertical?0:h.deltaX*m,v=i===ho.Horizontal?0:h.deltaY*m;!ra()&&h.shiftKey&&i!==ho.Vertical&&(d=h.deltaY*m,v=0),r.translateBy(n,-(d/p)*o,-(v/p)*o,{internal:!0});const x=Uc(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(l?.(h,x),t.panScrollTimeout=setTimeout(()=>{u?.(h,x),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,a?.(h,x))}}function pv({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!e&&o&&!r.ctrlKey,a=Xo(r,t);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function gv({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Uc(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function mv({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{t.usedRightMouseButton=!!(n&&_1(e,t.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!o.sourceEvent?.internal&&i?.(o.sourceEvent,Uc(o.transform))}}function yv({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{if(!s.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,o&&_1(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const a=Uc(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(s.sourceEvent,a)},n?150:0)}}}function vv({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u,connectionInProgress:h}){return p=>{const m=t||e,d=n&&p.ctrlKey,v=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Xo(p,`${u}-flow__node`)||Xo(p,`${u}-flow__edge`)))return!0;if(!r&&!m&&!i&&!o&&!n||s||h&&!v||Xo(p,a)&&v||Xo(p,l)&&(!v||i&&v&&!t)||!n&&p.ctrlKey&&v)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!m&&!i&&!d&&v||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||v)&&x}}function wv({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),p=Z0().scaleExtent([e,n]).translateExtent(r),m=Jn(t).call(p);M({x:i.x,y:i.y,zoom:as(i.zoom,e,n)},[[0,0],[h.width,h.height]],r);const d=m.on("wheel.zoom"),v=m.on("dblclick.zoom");p.wheelDelta(N1);function x(S,E){return m?new Promise(j=>{p?.interpolate(E?.interpolate==="linear"?Ws:cc).transform(Il(m,E?.duration,E?.ease,()=>j(!0)),S)}):Promise.resolve(!1)}function N({noWheelClassName:S,noPanClassName:E,onPaneContextMenu:j,userSelectionActive:k,panOnScroll:B,panOnDrag:U,panOnScrollMode:Z,panOnScrollSpeed:$,preventScrolling:Q,zoomOnPinch:lt,zoomOnScroll:at,zoomOnDoubleClick:L,zoomActivationKeyPressed:O,lib:V,onTransformChange:tt,connectionInProgress:et,paneClickDistance:ot,selectionOnDrag:it}){k&&!u.isZoomingOrPanning&&w();const ut=B&&!O&&!k;p.clickDistance(it?1/0:!Nr(ot)||ot<0?0:ot);const gt=ut?dv({zoomPanValues:u,noWheelClassName:S,d3Selection:m,d3Zoom:p,panOnScrollMode:Z,panOnScrollSpeed:$,zoomOnPinch:lt,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):pv({noWheelClassName:S,preventScrolling:Q,d3ZoomHandler:d});if(m.on("wheel.zoom",gt,{passive:!1}),!k){const xt=gv({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:s});p.on("start",xt);const Nt=mv({zoomPanValues:u,panOnDrag:U,onPaneContextMenu:!!j,onPanZoom:o,onTransformChange:tt});p.on("zoom",Nt);const Ct=yv({zoomPanValues:u,panOnDrag:U,panOnScroll:B,onPaneContextMenu:j,onPanZoomEnd:a,onDraggingChange:l});p.on("end",Ct)}const mt=vv({zoomActivationKeyPressed:O,panOnDrag:U,zoomOnScroll:at,panOnScroll:B,zoomOnDoubleClick:L,zoomOnPinch:lt,userSelectionActive:k,noPanClassName:E,noWheelClassName:S,lib:V,connectionInProgress:et});p.filter(mt),L?m.on("dblclick.zoom",v):m.on("dblclick.zoom",null)}function w(){p.on("zoom",null)}async function M(S,E,j){const k=Pl(S),B=p?.constrain()(k,E,j);return B&&await x(B),new Promise(U=>U(B))}async function _(S,E){const j=Pl(S);return await x(j,E),new Promise(k=>k(j))}function A(S){if(m){const E=Pl(S),j=m.property("__zoom");(j.k!==S.zoom||j.x!==S.x||j.y!==S.y)&&p?.transform(m,E,null,{sync:!0})}}function H(){const S=m?X0(m.node()):{x:0,y:0,k:1};return{x:S.x,y:S.y,zoom:S.k}}function G(S,E){return m?new Promise(j=>{p?.interpolate(E?.interpolate==="linear"?Ws:cc).scaleTo(Il(m,E?.duration,E?.ease,()=>j(!0)),S)}):Promise.resolve(!1)}function W(S,E){return m?new Promise(j=>{p?.interpolate(E?.interpolate==="linear"?Ws:cc).scaleBy(Il(m,E?.duration,E?.ease,()=>j(!0)),S)}):Promise.resolve(!1)}function D(S){p?.scaleExtent(S)}function I(S){p?.translateExtent(S)}function J(S){const E=!Nr(S)||S<0?0:S;p?.clickDistance(E)}return{update:N,destroy:w,setViewport:_,setViewportConstrained:M,getViewport:H,scaleTo:G,scaleBy:W,setScaleExtent:D,setTranslateExtent:I,syncViewport:A,setClickDistance:J}}var bo;(function(t){t.Line="line",t.Handle="handle"})(bo||(bo={}));const bv=["top-left","top-right","bottom-left","bottom-right"],xv=["top","right","bottom","left"];function _v({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=t-e,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function bh(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ri(t,e){return Math.max(0,e-t)}function Ti(t,e){return Math.max(0,t-e)}function Xa(t,e,n){return Math.max(0,e-t,t-n)}function xh(t,e){return t?!e:e}function Nv(t,e,n,r,i,o,s,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:h,isVertical:p}=e,m=h&&p,{xSnapped:d,ySnapped:v}=n,{minWidth:x,maxWidth:N,minHeight:w,maxHeight:M}=r,{x:_,y:A,width:H,height:G,aspectRatio:W}=t;let D=Math.floor(h?d-t.pointerX:0),I=Math.floor(p?v-t.pointerY:0);const J=H+(l?-D:D),S=G+(u?-I:I),E=-o[0]*H,j=-o[1]*G;let k=Xa(J,x,N),B=Xa(S,w,M);if(s){let $=0,Q=0;l&&D<0?$=Ri(_+D+E,s[0][0]):!l&&D>0&&($=Ti(_+J+E,s[1][0])),u&&I<0?Q=Ri(A+I+j,s[0][1]):!u&&I>0&&(Q=Ti(A+S+j,s[1][1])),k=Math.max(k,$),B=Math.max(B,Q)}if(a){let $=0,Q=0;l&&D>0?$=Ti(_+D,a[0][0]):!l&&D<0&&($=Ri(_+J,a[1][0])),u&&I>0?Q=Ti(A+I,a[0][1]):!u&&I<0&&(Q=Ri(A+S,a[1][1])),k=Math.max(k,$),B=Math.max(B,Q)}if(i){if(h){const $=Xa(J/W,w,M)*W;if(k=Math.max(k,$),s){let Q=0;!l&&!u||l&&!u&&m?Q=Ti(A+j+J/W,s[1][1])*W:Q=Ri(A+j+(l?D:-D)/W,s[0][1])*W,k=Math.max(k,Q)}if(a){let Q=0;!l&&!u||l&&!u&&m?Q=Ri(A+J/W,a[1][1])*W:Q=Ti(A+(l?D:-D)/W,a[0][1])*W,k=Math.max(k,Q)}}if(p){const $=Xa(S*W,x,N)/W;if(B=Math.max(B,$),s){let Q=0;!l&&!u||u&&!l&&m?Q=Ti(_+S*W+E,s[1][0])/W:Q=Ri(_+(u?I:-I)*W+E,s[0][0])/W,B=Math.max(B,Q)}if(a){let Q=0;!l&&!u||u&&!l&&m?Q=Ri(_+S*W,a[1][0])/W:Q=Ti(_+(u?I:-I)*W,a[0][0])/W,B=Math.max(B,Q)}}}I=I+(I<0?B:-B),D=D+(D<0?k:-k),i&&(m?J>S*W?I=(xh(l,u)?-D:D)/W:D=(xh(l,u)?-I:I)*W:h?(I=D/W,u=l):(D=I*W,l=u));const U=l?_+D:_,Z=u?A+I:A;return{width:H+(l?-D:D),height:G+(u?-I:I),x:o[0]*D*(l?-1:1)+U,y:o[1]*I*(u?-1:1)+Z}}const S1={width:0,height:0,x:0,y:0},Sv={...S1,pointerX:0,pointerY:0,aspectRatio:1};function Av(t){return[[0,0],[t.measured.width,t.measured.height]]}function Lv(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,s=t.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function kv({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Jn(t);let s={controlDirection:bh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:h,keepAspectRatio:p,resizeDirection:m,onResizeStart:d,onResize:v,onResizeEnd:x,shouldResize:N}){let w={...S1},M={...Sv};s={boundaries:h,resizeDirection:m,keepAspectRatio:p,controlDirection:bh(u)};let _,A=null,H=[],G,W,D,I=!1;const J=T0().on("start",S=>{const{nodeLookup:E,transform:j,snapGrid:k,snapToGrid:B,nodeOrigin:U,paneDomNode:Z}=n();if(_=E.get(e),!_)return;A=Z?.getBoundingClientRect()??null;const{xSnapped:$,ySnapped:Q}=Gs(S.sourceEvent,{transform:j,snapGrid:k,snapToGrid:B,containerBounds:A});w={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},M={...w,pointerX:$,pointerY:Q,aspectRatio:w.width/w.height},G=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(G=E.get(_.parentId),W=G&&_.extent==="parent"?Av(G):void 0),H=[],D=void 0;for(const[lt,at]of E)if(at.parentId===e&&(H.push({id:lt,position:{...at.position},extent:at.extent}),at.extent==="parent"||at.expandParent)){const L=Lv(at,_,at.origin??U);D?D=[[Math.min(L[0][0],D[0][0]),Math.min(L[0][1],D[0][1])],[Math.max(L[1][0],D[1][0]),Math.max(L[1][1],D[1][1])]]:D=L}d?.(S,{...w})}).on("drag",S=>{const{transform:E,snapGrid:j,snapToGrid:k,nodeOrigin:B}=n(),U=Gs(S.sourceEvent,{transform:E,snapGrid:j,snapToGrid:k,containerBounds:A}),Z=[];if(!_)return;const{x:$,y:Q,width:lt,height:at}=w,L={},O=_.origin??B,{width:V,height:tt,x:et,y:ot}=Nv(M,s.controlDirection,U,s.boundaries,s.keepAspectRatio,O,W,D),it=V!==lt,ut=tt!==at,gt=et!==$&&it,mt=ot!==Q&&ut;if(!gt&&!mt&&!it&&!ut)return;if((gt||mt||O[0]===1||O[1]===1)&&(L.x=gt?et:w.x,L.y=mt?ot:w.y,w.x=L.x,w.y=L.y,H.length>0)){const q=et-$,kt=ot-Q;for(const Gt of H)Gt.position={x:Gt.position.x-q+O[0]*(V-lt),y:Gt.position.y-kt+O[1]*(tt-at)},Z.push(Gt)}if((it||ut)&&(L.width=it&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:w.width,L.height=ut&&(!s.resizeDirection||s.resizeDirection==="vertical")?tt:w.height,w.width=L.width,w.height=L.height),G&&_.expandParent){const q=O[0]*(L.width??0);L.x&&L.x<q&&(w.x=q,M.x=M.x-(L.x-q));const kt=O[1]*(L.height??0);L.y&&L.y<kt&&(w.y=kt,M.y=M.y-(L.y-kt))}const xt=_v({width:w.width,prevWidth:lt,height:w.height,prevHeight:at,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),Nt={...w,direction:xt};N?.(S,Nt)!==!1&&(I=!0,v?.(S,Nt),r(L,Z))}).on("end",S=>{I&&(x?.(S,{...w}),i?.({...w}),I=!1)});o.call(J)}function l(){o.on(".drag",null)}return{update:a,destroy:l}}var Ml={exports:{}},Fl={},Rl={exports:{}},Tl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function Ev(){if(_h)return Tl;_h=1;var t=b0();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(p,m){var d=m(),v=r({inst:{value:d,getSnapshot:m}}),x=v[0].inst,N=v[1];return o(function(){x.value=d,x.getSnapshot=m,l(x)&&N({inst:x})},[p,d,m]),i(function(){return l(x)&&N({inst:x}),p(function(){l(x)&&N({inst:x})})},[p]),s(d),d}function l(p){var m=p.getSnapshot;p=p.value;try{var d=m();return!n(p,d)}catch{return!0}}function u(p,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Tl.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Tl}var Nh;function Cv(){return Nh||(Nh=1,Rl.exports=Ev()),Rl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function Pv(){if(Sh)return Fl;Sh=1;var t=b0(),e=Cv();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Fl.useSyncExternalStoreWithSelector=function(u,h,p,m,d){var v=o(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function w(G){if(!M){if(M=!0,_=G,G=m(G),d!==void 0&&x.hasValue){var W=x.value;if(d(W,G))return A=W}return A=G}if(W=A,r(_,G))return W;var D=m(G);return d!==void 0&&d(W,D)?(_=G,W):(_=G,A=D)}var M=!1,_,A,H=p===void 0?null:p;return[function(){return w(h())},H===null?void 0:function(){return w(H())}]},[h,p,m,d]);var N=i(u,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=N},[N]),l(N),N},Fl}var Ah;function Iv(){return Ah||(Ah=1,Ml.exports=Pv()),Ml.exports}var Mv=Iv();const Fv=Hp(Mv),Rv={},Lh=t=>{let e;const n=new Set,r=(h,p)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const d=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(v=>v(e,d))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(Rv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},Tv=t=>t?Lh(t):Lh,{useDebugValue:Ov}=$p,{useSyncExternalStoreWithSelector:Dv}=Fv,jv=t=>t;function A1(t,e=jv,n){const r=Dv(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Ov(r),r}const kh=(t,e)=>{const n=Tv(t),r=(i,o=e)=>A1(n,i,o);return Object.assign(r,n),r},Bv=(t,e)=>t?kh(t,e):kh;function De(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var qv=Vp();const Hc=vt.createContext(null),zv=Hc.Provider,L1=jr.error001();function ge(t,e){const n=vt.useContext(Hc);if(n===null)throw new Error(L1);return A1(n,t,e)}function qe(){const t=vt.useContext(Hc);if(t===null)throw new Error(L1);return vt.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Eh={display:"none"},Uv={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},k1="react-flow__node-desc",E1="react-flow__edge-desc",Hv="react-flow__aria-live",$v=t=>t.ariaLiveMessage,Vv=t=>t.ariaLabelConfig;function Wv({rfId:t}){const e=ge($v);return nt.jsx("div",{id:`${Hv}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Uv,children:e})}function Gv({rfId:t,disableKeyboardA11y:e}){const n=ge(Vv);return nt.jsxs(nt.Fragment,{children:[nt.jsx("div",{id:`${k1}-${t}`,style:Eh,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),nt.jsx("div",{id:`${E1}-${t}`,style:Eh,children:n["edge.a11yDescription.default"]}),!e&&nt.jsx(Wv,{rfId:t})]})}const $c=vt.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const s=`${t}`.split("-");return nt.jsx("div",{className:on(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:e})});$c.displayName="Panel";function Yv({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:nt.jsx($c,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:nt.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Xv=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Za=t=>t.id;function Zv(t,e){return De(t.selectedNodes.map(Za),e.selectedNodes.map(Za))&&De(t.selectedEdges.map(Za),e.selectedEdges.map(Za))}function Kv({onSelectionChange:t}){const e=qe(),{selectedNodes:n,selectedEdges:r}=ge(Xv,Zv);return vt.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const Jv=t=>!!t.onSelectionChangeHandlers;function Qv({onSelectionChange:t}){const e=ge(Jv);return t||e?nt.jsx(Kv,{onSelectionChange:t}):null}const C1=[0,0],tw={x:0,y:0,zoom:1},ew=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ch=[...ew,"rfId"],nw=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Ph={translateExtent:ta,nodeOrigin:C1,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function rw(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l}=ge(nw,De),u=qe();vt.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{h.current=Ph,a()}),[]);const h=vt.useRef(Ph);return vt.useEffect(()=>{for(const p of Ch){const m=t[p],d=h.current[p];m!==d&&(typeof t[p]>"u"||(p==="nodes"?e(m):p==="edges"?n(m):p==="minZoom"?r(m):p==="maxZoom"?i(m):p==="translateExtent"?o(m):p==="nodeExtent"?s(m):p==="ariaLabelConfig"?u.setState({ariaLabelConfig:Dy(m)}):p==="fitView"?u.setState({fitViewQueued:m}):p==="fitViewOptions"?u.setState({fitViewOptions:m}):u.setState({[p]:m})))}h.current=t},Ch.map(p=>t[p])),null}function Ih(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function iw(t){const[e,n]=vt.useState(t==="system"?null:t);return vt.useEffect(()=>{if(t!=="system"){n(t);return}const r=Ih(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:Ih()?.matches?"dark":"light"}const Mh=typeof document<"u"?document:null;function ia(t=null,e={target:Mh,actInsideInputWithModifier:!0}){const[n,r]=vt.useState(!1),i=vt.useRef(!1),o=vt.useRef(new Set([])),[s,a]=vt.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=u.reduce((p,m)=>p.concat(...m),[]);return[u,h]}return[[],[]]},[t]);return vt.useEffect(()=>{const l=e?.target??Mh,u=e?.actInsideInputWithModifier??!0;if(t!==null){const h=d=>{if(i.current=d.ctrlKey||d.metaKey||d.shiftKey||d.altKey,(!i.current||i.current&&!u)&&l1(d))return!1;const x=Rh(d.code,a);if(o.current.add(d[x]),Fh(s,o.current,!1)){const N=d.composedPath?.()?.[0]||d.target,w=N?.nodeName==="BUTTON"||N?.nodeName==="A";e.preventDefault!==!1&&(i.current||!w)&&d.preventDefault(),r(!0)}},p=d=>{const v=Rh(d.code,a);Fh(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(d[v]),d.key==="Meta"&&o.current.clear(),i.current=!1},m=()=>{o.current.clear(),r(!1)};return l?.addEventListener("keydown",h),l?.addEventListener("keyup",p),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{l?.removeEventListener("keydown",h),l?.removeEventListener("keyup",p),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[t,r]),n}function Fh(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function Rh(t,e){return e.includes(t)?"code":"key"}const ow=()=>{const t=qe();return vt.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=t.getState(),l=Uu(e,r,i,o,s,n?.padding??.1);return a?(await a.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=t.getState();if(!s)return e;const{x:a,y:l}=s.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},h=n.snapGrid??i,p=n.snapToGrid??o;return da(u,r,p,h)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),s=kc(e,n);return{x:s.x+i,y:s.y+o}}}),[])};function P1(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of e){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)sw(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function sw(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function aw(t,e){return P1(t,e)}function cw(t,e){return P1(t,e)}function ao(t,e){return{id:t,type:"select",selected:e}}function Zo(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const s=e.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(ao(o.id,s)))}return r}function Th({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,o]of t.entries()){const s=e.get(o.id),a=s?.internals?.userNode??s;a!==void 0&&a!==o&&n.push({id:o.id,item:o,type:"replace"}),a===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Oh(t){return{id:t.id,type:"remove"}}const Dh=t=>ky(t),lw=t=>e1(t);function I1(t){return vt.forwardRef(t)}const uw=typeof window<"u"?vt.useLayoutEffect:vt.useEffect;function jh(t){const[e,n]=vt.useState(BigInt(0)),[r]=vt.useState(()=>fw(()=>n(i=>i+BigInt(1))));return uw(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function fw(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const M1=vt.createContext(null);function hw({children:t}){const e=qe(),n=vt.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:h,onNodesChange:p,nodeLookup:m,fitViewQueued:d,onNodesChangeMiddlewareMap:v}=e.getState();let x=l;for(const w of a)x=typeof w=="function"?w(x):w;let N=Th({items:x,lookup:m});for(const w of v.values())N=w(N);h&&u(x),N.length>0?p?.(N):d&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:M,setNodes:_}=e.getState();w&&_(M)})},[]),r=jh(n),i=vt.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:h,onEdgesChange:p,edgeLookup:m}=e.getState();let d=l;for(const v of a)d=typeof v=="function"?v(d):v;h?u(d):p&&p(Th({items:d,lookup:m}))},[]),o=jh(i),s=vt.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return nt.jsx(M1.Provider,{value:s,children:t})}function dw(){const t=vt.useContext(M1);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const pw=t=>!!t.panZoom;function Vc(){const t=ow(),e=qe(),n=dw(),r=ge(pw),i=vt.useMemo(()=>{const o=p=>e.getState().nodeLookup.get(p),s=p=>{n.nodeQueue.push(p)},a=p=>{n.edgeQueue.push(p)},l=p=>{const{nodeLookup:m,nodeOrigin:d}=e.getState(),v=Dh(p)?p:m.get(p.id),x=v.parentId?a1(v.position,v.measured,v.parentId,m,d):v.position,N={...v,position:x,width:v.measured?.width??v.width,height:v.measured?.height??v.height};return cs(N)},u=(p,m,d={replace:!1})=>{s(v=>v.map(x=>{if(x.id===p){const N=typeof m=="function"?m(x):m;return d.replace&&Dh(N)?N:{...x,...N}}return x}))},h=(p,m,d={replace:!1})=>{a(v=>v.map(x=>{if(x.id===p){const N=typeof m=="function"?m(x):m;return d.replace&&lw(N)?N:{...x,...N}}return x}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>o(p)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(m=>({...m}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:s,setEdges:a,addNodes:p=>{const m=Array.isArray(p)?p:[p];n.nodeQueue.push(d=>[...d,...m])},addEdges:p=>{const m=Array.isArray(p)?p:[p];n.edgeQueue.push(d=>[...d,...m])},toObject:()=>{const{nodes:p=[],edges:m=[],transform:d}=e.getState(),[v,x,N]=d;return{nodes:p.map(w=>({...w})),edges:m.map(w=>({...w})),viewport:{x:v,y:x,zoom:N}}},deleteElements:async({nodes:p=[],edges:m=[]})=>{const{nodes:d,edges:v,onNodesDelete:x,onEdgesDelete:N,triggerNodeChanges:w,triggerEdgeChanges:M,onDelete:_,onBeforeDelete:A}=e.getState(),{nodes:H,edges:G}=await My({nodesToRemove:p,edgesToRemove:m,nodes:d,edges:v,onBeforeDelete:A}),W=G.length>0,D=H.length>0;if(W){const I=G.map(Oh);N?.(G),M(I)}if(D){const I=H.map(Oh);x?.(H),w(I)}return(D||W)&&_?.({nodes:H,edges:G}),{deletedNodes:H,deletedEdges:G}},getIntersectingNodes:(p,m=!0,d)=>{const v=lh(p),x=v?p:l(p),N=d!==void 0;return x?(d||e.getState().nodes).filter(w=>{const M=e.getState().nodeLookup.get(w.id);if(M&&!v&&(w.id===p.id||!M.internals.positionAbsolute))return!1;const _=cs(N?w:M),A=na(_,x);return m&&A>0||A>=_.width*_.height||A>=x.width*x.height}):[]},isNodeIntersecting:(p,m,d=!0)=>{const x=lh(p)?p:l(p);if(!x)return!1;const N=na(x,m);return d&&N>0||N>=m.width*m.height||N>=x.width*x.height},updateNode:u,updateNodeData:(p,m,d={replace:!1})=>{u(p,v=>{const x=typeof m=="function"?m(v):m;return d.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},d)},updateEdge:h,updateEdgeData:(p,m,d={replace:!1})=>{h(p,v=>{const x=typeof m=="function"?m(v):m;return d.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},d)},getNodesBounds:p=>{const{nodeLookup:m,nodeOrigin:d}=e.getState();return Ey(p,{nodeLookup:m,nodeOrigin:d})},getHandleConnections:({type:p,id:m,nodeId:d})=>Array.from(e.getState().connectionLookup.get(`${d}-${p}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:m,nodeId:d})=>Array.from(e.getState().connectionLookup.get(`${d}${p?m?`-${p}-${m}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const m=e.getState().fitViewResolver??Oy();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:m}),n.nodeQueue.push(d=>[...d]),m.promise}}},[]);return vt.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const Bh=t=>t.selected,gw=typeof window<"u"?window:void 0;function mw({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=qe(),{deleteElements:r}=Vc(),i=ia(t,{actInsideInputWithModifier:!1}),o=ia(e,{target:gw});vt.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(Bh),edges:s.filter(Bh)}),n.setState({nodesSelectionActive:!1})}},[i]),vt.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function yw(t){const e=qe();vt.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=Hu(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",jr.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Wc={position:"absolute",width:"100%",height:"100%",top:0,left:0},vw=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function ww({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=ho.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:h,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:d=!0,children:v,noWheelClassName:x,noPanClassName:N,onViewportChange:w,isControlledViewport:M,paneClickDistance:_,selectionOnDrag:A}){const H=qe(),G=vt.useRef(null),{userSelectionActive:W,lib:D,connectionInProgress:I}=ge(vw,De),J=ia(m),S=vt.useRef();yw(G);const E=vt.useCallback(j=>{w?.({x:j[0],y:j[1],zoom:j[2]}),M||H.setState({transform:j})},[w,M]);return vt.useEffect(()=>{if(G.current){S.current=wv({domNode:G.current,minZoom:h,maxZoom:p,translateExtent:u,viewport:l,onDraggingChange:U=>H.setState({paneDragging:U}),onPanZoomStart:(U,Z)=>{const{onViewportChangeStart:$,onMoveStart:Q}=H.getState();Q?.(U,Z),$?.(Z)},onPanZoom:(U,Z)=>{const{onViewportChange:$,onMove:Q}=H.getState();Q?.(U,Z),$?.(Z)},onPanZoomEnd:(U,Z)=>{const{onViewportChangeEnd:$,onMoveEnd:Q}=H.getState();Q?.(U,Z),$?.(Z)}});const{x:j,y:k,zoom:B}=S.current.getViewport();return H.setState({panZoom:S.current,transform:[j,k,B],domNode:G.current.closest(".react-flow")}),()=>{S.current?.destroy()}}},[]),vt.useEffect(()=>{S.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:J,preventScrolling:d,noPanClassName:N,userSelectionActive:W,noWheelClassName:x,lib:D,onTransformChange:E,connectionInProgress:I,selectionOnDrag:A,paneClickDistance:_})},[t,e,n,r,i,o,s,a,J,d,N,W,x,D,E,I,A,_]),nt.jsx("div",{className:"react-flow__renderer",ref:G,style:Wc,children:v})}const bw=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function xw(){const{userSelectionActive:t,userSelectionRect:e}=ge(bw,De);return t&&e?nt.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Ol=(t,e)=>n=>{n.target===e.current&&t?.(n)},_w=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function Nw({isSelecting:t,selectionKeyPressed:e,selectionMode:n=ea.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:d,children:v}){const x=qe(),{userSelectionActive:N,elementsSelectable:w,dragging:M,connectionInProgress:_}=ge(_w,De),A=w&&(t||N),H=vt.useRef(null),G=vt.useRef(),W=vt.useRef(new Set),D=vt.useRef(new Set),I=vt.useRef(!1),J=$=>{if(I.current||_){I.current=!1;return}l?.($),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},S=$=>{if(Array.isArray(r)&&r?.includes(2)){$.preventDefault();return}u?.($)},E=h?$=>h($):void 0,j=$=>{I.current&&($.stopPropagation(),I.current=!1)},k=$=>{const{domNode:Q}=x.getState();if(G.current=Q?.getBoundingClientRect(),!G.current)return;const lt=$.target===H.current;if(!lt&&!!$.target.closest(".nokey")||!t||!(o&&lt||e)||$.button!==0||!$.isPrimary)return;$.target?.setPointerCapture?.($.pointerId),I.current=!1;const{x:O,y:V}=Sr($.nativeEvent,G.current);x.setState({userSelectionRect:{width:0,height:0,startX:O,startY:V,x:O,y:V}}),lt||($.stopPropagation(),$.preventDefault())},B=$=>{const{userSelectionRect:Q,transform:lt,nodeLookup:at,edgeLookup:L,connectionLookup:O,triggerNodeChanges:V,triggerEdgeChanges:tt,defaultEdgeOptions:et,resetSelectedElements:ot}=x.getState();if(!G.current||!Q)return;const{x:it,y:ut}=Sr($.nativeEvent,G.current),{startX:gt,startY:mt}=Q;if(!I.current){const kt=e?0:i;if(Math.hypot(it-gt,ut-mt)<=kt)return;ot(),s?.($)}I.current=!0;const xt={startX:gt,startY:mt,x:it<gt?it:gt,y:ut<mt?ut:mt,width:Math.abs(it-gt),height:Math.abs(ut-mt)},Nt=W.current,Ct=D.current;W.current=new Set(zu(at,xt,lt,n===ea.Partial,!0).map(kt=>kt.id)),D.current=new Set;const q=et?.selectable??!0;for(const kt of W.current){const Gt=O.get(kt);if(Gt)for(const{edgeId:jt}of Gt.values()){const St=L.get(jt);St&&(St.selectable??q)&&D.current.add(jt)}}if(!uh(Nt,W.current)){const kt=Zo(at,W.current,!0);V(kt)}if(!uh(Ct,D.current)){const kt=Zo(L,D.current);tt(kt)}x.setState({userSelectionRect:xt,userSelectionActive:!0,nodesSelectionActive:!1})},U=$=>{$.button===0&&($.target?.releasePointerCapture?.($.pointerId),!N&&$.target===H.current&&x.getState().userSelectionRect&&J?.($),x.setState({userSelectionActive:!1,userSelectionRect:null}),I.current&&(a?.($),x.setState({nodesSelectionActive:W.current.size>0})))},Z=r===!0||Array.isArray(r)&&r.includes(0);return nt.jsxs("div",{className:on(["react-flow__pane",{draggable:Z,dragging:M,selection:t}]),onClick:A?void 0:Ol(J,H),onContextMenu:Ol(S,H),onWheel:Ol(E,H),onPointerEnter:A?void 0:p,onPointerMove:A?B:m,onPointerUp:A?U:void 0,onPointerDownCapture:A?k:void 0,onClickCapture:A?j:void 0,onPointerLeave:d,ref:H,style:Wc,children:[v,nt.jsx(xw,{})]})}function bu({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l?.("012",jr.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function F1({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=qe(),[l,u]=vt.useState(!1),h=vt.useRef();return vt.useEffect(()=>{h.current=ov({getStoreItems:()=>a.getState(),onNodeMouseDown:p=>{bu({id:p,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),vt.useEffect(()=>{if(e)h.current?.destroy();else if(t.current)return h.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{h.current?.destroy()}},[n,r,e,o,t,i]),l}const Sw=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function R1(){const t=qe();return vt.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:h}=t.getState(),p=new Map,m=Sw(s),d=i?o[0]:5,v=i?o[1]:5,x=n.direction.x*d*n.factor,N=n.direction.y*v*n.factor;for(const[,w]of u){if(!m(w))continue;let M={x:w.internals.positionAbsolute.x+x,y:w.internals.positionAbsolute.y+N};i&&(M=ha(M,o));const{position:_,positionAbsolute:A}=n1({nodeId:w.id,nextPosition:M,nodeLookup:u,nodeExtent:r,nodeOrigin:h,onError:a});w.position=_,w.internals.positionAbsolute=A,p.set(w.id,w)}l(p)},[])}const Zu=vt.createContext(null),Aw=Zu.Provider;Zu.Consumer;const T1=()=>vt.useContext(Zu),Lw=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),kw=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:u}=s,h=l?.nodeId===t&&l?.id===e&&l?.type===n;return{connectingFrom:a?.nodeId===t&&a?.id===e&&a?.type===n,connectingTo:h,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:o===ss.Strict?a?.type!==n:t!==a?.nodeId||e!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:h&&u}};function Ew({type:t="source",position:e=Wt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:h,onTouchStart:p,...m},d){const v=s||null,x=t==="target",N=qe(),w=T1(),{connectOnClick:M,noPanClassName:_,rfId:A}=ge(Lw,De),{connectingFrom:H,connectingTo:G,clickConnecting:W,isPossibleEndHandle:D,connectionInProcess:I,clickConnectionInProcess:J,valid:S}=ge(kw(w,v,t),De);w||N.getState().onError?.("010",jr.error010());const E=B=>{const{defaultEdgeOptions:U,onConnect:Z,hasDefaultEdges:$}=N.getState(),Q={...U,...B};if($){const{edges:lt,setEdges:at}=N.getState();at(Hy(Q,lt))}Z?.(Q),a?.(Q)},j=B=>{if(!w)return;const U=u1(B.nativeEvent);if(i&&(U&&B.button===0||!U)){const Z=N.getState();wu.onPointerDown(B.nativeEvent,{handleDomNode:B.currentTarget,autoPanOnConnect:Z.autoPanOnConnect,connectionMode:Z.connectionMode,connectionRadius:Z.connectionRadius,domNode:Z.domNode,nodeLookup:Z.nodeLookup,lib:Z.lib,isTarget:x,handleId:v,nodeId:w,flowId:Z.rfId,panBy:Z.panBy,cancelConnection:Z.cancelConnection,onConnectStart:Z.onConnectStart,onConnectEnd:Z.onConnectEnd,updateConnection:Z.updateConnection,onConnect:E,isValidConnection:n||Z.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:Z.autoPanSpeed,dragThreshold:Z.connectionDragThreshold})}U?h?.(B):p?.(B)},k=B=>{const{onClickConnectStart:U,onClickConnectEnd:Z,connectionClickStartHandle:$,connectionMode:Q,isValidConnection:lt,lib:at,rfId:L,nodeLookup:O,connection:V}=N.getState();if(!w||!$&&!i)return;if(!$){U?.(B.nativeEvent,{nodeId:w,handleId:v,handleType:t}),N.setState({connectionClickStartHandle:{nodeId:w,type:t,id:v}});return}const tt=c1(B.target),et=n||lt,{connection:ot,isValid:it}=wu.isValid(B.nativeEvent,{handle:{nodeId:w,id:v,type:t},connectionMode:Q,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:et,flowId:L,doc:tt,lib:at,nodeLookup:O});it&&ot&&E(ot);const ut=structuredClone(V);delete ut.inProgress,ut.toPosition=ut.toHandle?ut.toHandle.position:null,Z?.(B,ut),N.setState({connectionClickStartHandle:null})};return nt.jsx("div",{"data-handleid":v,"data-nodeid":w,"data-handlepos":e,"data-id":`${A}-${w}-${v}-${t}`,className:on(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,u,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:o,clickconnecting:W,connectingfrom:H,connectingto:G,valid:S,connectionindicator:r&&(!I||D)&&(I||J?o:i)}]),onMouseDown:j,onTouchStart:j,onClick:M?k:void 0,ref:d,...m,children:l})}const Bi=vt.memo(I1(Ew));function Cw({data:t,isConnectable:e,sourcePosition:n=Wt.Bottom}){return nt.jsxs(nt.Fragment,{children:[t?.label,nt.jsx(Bi,{type:"source",position:n,isConnectable:e})]})}function Pw({data:t,isConnectable:e,targetPosition:n=Wt.Top,sourcePosition:r=Wt.Bottom}){return nt.jsxs(nt.Fragment,{children:[nt.jsx(Bi,{type:"target",position:n,isConnectable:e}),t?.label,nt.jsx(Bi,{type:"source",position:r,isConnectable:e})]})}function Iw(){return null}function Mw({data:t,isConnectable:e,targetPosition:n=Wt.Top}){return nt.jsxs(nt.Fragment,{children:[nt.jsx(Bi,{type:"target",position:n,isConnectable:e}),t?.label]})}const Ec={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},qh={input:Cw,default:Pw,output:Mw,group:Iw};function Fw(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const Rw=t=>{const{width:e,height:n,x:r,y:i}=fa(t.nodeLookup,{filter:o=>!!o.selected});return{width:Nr(e)?e:null,height:Nr(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Tw({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=qe(),{width:i,height:o,transformString:s,userSelectionActive:a}=ge(Rw,De),l=R1(),u=vt.useRef(null);if(vt.useEffect(()=>{n||u.current?.focus({preventScroll:!0})},[n]),F1({nodeRef:u}),a||!i||!o)return null;const h=t?m=>{const d=r.getState().nodes.filter(v=>v.selected);t(m,d)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(Ec,m.key)&&(m.preventDefault(),l({direction:Ec[m.key],factor:m.shiftKey?4:1}))};return nt.jsx("div",{className:on(["react-flow__nodesselection","react-flow__container",e]),style:{transform:s},children:nt.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o}})})}const zh=typeof window<"u"?window:void 0,Ow=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function O1({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:h,selectionMode:p,onSelectionStart:m,onSelectionEnd:d,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:N,elementsSelectable:w,zoomOnScroll:M,zoomOnPinch:_,panOnScroll:A,panOnScrollSpeed:H,panOnScrollMode:G,zoomOnDoubleClick:W,panOnDrag:D,defaultViewport:I,translateExtent:J,minZoom:S,maxZoom:E,preventScrolling:j,onSelectionContextMenu:k,noWheelClassName:B,noPanClassName:U,disableKeyboardA11y:Z,onViewportChange:$,isControlledViewport:Q}){const{nodesSelectionActive:lt,userSelectionActive:at}=ge(Ow,De),L=ia(u,{target:zh}),O=ia(x,{target:zh}),V=O||D,tt=O||A,et=h&&V!==!0,ot=L||at||et;return mw({deleteKeyCode:l,multiSelectionKeyCode:v}),nt.jsx(ww,{onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:M,zoomOnPinch:_,panOnScroll:tt,panOnScrollSpeed:H,panOnScrollMode:G,zoomOnDoubleClick:W,panOnDrag:!L&&V,defaultViewport:I,translateExtent:J,minZoom:S,maxZoom:E,zoomActivationKeyCode:N,preventScrolling:j,noWheelClassName:B,noPanClassName:U,onViewportChange:$,isControlledViewport:Q,paneClickDistance:a,selectionOnDrag:et,children:nt.jsxs(Nw,{onSelectionStart:m,onSelectionEnd:d,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:V,isSelecting:!!ot,selectionMode:p,selectionKeyPressed:L,paneClickDistance:a,selectionOnDrag:et,children:[t,lt&&nt.jsx(Tw,{onSelectionContextMenu:k,noPanClassName:U,disableKeyboardA11y:Z})]})})}O1.displayName="FlowRenderer";const Dw=vt.memo(O1),jw=t=>e=>t?zu(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Bw(t){return ge(vt.useCallback(jw(t),[t]),De)}const qw=t=>t.updateNodeInternals;function zw(){const t=ge(qw),[e]=vt.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return vt.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Uw({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=qe(),o=vt.useRef(null),s=vt.useRef(null),a=vt.useRef(t.sourcePosition),l=vt.useRef(t.targetPosition),u=vt.useRef(e),h=n&&!!t.internals.handleBounds;return vt.useEffect(()=>{o.current&&!t.hidden&&(!h||s.current!==o.current)&&(s.current&&r?.unobserve(s.current),r?.observe(o.current),s.current=o.current)},[h,t.hidden]),vt.useEffect(()=>()=>{s.current&&(r?.unobserve(s.current),s.current=null)},[]),vt.useEffect(()=>{if(o.current){const p=u.current!==e,m=a.current!==t.sourcePosition,d=l.current!==t.targetPosition;(p||m||d)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function Hw({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:h,resizeObserver:p,noDragClassName:m,noPanClassName:d,disableKeyboardA11y:v,rfId:x,nodeTypes:N,nodeClickDistance:w,onError:M}){const{node:_,internals:A,isParent:H}=ge(it=>{const ut=it.nodeLookup.get(t),gt=it.parentLookup.has(t);return{node:ut,internals:ut.internals,isParent:gt}},De);let G=_.type||"default",W=N?.[G]||qh[G];W===void 0&&(M?.("003",jr.error003(G)),G="default",W=N?.default||qh.default);const D=!!(_.draggable||a&&typeof _.draggable>"u"),I=!!(_.selectable||l&&typeof _.selectable>"u"),J=!!(_.connectable||u&&typeof _.connectable>"u"),S=!!(_.focusable||h&&typeof _.focusable>"u"),E=qe(),j=s1(_),k=Uw({node:_,nodeType:G,hasDimensions:j,resizeObserver:p}),B=F1({nodeRef:k,disabled:_.hidden||!D,noDragClassName:m,handleSelector:_.dragHandle,nodeId:t,isSelectable:I,nodeClickDistance:w}),U=R1();if(_.hidden)return null;const Z=di(_),$=Fw(_),Q=I||D||e||n||r||i,lt=n?it=>n(it,{...A.userNode}):void 0,at=r?it=>r(it,{...A.userNode}):void 0,L=i?it=>i(it,{...A.userNode}):void 0,O=o?it=>o(it,{...A.userNode}):void 0,V=s?it=>s(it,{...A.userNode}):void 0,tt=it=>{const{selectNodesOnDrag:ut,nodeDragThreshold:gt}=E.getState();I&&(!ut||!D||gt>0)&&bu({id:t,store:E,nodeRef:k}),e&&e(it,{...A.userNode})},et=it=>{if(!(l1(it.nativeEvent)||v)){if(K0.includes(it.key)&&I){const ut=it.key==="Escape";bu({id:t,store:E,unselect:ut,nodeRef:k})}else if(D&&_.selected&&Object.prototype.hasOwnProperty.call(Ec,it.key)){it.preventDefault();const{ariaLabelConfig:ut}=E.getState();E.setState({ariaLiveMessage:ut["node.a11yDescription.ariaLiveMessage"]({direction:it.key.replace("Arrow","").toLowerCase(),x:~~A.positionAbsolute.x,y:~~A.positionAbsolute.y})}),U({direction:Ec[it.key],factor:it.shiftKey?4:1})}}},ot=()=>{if(v||!k.current?.matches(":focus-visible"))return;const{transform:it,width:ut,height:gt,autoPanOnNodeFocus:mt,setCenter:xt}=E.getState();if(!mt)return;zu(new Map([[t,_]]),{x:0,y:0,width:ut,height:gt},it,!0).length>0||xt(_.position.x+Z.width/2,_.position.y+Z.height/2,{zoom:it[2]})};return nt.jsx("div",{className:on(["react-flow__node",`react-flow__node-${G}`,{[d]:D},_.className,{selected:_.selected,selectable:I,parent:H,draggable:D,dragging:B}]),ref:k,style:{zIndex:A.z,transform:`translate(${A.positionAbsolute.x}px,${A.positionAbsolute.y}px)`,pointerEvents:Q?"all":"none",visibility:j?"visible":"hidden",..._.style,...$},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:lt,onMouseMove:at,onMouseLeave:L,onContextMenu:O,onClick:tt,onDoubleClick:V,onKeyDown:S?et:void 0,tabIndex:S?0:void 0,onFocus:S?ot:void 0,role:_.ariaRole??(S?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${k1}-${x}`,"aria-label":_.ariaLabel,..._.domAttributes,children:nt.jsx(Aw,{value:t,children:nt.jsx(W,{id:t,data:_.data,type:G,positionAbsoluteX:A.positionAbsolute.x,positionAbsoluteY:A.positionAbsolute.y,selected:_.selected??!1,selectable:I,draggable:D,deletable:_.deletable??!0,isConnectable:J,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:B,dragHandle:_.dragHandle,zIndex:A.z,parentId:_.parentId,...Z})})})}var $w=vt.memo(Hw);const Vw=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function D1(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ge(Vw,De),s=Bw(t.onlyRenderVisibleElements),a=zw();return nt.jsx("div",{className:"react-flow__nodes",style:Wc,children:s.map(l=>nt.jsx($w,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},l))})}D1.displayName="NodeRenderer";const Ww=vt.memo(D1);function Gw(t){return ge(vt.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&qy({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),De)}const Yw=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return nt.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Xw=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return nt.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Uh={[Ac.Arrow]:Yw,[Ac.ArrowClosed]:Xw};function Zw(t){const e=qe();return vt.useMemo(()=>Object.prototype.hasOwnProperty.call(Uh,t)?Uh[t]:(e.getState().onError?.("009",jr.error009(t)),null),[t])}const Kw=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Zw(e);return l?nt.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:nt.jsx(l,{color:n,strokeWidth:s})}):null},j1=({defaultColor:t,rfId:e})=>{const n=ge(o=>o.edges),r=ge(o=>o.defaultEdgeOptions),i=vt.useMemo(()=>Yy(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?nt.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:nt.jsx("defs",{children:i.map(o=>nt.jsx(Kw,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};j1.displayName="MarkerDefinitions";var Jw=vt.memo(j1);function B1({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...h}){const[p,m]=vt.useState({x:1,y:0,width:0,height:0}),d=on(["react-flow__edge-textwrapper",u]),v=vt.useRef(null);return vt.useEffect(()=>{if(v.current){const x=v.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?nt.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:d,visibility:p.width?"visible":"hidden",...h,children:[i&&nt.jsx("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),nt.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}B1.displayName="EdgeText";const Qw=vt.memo(B1);function pa({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...h}){return nt.jsxs(nt.Fragment,{children:[nt.jsx("path",{...h,d:t,fill:"none",className:on(["react-flow__edge-path",h.className])}),u?nt.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Nr(e)&&Nr(n)?nt.jsx(Qw,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Hh({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Wt.Left||t===Wt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function q1({sourceX:t,sourceY:e,sourcePosition:n=Wt.Bottom,targetX:r,targetY:i,targetPosition:o=Wt.Top}){const[s,a]=Hh({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=Hh({pos:o,x1:r,y1:i,x2:t,y2:e}),[h,p,m,d]=f1({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${a} ${l},${u} ${r},${i}`,h,p,m,d]}function z1(t){return vt.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:u,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:d,style:v,markerEnd:x,markerStart:N,interactionWidth:w})=>{const[M,_,A]=q1({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),H=t.isInternal?void 0:e;return nt.jsx(pa,{id:H,path:M,labelX:_,labelY:A,label:l,labelStyle:u,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:d,style:v,markerEnd:x,markerStart:N,interactionWidth:w})})}const tb=z1({isInternal:!1}),U1=z1({isInternal:!0});tb.displayName="SimpleBezierEdge";U1.displayName="SimpleBezierEdgeInternal";function H1(t){return vt.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:p,style:m,sourcePosition:d=Wt.Bottom,targetPosition:v=Wt.Top,markerEnd:x,markerStart:N,pathOptions:w,interactionWidth:M})=>{const[_,A,H]=mu({sourceX:n,sourceY:r,sourcePosition:d,targetX:i,targetY:o,targetPosition:v,borderRadius:w?.borderRadius,offset:w?.offset,stepPosition:w?.stepPosition}),G=t.isInternal?void 0:e;return nt.jsx(pa,{id:G,path:_,labelX:A,labelY:H,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:x,markerStart:N,interactionWidth:M})})}const $1=H1({isInternal:!1}),V1=H1({isInternal:!0});$1.displayName="SmoothStepEdge";V1.displayName="SmoothStepEdgeInternal";function W1(t){return vt.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return nt.jsx($1,{...n,id:r,pathOptions:vt.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const eb=W1({isInternal:!1}),G1=W1({isInternal:!0});eb.displayName="StepEdge";G1.displayName="StepEdgeInternal";function Y1(t){return vt.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:d,markerStart:v,interactionWidth:x})=>{const[N,w,M]=d1({sourceX:n,sourceY:r,targetX:i,targetY:o}),_=t.isInternal?void 0:e;return nt.jsx(pa,{id:_,path:N,labelX:w,labelY:M,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:d,markerStart:v,interactionWidth:x})})}const nb=Y1({isInternal:!1}),X1=Y1({isInternal:!0});nb.displayName="StraightEdge";X1.displayName="StraightEdgeInternal";function Z1(t){return vt.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=Wt.Bottom,targetPosition:a=Wt.Top,label:l,labelStyle:u,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:d,style:v,markerEnd:x,markerStart:N,pathOptions:w,interactionWidth:M})=>{const[_,A,H]=$u({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:w?.curvature}),G=t.isInternal?void 0:e;return nt.jsx(pa,{id:G,path:_,labelX:A,labelY:H,label:l,labelStyle:u,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:d,style:v,markerEnd:x,markerStart:N,interactionWidth:M})})}const rb=Z1({isInternal:!1}),K1=Z1({isInternal:!0});rb.displayName="BezierEdge";K1.displayName="BezierEdgeInternal";const $h={default:K1,straight:X1,step:G1,smoothstep:V1,simplebezier:U1},Vh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ib=(t,e,n)=>n===Wt.Left?t-e:n===Wt.Right?t+e:t,ob=(t,e,n)=>n===Wt.Top?t-e:n===Wt.Bottom?t+e:t,Wh="react-flow__edgeupdater";function Gh({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return nt.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:on([Wh,`${Wh}-${a}`]),cx:ib(e,r,t),cy:ob(n,r,t),r,stroke:"transparent",fill:"transparent"})}function sb({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:h,onReconnectEnd:p,setReconnecting:m,setUpdateHover:d}){const v=qe(),x=(A,H)=>{if(A.button!==0)return;const{autoPanOnConnect:G,domNode:W,isValidConnection:D,connectionMode:I,connectionRadius:J,lib:S,onConnectStart:E,onConnectEnd:j,cancelConnection:k,nodeLookup:B,rfId:U,panBy:Z,updateConnection:$}=v.getState(),Q=H.type==="target",lt=(O,V)=>{m(!1),p?.(O,n,H.type,V)},at=O=>u?.(n,O),L=(O,V)=>{m(!0),h?.(A,n,H.type),E?.(O,V)};wu.onPointerDown(A.nativeEvent,{autoPanOnConnect:G,connectionMode:I,connectionRadius:J,domNode:W,handleId:H.id,nodeId:H.nodeId,nodeLookup:B,isTarget:Q,edgeUpdaterType:H.type,lib:S,flowId:U,cancelConnection:k,panBy:Z,isValidConnection:D,onConnect:at,onConnectStart:L,onConnectEnd:j,onReconnectEnd:lt,updateConnection:$,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:A.currentTarget})},N=A=>x(A,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),w=A=>x(A,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),M=()=>d(!0),_=()=>d(!1);return nt.jsxs(nt.Fragment,{children:[(t===!0||t==="source")&&nt.jsx(Gh,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:N,onMouseEnter:M,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&nt.jsx(Gh,{position:l,centerX:o,centerY:s,radius:e,onMouseDown:w,onMouseEnter:M,onMouseOut:_,type:"target"})]})}function ab({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:d,rfId:v,edgeTypes:x,noPanClassName:N,onError:w,disableKeyboardA11y:M}){let _=ge(xt=>xt.edgeLookup.get(t));const A=ge(xt=>xt.defaultEdgeOptions);_=A?{...A,..._}:_;let H=_.type||"default",G=x?.[H]||$h[H];G===void 0&&(w?.("011",jr.error011(H)),H="default",G=x?.default||$h.default);const W=!!(_.focusable||e&&typeof _.focusable>"u"),D=typeof p<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),I=!!(_.selectable||r&&typeof _.selectable>"u"),J=vt.useRef(null),[S,E]=vt.useState(!1),[j,k]=vt.useState(!1),B=qe(),{zIndex:U,sourceX:Z,sourceY:$,targetX:Q,targetY:lt,sourcePosition:at,targetPosition:L}=ge(vt.useCallback(xt=>{const Nt=xt.nodeLookup.get(_.source),Ct=xt.nodeLookup.get(_.target);if(!Nt||!Ct)return{zIndex:_.zIndex,...Vh};const q=Gy({id:t,sourceNode:Nt,targetNode:Ct,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:xt.connectionMode,onError:w});return{zIndex:By({selected:_.selected,zIndex:_.zIndex,sourceNode:Nt,targetNode:Ct,elevateOnSelect:xt.elevateEdgesOnSelect,zIndexMode:xt.zIndexMode}),...q||Vh}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),De),O=vt.useMemo(()=>_.markerStart?`url('#${yu(_.markerStart,v)}')`:void 0,[_.markerStart,v]),V=vt.useMemo(()=>_.markerEnd?`url('#${yu(_.markerEnd,v)}')`:void 0,[_.markerEnd,v]);if(_.hidden||Z===null||$===null||Q===null||lt===null)return null;const tt=xt=>{const{addSelectedEdges:Nt,unselectNodesAndEdges:Ct,multiSelectionActive:q}=B.getState();I&&(B.setState({nodesSelectionActive:!1}),_.selected&&q?(Ct({nodes:[],edges:[_]}),J.current?.blur()):Nt([t])),i&&i(xt,_)},et=o?xt=>{o(xt,{..._})}:void 0,ot=s?xt=>{s(xt,{..._})}:void 0,it=a?xt=>{a(xt,{..._})}:void 0,ut=l?xt=>{l(xt,{..._})}:void 0,gt=u?xt=>{u(xt,{..._})}:void 0,mt=xt=>{if(!M&&K0.includes(xt.key)&&I){const{unselectNodesAndEdges:Nt,addSelectedEdges:Ct}=B.getState();xt.key==="Escape"?(J.current?.blur(),Nt({edges:[_]})):Ct([t])}};return nt.jsx("svg",{style:{zIndex:U},children:nt.jsxs("g",{className:on(["react-flow__edge",`react-flow__edge-${H}`,_.className,N,{selected:_.selected,animated:_.animated,inactive:!I&&!i,updating:S,selectable:I}]),onClick:tt,onDoubleClick:et,onContextMenu:ot,onMouseEnter:it,onMouseMove:ut,onMouseLeave:gt,onKeyDown:W?mt:void 0,tabIndex:W?0:void 0,role:_.ariaRole??(W?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":W?`${E1}-${v}`:void 0,ref:J,..._.domAttributes,children:[!j&&nt.jsx(G,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:I,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:Z,sourceY:$,targetX:Q,targetY:lt,sourcePosition:at,targetPosition:L,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:O,markerEnd:V,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),D&&nt.jsx(sb,{edge:_,isReconnectable:D,reconnectRadius:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:d,sourceX:Z,sourceY:$,targetX:Q,targetY:lt,sourcePosition:at,targetPosition:L,setUpdateHover:E,setReconnecting:k})]})})}var cb=vt.memo(ab);const lb=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function J1({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:m,onReconnectStart:d,onReconnectEnd:v,disableKeyboardA11y:x}){const{edgesFocusable:N,edgesReconnectable:w,elementsSelectable:M,onError:_}=ge(lb,De),A=Gw(e);return nt.jsxs("div",{className:"react-flow__edges",children:[nt.jsx(Jw,{defaultColor:t,rfId:n}),A.map(H=>nt.jsx(cb,{id:H,edgesFocusable:N,edgesReconnectable:w,elementsSelectable:M,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:h,reconnectRadius:p,onDoubleClick:m,onReconnectStart:d,onReconnectEnd:v,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:x},H))]})}J1.displayName="EdgeRenderer";const ub=vt.memo(J1),fb=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function hb({children:t}){const e=ge(fb);return nt.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function db(t){const e=Vc(),n=vt.useRef(!1);vt.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const pb=t=>t.panZoom?.syncViewport;function gb(t){const e=ge(pb),n=qe();return vt.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function mb(t){return t.connection.inProgress?{...t.connection,to:da(t.connection.to,t.transform)}:{...t.connection}}function yb(t){return mb}function vb(t){const e=yb();return ge(e,De)}const wb=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function bb({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=ge(wb,De);return!(o&&i&&l)?null:nt.jsx("svg",{style:t,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:nt.jsx("g",{className:on(["react-flow__connection",t1(a)]),children:nt.jsx(Q1,{style:e,type:n,CustomComponent:r,isValid:a})})})}const Q1=({style:t,type:e=ji.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:u,toNode:h,toHandle:p,toPosition:m,pointer:d}=vb();if(!i)return;if(n)return nt.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:m,connectionStatus:t1(r),toNode:h,toHandle:p,pointer:d});let v="";const x={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:m};switch(e){case ji.Bezier:[v]=$u(x);break;case ji.SimpleBezier:[v]=q1(x);break;case ji.Step:[v]=mu({...x,borderRadius:0});break;case ji.SmoothStep:[v]=mu(x);break;default:[v]=d1(x)}return nt.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:t})};Q1.displayName="ConnectionLine";const xb={};function Yh(t=xb){vt.useRef(t),qe(),vt.useEffect(()=>{},[t])}function _b(){qe(),vt.useRef(!1),vt.useEffect(()=>{},[])}function t2({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:m,onSelectionEnd:d,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:N,connectionLineContainerStyle:w,selectionKeyCode:M,selectionOnDrag:_,selectionMode:A,multiSelectionKeyCode:H,panActivationKeyCode:G,zoomActivationKeyCode:W,deleteKeyCode:D,onlyRenderVisibleElements:I,elementsSelectable:J,defaultViewport:S,translateExtent:E,minZoom:j,maxZoom:k,preventScrolling:B,defaultMarkerColor:U,zoomOnScroll:Z,zoomOnPinch:$,panOnScroll:Q,panOnScrollSpeed:lt,panOnScrollMode:at,zoomOnDoubleClick:L,panOnDrag:O,onPaneClick:V,onPaneMouseEnter:tt,onPaneMouseMove:et,onPaneMouseLeave:ot,onPaneScroll:it,onPaneContextMenu:ut,paneClickDistance:gt,nodeClickDistance:mt,onEdgeContextMenu:xt,onEdgeMouseEnter:Nt,onEdgeMouseMove:Ct,onEdgeMouseLeave:q,reconnectRadius:kt,onReconnect:Gt,onReconnectStart:jt,onReconnectEnd:St,noDragClassName:qt,noWheelClassName:It,noPanClassName:Ht,disableKeyboardA11y:Bt,nodeExtent:ve,rfId:ae,viewport:Jt,onViewportChange:ce}){return Yh(t),Yh(e),_b(),db(n),gb(Jt),nt.jsx(Dw,{onPaneClick:V,onPaneMouseEnter:tt,onPaneMouseMove:et,onPaneMouseLeave:ot,onPaneContextMenu:ut,onPaneScroll:it,paneClickDistance:gt,deleteKeyCode:D,selectionKeyCode:M,selectionOnDrag:_,selectionMode:A,onSelectionStart:m,onSelectionEnd:d,multiSelectionKeyCode:H,panActivationKeyCode:G,zoomActivationKeyCode:W,elementsSelectable:J,zoomOnScroll:Z,zoomOnPinch:$,zoomOnDoubleClick:L,panOnScroll:Q,panOnScrollSpeed:lt,panOnScrollMode:at,panOnDrag:O,defaultViewport:S,translateExtent:E,minZoom:j,maxZoom:k,onSelectionContextMenu:p,preventScrolling:B,noDragClassName:qt,noWheelClassName:It,noPanClassName:Ht,disableKeyboardA11y:Bt,onViewportChange:ce,isControlledViewport:!!Jt,children:nt.jsxs(hb,{children:[nt.jsx(ub,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:Gt,onReconnectStart:jt,onReconnectEnd:St,onlyRenderVisibleElements:I,onEdgeContextMenu:xt,onEdgeMouseEnter:Nt,onEdgeMouseMove:Ct,onEdgeMouseLeave:q,reconnectRadius:kt,defaultMarkerColor:U,noPanClassName:Ht,disableKeyboardA11y:Bt,rfId:ae}),nt.jsx(bb,{style:x,type:v,component:N,containerStyle:w}),nt.jsx("div",{className:"react-flow__edgelabel-renderer"}),nt.jsx(Ww,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:h,nodeClickDistance:mt,onlyRenderVisibleElements:I,noPanClassName:Ht,noDragClassName:qt,disableKeyboardA11y:Bt,nodeExtent:ve,rfId:ae}),nt.jsx("div",{className:"react-flow__viewport-portal"})]})})}t2.displayName="GraphView";const Nb=vt.memo(t2),Xh=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:h,nodeExtent:p,zIndexMode:m="basic"}={})=>{const d=new Map,v=new Map,x=new Map,N=new Map,w=r??e??[],M=n??t??[],_=h??[0,0],A=p??ta;m1(x,N,w);const H=vu(M,d,v,{nodeOrigin:_,nodeExtent:A,zIndexMode:m});let G=[0,0,1];if(s&&i&&o){const W=fa(d,{filter:S=>!!((S.width||S.initialWidth)&&(S.height||S.initialHeight))}),{x:D,y:I,zoom:J}=Uu(W,i,o,l,u,a?.padding??.1);G=[D,I,J]}return{rfId:"1",width:i??0,height:o??0,transform:G,nodes:M,nodesInitialized:H,nodeLookup:d,parentLookup:v,edges:w,edgeLookup:N,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:ta,nodeExtent:A,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ss.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Q0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Fy,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:J0,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Sb=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:h,nodeExtent:p,zIndexMode:m})=>Bv((d,v)=>{async function x(){const{nodeLookup:N,panZoom:w,fitViewOptions:M,fitViewResolver:_,width:A,height:H,minZoom:G,maxZoom:W}=v();w&&(await Iy({nodes:N,width:A,height:H,panZoom:w,minZoom:G,maxZoom:W},M),_?.resolve(!0),d({fitViewResolver:null}))}return{...Xh({nodes:t,edges:e,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:h,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:m}),setNodes:N=>{const{nodeLookup:w,parentLookup:M,nodeOrigin:_,elevateNodesOnSelect:A,fitViewQueued:H,zIndexMode:G}=v(),W=vu(N,w,M,{nodeOrigin:_,nodeExtent:p,elevateNodesOnSelect:A,checkEquality:!0,zIndexMode:G});H&&W?(x(),d({nodes:N,nodesInitialized:W,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:N,nodesInitialized:W})},setEdges:N=>{const{connectionLookup:w,edgeLookup:M}=v();m1(w,M,N),d({edges:N})},setDefaultNodesAndEdges:(N,w)=>{if(N){const{setNodes:M}=v();M(N),d({hasDefaultNodes:!0})}if(w){const{setEdges:M}=v();M(w),d({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:w,nodeLookup:M,parentLookup:_,domNode:A,nodeOrigin:H,nodeExtent:G,debug:W,fitViewQueued:D,zIndexMode:I}=v(),{changes:J,updatedInternals:S}=ev(N,M,_,A,H,G,I);S&&(Ky(M,_,{nodeOrigin:H,nodeExtent:G,zIndexMode:I}),D?(x(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),J?.length>0&&(W&&console.log("React Flow: trigger node changes",J),w?.(J)))},updateNodePositions:(N,w=!1)=>{const M=[];let _=[];const{nodeLookup:A,triggerNodeChanges:H,connection:G,updateConnection:W,onNodesChangeMiddlewareMap:D}=v();for(const[I,J]of N){const S=A.get(I),E=!!(S?.expandParent&&S?.parentId&&J?.position),j={id:I,type:"position",position:E?{x:Math.max(0,J.position.x),y:Math.max(0,J.position.y)}:J.position,dragging:w};if(S&&G.inProgress&&G.fromNode.id===S.id){const k=wo(S,G.fromHandle,Wt.Left,!0);W({...G,from:k})}E&&S.parentId&&M.push({id:I,parentId:S.parentId,rect:{...J.internals.positionAbsolute,width:J.measured.width??0,height:J.measured.height??0}}),_.push(j)}if(M.length>0){const{parentLookup:I,nodeOrigin:J}=v(),S=Xu(M,A,I,J);_.push(...S)}for(const I of D.values())_=I(_);H(_)},triggerNodeChanges:N=>{const{onNodesChange:w,setNodes:M,nodes:_,hasDefaultNodes:A,debug:H}=v();if(N?.length){if(A){const G=aw(N,_);M(G)}H&&console.log("React Flow: trigger node changes",N),w?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:w,setEdges:M,edges:_,hasDefaultEdges:A,debug:H}=v();if(N?.length){if(A){const G=cw(N,_);M(G)}H&&console.log("React Flow: trigger edge changes",N),w?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:w,edgeLookup:M,nodeLookup:_,triggerNodeChanges:A,triggerEdgeChanges:H}=v();if(w){const G=N.map(W=>ao(W,!0));A(G);return}A(Zo(_,new Set([...N]),!0)),H(Zo(M))},addSelectedEdges:N=>{const{multiSelectionActive:w,edgeLookup:M,nodeLookup:_,triggerNodeChanges:A,triggerEdgeChanges:H}=v();if(w){const G=N.map(W=>ao(W,!0));H(G);return}H(Zo(M,new Set([...N]))),A(Zo(_,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:w}={})=>{const{edges:M,nodes:_,nodeLookup:A,triggerNodeChanges:H,triggerEdgeChanges:G}=v(),W=N||_,D=w||M,I=W.map(S=>{const E=A.get(S.id);return E&&(E.selected=!1),ao(S.id,!1)}),J=D.map(S=>ao(S.id,!1));H(I),G(J)},setMinZoom:N=>{const{panZoom:w,maxZoom:M}=v();w?.setScaleExtent([N,M]),d({minZoom:N})},setMaxZoom:N=>{const{panZoom:w,minZoom:M}=v();w?.setScaleExtent([M,N]),d({maxZoom:N})},setTranslateExtent:N=>{v().panZoom?.setTranslateExtent(N),d({translateExtent:N})},resetSelectedElements:()=>{const{edges:N,nodes:w,triggerNodeChanges:M,triggerEdgeChanges:_,elementsSelectable:A}=v();if(!A)return;const H=w.reduce((W,D)=>D.selected?[...W,ao(D.id,!1)]:W,[]),G=N.reduce((W,D)=>D.selected?[...W,ao(D.id,!1)]:W,[]);M(H),_(G)},setNodeExtent:N=>{const{nodes:w,nodeLookup:M,parentLookup:_,nodeOrigin:A,elevateNodesOnSelect:H,nodeExtent:G,zIndexMode:W}=v();N[0][0]===G[0][0]&&N[0][1]===G[0][1]&&N[1][0]===G[1][0]&&N[1][1]===G[1][1]||(vu(w,M,_,{nodeOrigin:A,nodeExtent:N,elevateNodesOnSelect:H,checkEquality:!1,zIndexMode:W}),d({nodeExtent:N}))},panBy:N=>{const{transform:w,width:M,height:_,panZoom:A,translateExtent:H}=v();return nv({delta:N,panZoom:A,transform:w,translateExtent:H,width:M,height:_})},setCenter:async(N,w,M)=>{const{width:_,height:A,maxZoom:H,panZoom:G}=v();if(!G)return Promise.resolve(!1);const W=typeof M?.zoom<"u"?M.zoom:H;return await G.setViewport({x:_/2-N*W,y:A/2-w*W,zoom:W},{duration:M?.duration,ease:M?.ease,interpolate:M?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...Q0}})},updateConnection:N=>{d({connection:N})},reset:()=>d({...Xh()})}},Object.is);function e2({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:h,nodeExtent:p,zIndexMode:m,children:d}){const[v]=vt.useState(()=>Sb({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:h,nodeExtent:p,zIndexMode:m}));return nt.jsx(zv,{value:v,children:nt.jsx(hw,{children:d})})}function Ab({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:h,nodeOrigin:p,nodeExtent:m,zIndexMode:d}){return vt.useContext(Hc)?nt.jsx(nt.Fragment,{children:t}):nt.jsx(e2,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:h,nodeOrigin:p,nodeExtent:m,zIndexMode:d,children:t})}const Lb={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function kb({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:h,onMoveStart:p,onMoveEnd:m,onConnect:d,onConnectStart:v,onConnectEnd:x,onClickConnectStart:N,onClickConnectEnd:w,onNodeMouseEnter:M,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:H,onNodeDoubleClick:G,onNodeDragStart:W,onNodeDrag:D,onNodeDragStop:I,onNodesDelete:J,onEdgesDelete:S,onDelete:E,onSelectionChange:j,onSelectionDragStart:k,onSelectionDrag:B,onSelectionDragStop:U,onSelectionContextMenu:Z,onSelectionStart:$,onSelectionEnd:Q,onBeforeDelete:lt,connectionMode:at,connectionLineType:L=ji.Bezier,connectionLineStyle:O,connectionLineComponent:V,connectionLineContainerStyle:tt,deleteKeyCode:et="Backspace",selectionKeyCode:ot="Shift",selectionOnDrag:it=!1,selectionMode:ut=ea.Full,panActivationKeyCode:gt="Space",multiSelectionKeyCode:mt=ra()?"Meta":"Control",zoomActivationKeyCode:xt=ra()?"Meta":"Control",snapToGrid:Nt,snapGrid:Ct,onlyRenderVisibleElements:q=!1,selectNodesOnDrag:kt,nodesDraggable:Gt,autoPanOnNodeFocus:jt,nodesConnectable:St,nodesFocusable:qt,nodeOrigin:It=C1,edgesFocusable:Ht,edgesReconnectable:Bt,elementsSelectable:ve=!0,defaultViewport:ae=tw,minZoom:Jt=.5,maxZoom:ce=2,translateExtent:pe=ta,preventScrolling:Tt=!0,nodeExtent:te,defaultMarkerColor:zt="#b1b1b7",zoomOnScroll:ze=!0,zoomOnPinch:me=!0,panOnScroll:le=!1,panOnScrollSpeed:ue=.5,panOnScrollMode:Ie=ho.Free,zoomOnDoubleClick:Yt=!0,panOnDrag:ke=!0,onPaneClick:Kt,onPaneMouseEnter:ne,onPaneMouseMove:Me,onPaneMouseLeave:de,onPaneScroll:Xt,onPaneContextMenu:_e,paneClickDistance:zr=1,nodeClickDistance:hn=0,children:fr,onReconnect:er,onReconnectStart:Zt,onReconnectEnd:hr,onEdgeContextMenu:dr,onEdgeDoubleClick:Pn,onEdgeMouseEnter:In,onEdgeMouseMove:je,onEdgeMouseLeave:en,reconnectRadius:sn=10,onNodesChange:Ur,onEdgesChange:Cr,noDragClassName:qn="nodrag",noWheelClassName:nr="nowheel",noPanClassName:Mn="nopan",fitView:Fn,fitViewOptions:Sn,connectOnClick:Hr,attributionPosition:rr,proOptions:$r,defaultEdgeOptions:pi,elevateNodesOnSelect:gi=!0,elevateEdgesOnSelect:mi=!1,disableKeyboardA11y:Ao=!1,autoPanOnConnect:Hi,autoPanOnNodeDrag:Lo,autoPanSpeed:ko,connectionRadius:Rn,isValidConnection:$i,onError:Eo,style:Vi,id:Wi,nodeDragThreshold:Co,connectionDragThreshold:Po,viewport:ir,onViewportChange:yi,width:fs,height:He,colorMode:Io="light",debug:or,onScroll:Vr,ariaLabelConfig:Mo,zIndexMode:An="basic",...Ge},pr){const vi=Wi||"1",hs=iw(Io),ds=vt.useCallback(zn=>{zn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Vr?.(zn)},[Vr]);return nt.jsx("div",{"data-testid":"rf__wrapper",...Ge,onScroll:ds,style:{...Vi,...Lb},ref:pr,className:on(["react-flow",i,hs]),id:Wi,role:"application",children:nt.jsxs(Ab,{nodes:t,edges:e,width:fs,height:He,fitView:Fn,fitViewOptions:Sn,minZoom:Jt,maxZoom:ce,nodeOrigin:It,nodeExtent:te,zIndexMode:An,children:[nt.jsx(Nb,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:M,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:H,onNodeDoubleClick:G,nodeTypes:o,edgeTypes:s,connectionLineType:L,connectionLineStyle:O,connectionLineComponent:V,connectionLineContainerStyle:tt,selectionKeyCode:ot,selectionOnDrag:it,selectionMode:ut,deleteKeyCode:et,multiSelectionKeyCode:mt,panActivationKeyCode:gt,zoomActivationKeyCode:xt,onlyRenderVisibleElements:q,defaultViewport:ae,translateExtent:pe,minZoom:Jt,maxZoom:ce,preventScrolling:Tt,zoomOnScroll:ze,zoomOnPinch:me,zoomOnDoubleClick:Yt,panOnScroll:le,panOnScrollSpeed:ue,panOnScrollMode:Ie,panOnDrag:ke,onPaneClick:Kt,onPaneMouseEnter:ne,onPaneMouseMove:Me,onPaneMouseLeave:de,onPaneScroll:Xt,onPaneContextMenu:_e,paneClickDistance:zr,nodeClickDistance:hn,onSelectionContextMenu:Z,onSelectionStart:$,onSelectionEnd:Q,onReconnect:er,onReconnectStart:Zt,onReconnectEnd:hr,onEdgeContextMenu:dr,onEdgeDoubleClick:Pn,onEdgeMouseEnter:In,onEdgeMouseMove:je,onEdgeMouseLeave:en,reconnectRadius:sn,defaultMarkerColor:zt,noDragClassName:qn,noWheelClassName:nr,noPanClassName:Mn,rfId:vi,disableKeyboardA11y:Ao,nodeExtent:te,viewport:ir,onViewportChange:yi}),nt.jsx(rw,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:d,onConnectStart:v,onConnectEnd:x,onClickConnectStart:N,onClickConnectEnd:w,nodesDraggable:Gt,autoPanOnNodeFocus:jt,nodesConnectable:St,nodesFocusable:qt,edgesFocusable:Ht,edgesReconnectable:Bt,elementsSelectable:ve,elevateNodesOnSelect:gi,elevateEdgesOnSelect:mi,minZoom:Jt,maxZoom:ce,nodeExtent:te,onNodesChange:Ur,onEdgesChange:Cr,snapToGrid:Nt,snapGrid:Ct,connectionMode:at,translateExtent:pe,connectOnClick:Hr,defaultEdgeOptions:pi,fitView:Fn,fitViewOptions:Sn,onNodesDelete:J,onEdgesDelete:S,onDelete:E,onNodeDragStart:W,onNodeDrag:D,onNodeDragStop:I,onSelectionDrag:B,onSelectionDragStart:k,onSelectionDragStop:U,onMove:h,onMoveStart:p,onMoveEnd:m,noPanClassName:Mn,nodeOrigin:It,rfId:vi,autoPanOnConnect:Hi,autoPanOnNodeDrag:Lo,autoPanSpeed:ko,onError:Eo,connectionRadius:Rn,isValidConnection:$i,selectNodesOnDrag:kt,nodeDragThreshold:Co,connectionDragThreshold:Po,onBeforeDelete:lt,debug:or,ariaLabelConfig:Mo,zIndexMode:An}),nt.jsx(Qv,{onSelectionChange:j}),fr,nt.jsx(Yv,{proOptions:$r,position:rr}),nt.jsx(Gv,{rfId:vi,disableKeyboardA11y:Ao})]})})}var Eb=I1(kb);const Cb=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function Pb({children:t}){const e=ge(Cb);return e?qv.createPortal(t,e):null}const Ib=t=>({x:t.transform[0],y:t.transform[1],zoom:t.transform[2]});function Mb(){return ge(Ib,De)}function Fb({dimensions:t,lineWidth:e,variant:n,className:r}){return nt.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:on(["react-flow__background-pattern",n,r])})}function Rb({radius:t,className:e}){return nt.jsx("circle",{cx:t,cy:t,r:t,className:on(["react-flow__background-pattern","dots",e])})}var fi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(fi||(fi={}));const Tb={[fi.Dots]:1,[fi.Lines]:1,[fi.Cross]:6},Ob=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function n2({id:t,variant:e=fi.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:u,patternClassName:h}){const p=vt.useRef(null),{transform:m,patternId:d}=ge(Ob,De),v=r||Tb[e],x=e===fi.Dots,N=e===fi.Cross,w=Array.isArray(n)?n:[n,n],M=[w[0]*m[2]||1,w[1]*m[2]||1],_=v*m[2],A=Array.isArray(o)?o:[o,o],H=N?[_,_]:M,G=[A[0]*m[2]||1+H[0]/2,A[1]*m[2]||1+H[1]/2],W=`${d}${t||""}`;return nt.jsxs("svg",{className:on(["react-flow__background",u]),style:{...l,...Wc,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:p,"data-testid":"rf__background",children:[nt.jsx("pattern",{id:W,x:m[0]%M[0],y:m[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${G[0]},-${G[1]})`,children:x?nt.jsx(Rb,{radius:_/2,className:h}):nt.jsx(Fb,{dimensions:H,lineWidth:i,variant:e,className:h})}),nt.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${W})`})]})}n2.displayName="Background";const Db=vt.memo(n2);function jb(){return nt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:nt.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Bb(){return nt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:nt.jsx("path",{d:"M0 0h32v4.2H0z"})})}function qb(){return nt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:nt.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function zb(){return nt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:nt.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Ub(){return nt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:nt.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ka({children:t,className:e,...n}){return nt.jsx("button",{type:"button",className:on(["react-flow__controls-button",e]),...n,children:t})}const Hb=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function r2({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:h,position:p="bottom-left",orientation:m="vertical","aria-label":d}){const v=qe(),{isInteractive:x,minZoomReached:N,maxZoomReached:w,ariaLabelConfig:M}=ge(Hb,De),{zoomIn:_,zoomOut:A,fitView:H}=Vc(),G=()=>{_(),o?.()},W=()=>{A(),s?.()},D=()=>{H(i),a?.()},I=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),l?.(!x)},J=m==="horizontal"?"horizontal":"vertical";return nt.jsxs($c,{className:on(["react-flow__controls",J,u]),position:p,style:t,"data-testid":"rf__controls","aria-label":d??M["controls.ariaLabel"],children:[e&&nt.jsxs(nt.Fragment,{children:[nt.jsx(Ka,{onClick:G,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:w,children:nt.jsx(jb,{})}),nt.jsx(Ka,{onClick:W,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:N,children:nt.jsx(Bb,{})})]}),n&&nt.jsx(Ka,{className:"react-flow__controls-fitview",onClick:D,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:nt.jsx(qb,{})}),r&&nt.jsx(Ka,{className:"react-flow__controls-interactive",onClick:I,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:x?nt.jsx(Ub,{}):nt.jsx(zb,{})}),h]})}r2.displayName="Controls";vt.memo(r2);function $b({id:t,x:e,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:h,shapeRendering:p,selected:m,onClick:d}){const{background:v,backgroundColor:x}=o||{},N=s||v||x;return nt.jsx("rect",{className:on(["react-flow__minimap-node",{selected:m},u]),x:e,y:n,rx:h,ry:h,width:r,height:i,style:{fill:N,stroke:a,strokeWidth:l},shapeRendering:p,onClick:d?w=>d(w,t):void 0})}const Vb=vt.memo($b),Wb=t=>t.nodes.map(e=>e.id),Dl=t=>t instanceof Function?t:()=>t;function Gb({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Vb,onClick:s}){const a=ge(Wb,De),l=Dl(e),u=Dl(t),h=Dl(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return nt.jsx(nt.Fragment,{children:a.map(m=>nt.jsx(Xb,{id:m,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:p},m))})}function Yb({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:u,x:h,y:p,width:m,height:d}=ge(v=>{const{internals:x}=v.nodeLookup.get(t),N=x.userNode,{x:w,y:M}=x.positionAbsolute,{width:_,height:A}=di(N);return{node:N,x:w,y:M,width:_,height:A}},De);return!u||u.hidden||!s1(u)?null:nt.jsx(a,{x:h,y:p,width:m,height:d,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:l,id:u.id})}const Xb=vt.memo(Yb);var Zb=vt.memo(Gb);const Kb=200,Jb=150,Qb=t=>!t.hidden,t3=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?o1(fa(t.nodeLookup,{filter:Qb}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},e3="react-flow__minimap-desc";function i2({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:h,maskStrokeWidth:p,position:m="bottom-right",onClick:d,onNodeClick:v,pannable:x=!1,zoomable:N=!1,ariaLabel:w,inversePan:M,zoomStep:_=1,offsetScale:A=5}){const H=qe(),G=vt.useRef(null),{boundingRect:W,viewBB:D,rfId:I,panZoom:J,translateExtent:S,flowWidth:E,flowHeight:j,ariaLabelConfig:k}=ge(t3,De),B=t?.width??Kb,U=t?.height??Jb,Z=W.width/B,$=W.height/U,Q=Math.max(Z,$),lt=Q*B,at=Q*U,L=A*Q,O=W.x-(lt-W.width)/2-L,V=W.y-(at-W.height)/2-L,tt=lt+L*2,et=at+L*2,ot=`${e3}-${I}`,it=vt.useRef(0),ut=vt.useRef();it.current=Q,vt.useEffect(()=>{if(G.current&&J)return ut.current=fv({domNode:G.current,panZoom:J,getTransform:()=>H.getState().transform,getViewScale:()=>it.current}),()=>{ut.current?.destroy()}},[J]),vt.useEffect(()=>{ut.current?.update({translateExtent:S,width:E,height:j,inversePan:M,pannable:x,zoomStep:_,zoomable:N})},[x,N,M,_,S,E,j]);const gt=d?Nt=>{const[Ct,q]=ut.current?.pointer(Nt)||[0,0];d(Nt,{x:Ct,y:q})}:void 0,mt=v?vt.useCallback((Nt,Ct)=>{const q=H.getState().nodeLookup.get(Ct).internals.userNode;v(Nt,q)},[]):void 0,xt=w??k["minimap.ariaLabel"];return nt.jsx($c,{position:m,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*Q:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:on(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:nt.jsxs("svg",{width:B,height:U,viewBox:`${O} ${V} ${tt} ${et}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ot,ref:G,onClick:gt,children:[xt&&nt.jsx("title",{id:ot,children:xt}),nt.jsx(Zb,{onClick:mt,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),nt.jsx("path",{className:"react-flow__minimap-mask",d:`M${O-L},${V-L}h${tt+L*2}v${et+L*2}h${-tt-L*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}i2.displayName="MiniMap";vt.memo(i2);const n3=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,r3={[bo.Line]:"right",[bo.Handle]:"bottom-right"};function i3({nodeId:t,position:e,variant:n=bo.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:m,autoScale:d=!0,shouldResize:v,onResizeStart:x,onResize:N,onResizeEnd:w}){const M=T1(),_=typeof t=="string"?t:M,A=qe(),H=vt.useRef(null),G=n===bo.Handle,W=ge(vt.useCallback(n3(G&&d),[G,d]),De),D=vt.useRef(null),I=e??r3[n];vt.useEffect(()=>{if(!(!H.current||!_))return D.current||(D.current=kv({domNode:H.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:S,transform:E,snapGrid:j,snapToGrid:k,nodeOrigin:B,domNode:U}=A.getState();return{nodeLookup:S,transform:E,snapGrid:j,snapToGrid:k,nodeOrigin:B,paneDomNode:U}},onChange:(S,E)=>{const{triggerNodeChanges:j,nodeLookup:k,parentLookup:B,nodeOrigin:U}=A.getState(),Z=[],$={x:S.x,y:S.y},Q=k.get(_);if(Q&&Q.expandParent&&Q.parentId){const lt=Q.origin??U,at=S.width??Q.measured.width??0,L=S.height??Q.measured.height??0,O={id:Q.id,parentId:Q.parentId,rect:{width:at,height:L,...a1({x:S.x??Q.position.x,y:S.y??Q.position.y},{width:at,height:L},Q.parentId,k,lt)}},V=Xu([O],k,B,U);Z.push(...V),$.x=S.x?Math.max(lt[0]*at,S.x):void 0,$.y=S.y?Math.max(lt[1]*L,S.y):void 0}if($.x!==void 0&&$.y!==void 0){const lt={id:_,type:"position",position:{...$}};Z.push(lt)}if(S.width!==void 0&&S.height!==void 0){const at={id:_,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:S.width,height:S.height}};Z.push(at)}for(const lt of E){const at={...lt,type:"position"};Z.push(at)}j(Z)},onEnd:({width:S,height:E})=>{const j={id:_,type:"dimensions",resizing:!1,dimensions:{width:S,height:E}};A.getState().triggerNodeChanges([j])}})),D.current.update({controlPosition:I,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:h},keepAspectRatio:p,resizeDirection:m,onResizeStart:x,onResize:N,onResizeEnd:w,shouldResize:v}),()=>{D.current?.destroy()}},[I,a,l,u,h,p,x,N,w,v]);const J=I.split("-");return nt.jsx("div",{className:on(["react-flow__resize-control","nodrag",...J,n,r]),ref:H,style:{...i,scale:W,...s&&{[G?"backgroundColor":"borderColor"]:s}},children:o})}const Zh=vt.memo(i3);function o3({nodeId:t,isVisible:e=!0,handleClassName:n,handleStyle:r,lineClassName:i,lineStyle:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,autoScale:m=!0,shouldResize:d,onResizeStart:v,onResize:x,onResizeEnd:N}){return e?nt.jsxs(nt.Fragment,{children:[xv.map(w=>nt.jsx(Zh,{className:i,style:o,nodeId:t,position:w,variant:bo.Line,color:s,minWidth:a,minHeight:l,maxWidth:u,maxHeight:h,onResizeStart:v,keepAspectRatio:p,autoScale:m,shouldResize:d,onResize:x,onResizeEnd:N},w)),bv.map(w=>nt.jsx(Zh,{className:n,style:r,nodeId:t,position:w,color:s,minWidth:a,minHeight:l,maxWidth:u,maxHeight:h,onResizeStart:v,keepAspectRatio:p,autoScale:m,shouldResize:d,onResize:x,onResizeEnd:N},w))]}):null}const Kh={q1:{label:"Q1",color:"#00D26A",months:"Jan - Mar"},q2:{label:"Q2",color:"#3b82f6",months:"Apr - Jun"},q3:{label:"Q3",color:"#8b5cf6",months:"Jul - Sep"},q4:{label:"Q4",color:"#f59e0b",months:"Oct - Dec"}},o2={objective:{label:"Objective",color:"#00D26A",icon:"target"},initiative:{label:"Initiative",color:"#3b82f6",icon:"zap"},milestone:{label:"Milestone",color:"#8b5cf6",icon:"flag"},risk:{label:"Risk",color:"#ef4444",icon:"alert"},control:{label:"Control",color:"#14b8a6",icon:"shield"},metric:{label:"Metric",color:"#f59e0b",icon:"chart"}},s3={planned:{label:"Planned",color:"#6a6a6a"},active:{label:"Active",color:"#3b82f6"},done:{label:"Done",color:"#00D26A"},blocked:{label:"Blocked",color:"#ef4444"}},a3={low:{label:"Low",color:"#6a6a6a"},medium:{label:"Medium",color:"#3b82f6"},high:{label:"High",color:"#f59e0b"},critical:{label:"Critical",color:"#ef4444"}},po={dependency:{label:"Dependency",color:"#00D26A",description:"Critical security dependency - blocks downstream work",dashArray:"none",animationDuration:"2s",animationType:"pulse",selectedGlow:!0},supports:{label:"Supports",color:"#3b82f6",description:"Security initiative provides foundational support",dashArray:"8 4",animationDuration:"1s",animationType:"flow",selectedGlow:!0},implements:{label:"Implements",color:"#8b5cf6",description:"Milestone implements security objective",dashArray:"2 4",animationDuration:"3s",animationType:"pulse",selectedGlow:!0},mitigates:{label:"Mitigates",color:"#f59e0b",description:"URGENT: Control mitigates critical security risk",dashArray:"6 3 2 3",animationDuration:"0.8s",animationType:"blink",selectedGlow:!0},"mitigated-by":{label:"Mitigated By",color:"#14b8a6",description:"Risk is covered by implemented control",dashArray:"12 6",animationDuration:"2.5s",animationType:"steady",selectedGlow:!0},measures:{label:"Measures",color:"#eab308",description:"Security metric tracks KPI performance",dashArray:"4 4",animationDuration:"0.6s",animationType:"flow",selectedGlow:!0}},oa={objective:"dependency",initiative:"supports",milestone:"implements",risk:"mitigates",control:"mitigated-by",metric:"measures"};function c3(t,e){if(t&&po[t])return po[t].color;if(e&&oa[e]){const n=oa[e];return po[n].color}return"#00D26A"}function l3(t,e){if(t&&po[t])return po[t].label;if(e&&oa[e]){const n=oa[e];return`${po[n].label} (from ${o2[e].label})`}return"Dependency (Default)"}const u3={target:({size:t=16})=>nt.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[nt.jsx("circle",{cx:"12",cy:"12",r:"10"}),nt.jsx("circle",{cx:"12",cy:"12",r:"6"}),nt.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),zap:({size:t=16})=>nt.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:nt.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),flag:({size:t=16})=>nt.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[nt.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),nt.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),alert:({size:t=16})=>nt.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:nt.jsx("path",{d:"M12 9v4m0 4h.01M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})}),shield:({size:t=16})=>nt.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:nt.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),chart:({size:t=16})=>nt.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:nt.jsx("path",{d:"M18 20V10M12 20V4M6 20v-6"})})};function f3({data:t,selected:e}){const n=o2[t.category],r=s3[t.status],i=a3[t.priority],o=u3[n.icon];return nt.jsxs("div",{className:`strategy-node ${e?"selected":""}`,style:{"--node-color":n.color},children:[nt.jsx(o3,{isVisible:e,minWidth:180,maxWidth:500,minHeight:120,handleStyle:{width:"8px",height:"8px",backgroundColor:"white",border:"2px solid #00D26A"},lineStyle:{borderColor:"#00D26A"}}),nt.jsx(Bi,{type:"target",position:Wt.Top,className:"node-handle"}),nt.jsx(Bi,{type:"target",position:Wt.Left,className:"node-handle"}),nt.jsx(Bi,{type:"source",position:Wt.Bottom,className:"node-handle"}),nt.jsx(Bi,{type:"source",position:Wt.Right,className:"node-handle"}),nt.jsxs("div",{className:"node-header",children:[nt.jsx("div",{className:"node-icon",style:{backgroundColor:`${n.color}20`,color:n.color},children:o&&nt.jsx(o,{size:14})}),nt.jsx("span",{className:"node-category",style:{color:n.color},children:n.label})]}),nt.jsx("div",{className:"node-title",children:t.title}),t.category==="metric"&&t.value&&nt.jsx("div",{className:"node-value",style:{color:n.color},children:t.value}),t.description&&nt.jsx("div",{className:"node-description",children:t.description}),nt.jsxs("div",{className:"node-footer",children:[nt.jsxs("div",{className:"node-status",children:[nt.jsx("span",{className:"status-dot",style:{backgroundColor:r.color}}),nt.jsx("span",{children:r.label})]}),nt.jsx("span",{className:"node-priority",style:{backgroundColor:`${i.color}20`,color:i.color},children:i.label})]})]})}const h3=vt.memo(f3);function d3(t){const{id:e,source:n,target:r,sourceX:i,sourceY:o,targetX:s,targetY:a,sourcePosition:l,targetPosition:u,data:h,selected:p}=t,{getNode:m}=Vc(),[d,v]=vt.useState(!1),x=vt.useRef(null),[N,w]=vt.useState(0);vt.useEffect(()=>{const B=()=>{const Q=document.querySelector(".builder-canvas, .viewer-canvas")?.classList.contains("pdf-export-mode")||!1;Q!==d&&(v(Q),w(lt=>lt+1))};B();const U=document.querySelector(".builder-canvas, .viewer-canvas");U&&(x.current=new MutationObserver($=>{$.forEach(Q=>{Q.type==="attributes"&&Q.attributeName==="class"&&B()})}),x.current.observe(U,{attributes:!0,attributeFilter:["class"]}));const Z=setInterval(B,50);return()=>{x.current?.disconnect(),clearInterval(Z)}},[d]);const[M,_,A]=$u({sourceX:i,sourceY:o,sourcePosition:l,targetX:s,targetY:a,targetPosition:u}),G=m(n)?.data?.category,W=h,D=W?.type||(G?oa[G]:"dependency"),I=po[D],J=c3(W?.type,G),S=l3(W?.type,G),E=!!W?.type,j=()=>{if(d){const U={stroke:J,strokeWidth:p?3:2.5,strokeOpacity:1,opacity:1};return I.dashArray!=="none"&&(U.strokeDasharray=I.dashArray),p&&(U.filter=`drop-shadow(0 0 3px ${J})`),U}const B={stroke:J,strokeWidth:p?3:2,transition:"stroke-width 0.15s ease",willChange:"stroke-dashoffset, filter"};switch(I.dashArray!=="none"&&(B.strokeDasharray=I.dashArray),I.animationType){case"flow":B.animation=`edgeFlow ${I.animationDuration} linear infinite`,p&&(B.animation=`edgeFlow ${parseFloat(I.animationDuration)*.5}s linear infinite`);break;case"pulse":B.animation=`edgePulse ${I.animationDuration} ease-in-out infinite`,p&&(B.animation=`edgeGlow ${parseFloat(I.animationDuration)*.5}s ease-in-out infinite`);break;case"blink":B.animation=`edgeBlink ${I.animationDuration} ease-in-out infinite`;break;case"steady":B.animation=`edgeFlow ${I.animationDuration} linear infinite`;break}return p&&I.selectedGlow&&(B.filter=`drop-shadow(0 0 6px ${J})`),B},k=()=>{switch(I.animationType){case"flow":case"steady":return"edgeFlow";case"pulse":return p?"edgeGlow":"edgePulse";case"blink":return"edgeBlink";default:return""}};return p&&I.animationType!=="blink"?parseFloat(I.animationDuration)*.5:I.animationDuration,nt.jsxs(nt.Fragment,{children:[!d&&p&&I.selectedGlow&&nt.jsx("path",{d:M,fill:"none",stroke:J,strokeWidth:6,strokeOpacity:.2,style:{filter:"blur(4px)",pointerEvents:"none"}}),nt.jsx("g",{"data-edge-type":D,children:nt.jsx(pa,{id:e,path:M,style:j(),className:`edge-animation-${k()}`},N)}),nt.jsx(Pb,{children:nt.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${_}px, ${A}px)`,fontSize:"0.65rem",fontWeight:600,pointerEvents:"all",zIndex:1e3,opacity:p?1:0,transition:"opacity 0.15s ease"},className:"nodrag nopan",children:nt.jsxs("div",{style:{background:"rgba(17, 17, 17, 0.95)",border:`1px solid ${J}`,borderRadius:"4px",padding:"2px 8px",color:J,whiteSpace:"nowrap",boxShadow:p?`0 0 12px ${J}40`:"0 2px 8px rgba(0, 0, 0, 0.4)",fontSize:"0.6rem",transition:"box-shadow 0.15s ease"},title:I.description,children:[S,!E&&nt.jsx("span",{style:{opacity:.6,marginLeft:"4px"},children:"Auto"})]})})})]})}function p3(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const g3=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function zi(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let Uo=null;function s2(t={}){return Uo||(t.includeStyleProperties?(Uo=t.includeStyleProperties,Uo):(Uo=zi(window.getComputedStyle(document.documentElement)),Uo))}function Cc(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function m3(t){const e=Cc(t,"border-left-width"),n=Cc(t,"border-right-width");return t.clientWidth+e+n}function y3(t){const e=Cc(t,"border-top-width"),n=Cc(t,"border-bottom-width");return t.clientHeight+e+n}function a2(t,e={}){const n=e.width||m3(t),r=e.height||y3(t);return{width:n,height:r}}function v3(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Zn=16384;function w3(t){(t.width>Zn||t.height>Zn)&&(t.width>Zn&&t.height>Zn?t.width>t.height?(t.height*=Zn/t.width,t.width=Zn):(t.width*=Zn/t.height,t.height=Zn):t.width>Zn?(t.height*=Zn/t.width,t.width=Zn):(t.width*=Zn/t.height,t.height=Zn))}function Pc(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function b3(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function x3(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),b3(i)}const jn=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||jn(n,e)};function _3(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function N3(t,e){return s2(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function S3(t,e,n,r){const i=`.${t}:${e}`,o=n.cssText?_3(n):N3(n,r);return document.createTextNode(`${i}{${o}}`)}function Jh(t,e,n,r){const i=window.getComputedStyle(t,n),o=i.getPropertyValue("content");if(o===""||o==="none")return;const s=g3();try{e.className=`${e.className} ${s}`}catch{return}const a=document.createElement("style");a.appendChild(S3(s,n,i,r)),e.appendChild(a)}function A3(t,e,n){Jh(t,e,":before",n),Jh(t,e,":after",n)}const Qh="application/font-woff",td="image/jpeg",L3={woff:Qh,woff2:Qh,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:td,jpeg:td,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function k3(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function Ku(t){const e=k3(t).toLowerCase();return L3[e]||""}function E3(t){return t.split(/,/)[1]}function xu(t){return t.search(/^(data:)/)!==-1}function C3(t,e){return`data:${e};base64,${t}`}async function c2(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,s)=>{const a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(n({res:r,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})}const jl={};function P3(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function Ju(t,e,n){const r=P3(t,e,n.includeQueryParams);if(jl[r]!=null)return jl[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const o=await c2(t,n.fetchRequestInit,({res:s,result:a})=>(e||(e=s.headers.get("Content-Type")||""),E3(a)));i=C3(o,e)}catch(o){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return jl[r]=i,i}async function I3(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):Pc(e)}async function M3(t,e){if(t.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.clientWidth,o.height=t.clientHeight,s?.drawImage(t,0,0,o.width,o.height);const a=o.toDataURL();return Pc(a)}const n=t.poster,r=Ku(n),i=await Ju(n,r,e);return Pc(i)}async function F3(t,e){var n;try{if(!((n=t?.contentDocument)===null||n===void 0)&&n.body)return await Gc(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function R3(t,e){return jn(t,HTMLCanvasElement)?I3(t):jn(t,HTMLVideoElement)?M3(t,e):jn(t,HTMLIFrameElement)?F3(t,e):t.cloneNode(l2(t))}const T3=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",l2=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function O3(t,e,n){var r,i;if(l2(e))return e;let o=[];return T3(t)&&t.assignedNodes?o=zi(t.assignedNodes()):jn(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?o=zi(t.contentDocument.body.childNodes):o=zi(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),o.length===0||jn(t,HTMLVideoElement)||await o.reduce((s,a)=>s.then(()=>Gc(a,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function D3(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):s2(n).forEach(o=>{let s=i.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),jn(t,HTMLIFrameElement)&&o==="display"&&s==="inline"&&(s="block"),o==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),r.setProperty(o,s,i.getPropertyPriority(o))})}function j3(t,e){jn(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),jn(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function B3(t,e){if(jn(t,HTMLSelectElement)){const r=Array.from(e.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function q3(t,e,n){return jn(e,Element)&&(D3(t,e,n),A3(t,e,n),j3(t,e),B3(t,e)),e}async function z3(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const l=t.querySelector(a),u=document.querySelector(a);!l&&u&&!r[a]&&(r[a]=await Gc(u,e,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);t.appendChild(s)}return t}async function Gc(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>R3(r,e)).then(r=>O3(t,r,e)).then(r=>q3(t,r,e)).then(r=>z3(r,e))}const u2=/url\((['"]?)([^'"]+?)\1\)/g,U3=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,H3=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function $3(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function V3(t){const e=[];return t.replace(u2,(n,r,i)=>(e.push(i),n)),e.filter(n=>!xu(n))}async function W3(t,e,n,r,i){try{const o=n?p3(e,n):e,s=Ku(e);let a;return i||(a=await Ju(o,s,r)),t.replace($3(e),`$1${a}$3`)}catch{}return t}function G3(t,{preferredFontFormat:e}){return e?t.replace(H3,n=>{for(;;){const[r,,i]=U3.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function f2(t){return t.search(u2)!==-1}async function h2(t,e,n){if(!f2(t))return t;const r=G3(t,n);return V3(r).reduce((o,s)=>o.then(a=>W3(a,s,e,n)),Promise.resolve(r))}async function Ho(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const o=await h2(i,null,n);return e.style.setProperty(t,o,e.style.getPropertyPriority(t)),!0}return!1}async function Y3(t,e){await Ho("background",t,e)||await Ho("background-image",t,e),await Ho("mask",t,e)||await Ho("-webkit-mask",t,e)||await Ho("mask-image",t,e)||await Ho("-webkit-mask-image",t,e)}async function X3(t,e){const n=jn(t,HTMLImageElement);if(!(n&&!xu(t.src))&&!(jn(t,SVGImageElement)&&!xu(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await Ju(r,Ku(r),e);await new Promise((o,s)=>{t.onload=o,t.onerror=e.onImageErrorHandler?(...l)=>{try{o(e.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const a=t;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function Z3(t,e){const r=zi(t.childNodes).map(i=>d2(i,e));await Promise.all(r).then(()=>t)}async function d2(t,e){jn(t,Element)&&(await Y3(t,e),await X3(t,e),await Z3(t,e))}function K3(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const ed={};async function nd(t){let e=ed[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},ed[t]=e,e}async function rd(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let a=s.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),c2(a,e.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(o).then(()=>n)}function id(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=a.exec(r),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(l[0])}return e}async function J3(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{zi(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1;const l=o.href,u=nd(l).then(h=>rd(h,e)).then(h=>id(h).forEach(p=>{try{i.insertRule(p,p.startsWith("@import")?a+=1:i.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:p,error:m})}})).catch(h=>{console.error("Error loading remote css",h.toString())});r.push(u)}})}catch(o){const s=t.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(nd(i.href).then(a=>rd(a,e)).then(a=>id(a).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{zi(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function Q3(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>f2(e.style.getPropertyValue("src")))}async function t4(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=zi(t.ownerDocument.styleSheets),r=await J3(n,e);return Q3(r)}function p2(t){return t.trim().replace(/["']/g,"")}function e4(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(o=>{e.add(p2(o))}),Array.from(r.children).forEach(o=>{o instanceof HTMLElement&&n(o)})}return n(t),e}async function n4(t,e){const n=await t4(t,e),r=e4(t);return(await Promise.all(n.filter(o=>r.has(p2(o.style.fontFamily))).map(o=>{const s=o.parentStyleSheet?o.parentStyleSheet.href:null;return h2(o.cssText,s,e)}))).join(`
`)}async function r4(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await n4(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function i4(t,e={}){const{width:n,height:r}=a2(t,e),i=await Gc(t,e,!0);return await r4(i,e),await d2(i,e),K3(i,e),await x3(i,n,r)}async function o4(t,e={}){const{width:n,height:r}=a2(t,e),i=await i4(t,e),o=await Pc(i),s=document.createElement("canvas"),a=s.getContext("2d"),l=e.pixelRatio||v3(),u=e.canvasWidth||n,h=e.canvasHeight||r;return s.width=u*l,s.height=h*l,e.skipAutoScale||w3(s),s.style.width=`${u}`,s.style.height=`${h}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(o,0,0,s.width,s.height),s}async function s4(t,e={}){return(await o4(t,e)).toDataURL()}const a4="modulepreload",c4=function(t){return"/"+t},od={},Bl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=s(n.map(u=>{if(u=c4(u),u in od)return;od[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":a4,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((d,v)=>{m.addEventListener("load",d),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function Le(t){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(t)}var Ar=Uint8Array,Qn=Uint16Array,Qu=Int32Array,tf=new Ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ef=new Ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sd=new Ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g2=function(t,e){for(var n=new Qn(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Qu(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},m2=g2(tf,2),l4=m2.b,_u=m2.r;l4[28]=258,_u[258]=28;var u4=g2(ef,0),ad=u4.r,Nu=new Qn(32768);for(var Oe=0;Oe<32768;++Oe){var Oi=(Oe&43690)>>1|(Oe&21845)<<1;Oi=(Oi&52428)>>2|(Oi&13107)<<2,Oi=(Oi&61680)>>4|(Oi&3855)<<4,Nu[Oe]=((Oi&65280)>>8|(Oi&255)<<8)>>1}var Ys=(function(t,e,n){for(var r=t.length,i=0,o=new Qn(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Qn(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Qn(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],p=s[t[i]-1]++<<h,m=p|(1<<h)-1;p<=m;++p)a[Nu[p]>>l]=u}else for(a=new Qn(r),i=0;i<r;++i)t[i]&&(a[i]=Nu[s[t[i]-1]++]>>15-t[i]);return a}),xo=new Ar(288);for(var Oe=0;Oe<144;++Oe)xo[Oe]=8;for(var Oe=144;Oe<256;++Oe)xo[Oe]=9;for(var Oe=256;Oe<280;++Oe)xo[Oe]=7;for(var Oe=280;Oe<288;++Oe)xo[Oe]=8;var Ic=new Ar(32);for(var Oe=0;Oe<32;++Oe)Ic[Oe]=5;var f4=Ys(xo,9,0),h4=Ys(Ic,5,0),y2=function(t){return(t+7)/8|0},d4=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ar(t.subarray(e,n))},ai=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Us=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ql=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:w2,l:0};if(i==1){var s=new Ar(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(H,G){return H.f-G.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,h=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[u].f<n[p].f?u++:p++],l=n[u!=h&&n[u].f<n[p].f?u++:p++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=o[0].s,r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var d=new Qn(m+1),v=Su(n[h-1],d,0);if(v>e){var r=0,x=0,N=v-e,w=1<<N;for(o.sort(function(G,W){return d[W.s]-d[G.s]||G.f-W.f});r<i;++r){var M=o[r].s;if(d[M]>e)x+=w-(1<<v-d[M]),d[M]=e;else break}for(x>>=N;x>0;){var _=o[r].s;d[_]<e?x-=1<<e-d[_]++-1:++r}for(;r>=0&&x;--r){var A=o[r].s;d[A]==e&&(--d[A],++x)}v=e}return{t:new Ar(d),l:v}},Su=function(t,e,n){return t.s==-1?Math.max(Su(t.l,e,n+1),Su(t.r,e,n+1)):e[t.s]=n},cd=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Qn(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Hs=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},v2=function(t,e,n){var r=n.length,i=y2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},ld=function(t,e,n,r,i,o,s,a,l,u,h){ai(e,h++,n),++i[256];for(var p=ql(i,15),m=p.t,d=p.l,v=ql(o,15),x=v.t,N=v.l,w=cd(m),M=w.c,_=w.n,A=cd(x),H=A.c,G=A.n,W=new Qn(19),D=0;D<M.length;++D)++W[M[D]&31];for(var D=0;D<H.length;++D)++W[H[D]&31];for(var I=ql(W,7),J=I.t,S=I.l,E=19;E>4&&!J[sd[E-1]];--E);var j=u+5<<3,k=Hs(i,xo)+Hs(o,Ic)+s,B=Hs(i,m)+Hs(o,x)+s+14+3*E+Hs(W,J)+2*W[16]+3*W[17]+7*W[18];if(l>=0&&j<=k&&j<=B)return v2(e,h,t.subarray(l,l+u));var U,Z,$,Q;if(ai(e,h,1+(B<k)),h+=2,B<k){U=Ys(m,d,0),Z=m,$=Ys(x,N,0),Q=x;var lt=Ys(J,S,0);ai(e,h,_-257),ai(e,h+5,G-1),ai(e,h+10,E-4),h+=14;for(var D=0;D<E;++D)ai(e,h+3*D,J[sd[D]]);h+=3*E;for(var at=[M,H],L=0;L<2;++L)for(var O=at[L],D=0;D<O.length;++D){var V=O[D]&31;ai(e,h,lt[V]),h+=J[V],V>15&&(ai(e,h,O[D]>>5&127),h+=O[D]>>12)}}else U=f4,Z=xo,$=h4,Q=Ic;for(var D=0;D<a;++D){var tt=r[D];if(tt>255){var V=tt>>18&31;Us(e,h,U[V+257]),h+=Z[V+257],V>7&&(ai(e,h,tt>>23&31),h+=tf[V]);var et=tt&31;Us(e,h,$[et]),h+=Q[et],et>3&&(Us(e,h,tt>>5&8191),h+=ef[et])}else Us(e,h,U[tt]),h+=Z[tt]}return Us(e,h,U[256]),h+Z[256]},p4=new Qu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),w2=new Ar(0),g4=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Ar(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,h=(o.r||0)&7;if(e){h&&(l[0]=o.r>>3);for(var p=p4[e-1],m=p>>13,d=p&8191,v=(1<<n)-1,x=o.p||new Qn(32768),N=o.h||new Qn(v+1),w=Math.ceil(n/3),M=2*w,_=function(Ct){return(t[Ct]^t[Ct+1]<<w^t[Ct+2]<<M)&v},A=new Qu(25e3),H=new Qn(288),G=new Qn(32),W=0,D=0,I=o.i||0,J=0,S=o.w||0,E=0;I+2<s;++I){var j=_(I),k=I&32767,B=N[j];if(x[k]=B,N[j]=k,S<=I){var U=s-I;if((W>7e3||J>24576)&&(U>423||!u)){h=ld(t,l,0,A,H,G,D,J,E,I-E,h),J=W=D=0,E=I;for(var Z=0;Z<286;++Z)H[Z]=0;for(var Z=0;Z<30;++Z)G[Z]=0}var $=2,Q=0,lt=d,at=k-B&32767;if(U>2&&j==_(I-at))for(var L=Math.min(m,U)-1,O=Math.min(32767,I),V=Math.min(258,U);at<=O&&--lt&&k!=B;){if(t[I+$]==t[I+$-at]){for(var tt=0;tt<V&&t[I+tt]==t[I+tt-at];++tt);if(tt>$){if($=tt,Q=at,tt>L)break;for(var et=Math.min(at,tt-2),ot=0,Z=0;Z<et;++Z){var it=I-at+Z&32767,ut=x[it],gt=it-ut&32767;gt>ot&&(ot=gt,B=it)}}}k=B,B=x[k],at+=k-B&32767}if(Q){A[J++]=268435456|_u[$]<<18|ad[Q];var mt=_u[$]&31,xt=ad[Q]&31;D+=tf[mt]+ef[xt],++H[257+mt],++G[xt],S=I+$,++W}else A[J++]=t[I],++H[t[I]]}}for(I=Math.max(I,S);I<s;++I)A[J++]=t[I],++H[t[I]];h=ld(t,l,u,A,H,G,D,J,E,I-E,h),u||(o.r=h&7|l[h/8|0]<<3,h-=7,o.h=N,o.p=x,o.i=I,o.w=S)}else{for(var I=o.w||0;I<s+u;I+=65535){var Nt=I+65535;Nt>=s&&(l[h/8|0]=u,Nt=s),h=v2(l,h+1,t.subarray(I,Nt))}o.i=s}return d4(a,0,r+y2(h)+i)},b2=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},m4=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ar(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return g4(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},x2=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},y4=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=b2();i.p(e.dictionary),x2(t,2,i.d())}};function Au(t,e){e||(e={});var n=b2();n.p(t);var r=m4(t,e,e.dictionary?6:2,4);return y4(r,e),x2(r,r.length-4,n.d()),r}var v4=typeof TextDecoder<"u"&&new TextDecoder,w4=0;try{v4.decode(w2,{stream:!0}),w4=1}catch{}function b4(t){if(Array.isArray(t))return t}function x4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ud(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _4(t,e){if(t){if(typeof t=="string")return ud(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ud(t,e):void 0}}function N4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fd(t,e){return b4(t)||x4(t,e)||_4(t,e)||N4()}function hd(t,e="utf8"){return new TextDecoder(e).decode(t)}const S4=new TextEncoder;function A4(t){return S4.encode(t)}const L4=1024*8,k4=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),zl={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nf{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=L4,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof nf)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=zl[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===k4&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new zl[n](a.buffer);return this.offset+=r,l.reverse(),l}const s=new zl[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return hd(this.readBytes(e))}decodeText(e=1,n="utf8"){return hd(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(A4(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function us(t){let e=t.length;for(;--e>=0;)t[e]=0}const E4=3,C4=258,_2=29,P4=256,I4=P4+1+_2,N2=30,M4=512,F4=new Array((I4+2)*2);us(F4);const R4=new Array(N2*2);us(R4);const T4=new Array(M4);us(T4);const O4=new Array(C4-E4+1);us(O4);const D4=new Array(_2);us(D4);const j4=new Array(N2);us(j4);const B4=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var Lu=B4;const q4=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},z4=new Uint32Array(q4()),U4=(t,e,n,r)=>{const i=z4,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Fr=U4,ku={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},S2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const H4=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $4=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)H4(n,r)&&(t[r]=n[r])}}return t},V4=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},A2={assign:$4,flattenChunks:V4};let L2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L2=!1}const sa=new Uint8Array(256);for(let t=0;t<256;t++)sa[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;sa[254]=sa[254]=1;var W4=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const G4=(t,e)=>{if(e<65534&&t.subarray&&L2)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Y4=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=sa[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return G4(o,i)},X4=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+sa[t[n]]>e?n:e},Eu={string2buf:W4,buf2string:Y4,utf8border:X4};function Z4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var K4=Z4;const Ja=16209,J4=16191;var Q4=function(e,n){let r,i,o,s,a,l,u,h,p,m,d,v,x,N,w,M,_,A,H,G,W,D,I,J;const S=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),o=e.next_out,J=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=S.dmax,u=S.wsize,h=S.whave,p=S.wnext,m=S.window,d=S.hold,v=S.bits,x=S.lencode,N=S.distcode,w=(1<<S.lenbits)-1,M=(1<<S.distbits)-1;t:do{v<15&&(d+=I[r++]<<v,v+=8,d+=I[r++]<<v,v+=8),_=x[d&w];e:for(;;){if(A=_>>>24,d>>>=A,v-=A,A=_>>>16&255,A===0)J[o++]=_&65535;else if(A&16){H=_&65535,A&=15,A&&(v<A&&(d+=I[r++]<<v,v+=8),H+=d&(1<<A)-1,d>>>=A,v-=A),v<15&&(d+=I[r++]<<v,v+=8,d+=I[r++]<<v,v+=8),_=N[d&M];n:for(;;){if(A=_>>>24,d>>>=A,v-=A,A=_>>>16&255,A&16){if(G=_&65535,A&=15,v<A&&(d+=I[r++]<<v,v+=8,v<A&&(d+=I[r++]<<v,v+=8)),G+=d&(1<<A)-1,G>l){e.msg="invalid distance too far back",S.mode=Ja;break t}if(d>>>=A,v-=A,A=o-s,G>A){if(A=G-A,A>h&&S.sane){e.msg="invalid distance too far back",S.mode=Ja;break t}if(W=0,D=m,p===0){if(W+=u-A,A<H){H-=A;do J[o++]=m[W++];while(--A);W=o-G,D=J}}else if(p<A){if(W+=u+p-A,A-=p,A<H){H-=A;do J[o++]=m[W++];while(--A);if(W=0,p<H){A=p,H-=A;do J[o++]=m[W++];while(--A);W=o-G,D=J}}}else if(W+=p-A,A<H){H-=A;do J[o++]=m[W++];while(--A);W=o-G,D=J}for(;H>2;)J[o++]=D[W++],J[o++]=D[W++],J[o++]=D[W++],H-=3;H&&(J[o++]=D[W++],H>1&&(J[o++]=D[W++]))}else{W=o-G;do J[o++]=J[W++],J[o++]=J[W++],J[o++]=J[W++],H-=3;while(H>2);H&&(J[o++]=J[W++],H>1&&(J[o++]=J[W++]))}}else if((A&64)===0){_=N[(_&65535)+(d&(1<<A)-1)];continue n}else{e.msg="invalid distance code",S.mode=Ja;break t}break}}else if((A&64)===0){_=x[(_&65535)+(d&(1<<A)-1)];continue e}else if(A&32){S.mode=J4;break t}else{e.msg="invalid literal/length code",S.mode=Ja;break t}break}}while(r<i&&o<a);H=v>>3,r-=H,v-=H<<3,d&=(1<<v)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),S.hold=d,S.bits=v};const $o=15,dd=852,pd=592,gd=0,Ul=1,md=2,tx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ex=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rx=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ix=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let u=0,h=0,p=0,m=0,d=0,v=0,x=0,N=0,w=0,M=0,_,A,H,G,W,D=null,I;const J=new Uint16Array($o+1),S=new Uint16Array($o+1);let E=null,j,k,B;for(u=0;u<=$o;u++)J[u]=0;for(h=0;h<r;h++)J[e[n+h]]++;for(d=l,m=$o;m>=1&&J[m]===0;m--);if(d>m&&(d=m),m===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<m&&J[p]===0;p++);for(d<p&&(d=p),N=1,u=1;u<=$o;u++)if(N<<=1,N-=J[u],N<0)return-1;if(N>0&&(t===gd||m!==1))return-1;for(S[1]=0,u=1;u<$o;u++)S[u+1]=S[u]+J[u];for(h=0;h<r;h++)e[n+h]!==0&&(s[S[e[n+h]]++]=h);if(t===gd?(D=E=s,I=20):t===Ul?(D=tx,E=ex,I=257):(D=nx,E=rx,I=0),M=0,h=0,u=p,W=o,v=d,x=0,H=-1,w=1<<d,G=w-1,t===Ul&&w>dd||t===md&&w>pd)return 1;for(;;){j=u-x,s[h]+1<I?(k=0,B=s[h]):s[h]>=I?(k=E[s[h]-I],B=D[s[h]-I]):(k=96,B=0),_=1<<u-x,A=1<<v,p=A;do A-=_,i[W+(M>>x)+A]=j<<24|k<<16|B|0;while(A!==0);for(_=1<<u-1;M&_;)_>>=1;if(_!==0?(M&=_-1,M+=_):M=0,h++,--J[u]===0){if(u===m)break;u=e[n+s[h]]}if(u>d&&(M&G)!==H){for(x===0&&(x=d),W+=p,v=u-x,N=1<<v;v+x<m&&(N-=J[v+x],!(N<=0));)v++,N<<=1;if(w+=1<<v,t===Ul&&w>dd||t===md&&w>pd)return 1;H=M&G,i[H]=d<<24|v<<16|W-o|0}}return M!==0&&(i[W+M]=u-x<<24|64<<16|0),a.bits=d,0};var Xs=ix;const ox=0,k2=1,E2=2,{Z_FINISH:yd,Z_BLOCK:sx,Z_TREES:Qa,Z_OK:_o,Z_STREAM_END:ax,Z_NEED_DICT:cx,Z_STREAM_ERROR:ur,Z_DATA_ERROR:C2,Z_MEM_ERROR:P2,Z_BUF_ERROR:lx,Z_DEFLATED:vd}=S2,Yc=16180,wd=16181,bd=16182,xd=16183,_d=16184,Nd=16185,Sd=16186,Ad=16187,Ld=16188,kd=16189,Mc=16190,ci=16191,Hl=16192,Ed=16193,$l=16194,Cd=16195,Pd=16196,Id=16197,Md=16198,tc=16199,ec=16200,Fd=16201,Rd=16202,Td=16203,Od=16204,Dd=16205,Vl=16206,jd=16207,Bd=16208,Be=16209,I2=16210,M2=16211,ux=852,fx=592,hx=15,dx=hx,qd=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function px(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const No=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Yc||e.mode>M2?1:0},F2=t=>{if(No(t))return ur;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Yc,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ux),e.distcode=e.distdyn=new Int32Array(fx),e.sane=1,e.back=-1,_o},R2=t=>{if(No(t))return ur;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,F2(t)},T2=(t,e)=>{let n;if(No(t))return ur;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ur:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,R2(t))},O2=(t,e)=>{if(!t)return ur;const n=new px;t.state=n,n.strm=t,n.window=null,n.mode=Yc;const r=T2(t,e);return r!==_o&&(t.state=null),r},gx=t=>O2(t,dx);let zd=!0,Wl,Gl;const mx=t=>{if(zd){Wl=new Int32Array(512),Gl=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Xs(k2,t.lens,0,288,Wl,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Xs(E2,t.lens,0,32,Gl,0,t.work,{bits:5}),zd=!1}t.lencode=Wl,t.lenbits=9,t.distcode=Gl,t.distbits=5},D2=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},yx=(t,e)=>{let n,r,i,o,s,a,l,u,h,p,m,d,v,x,N=0,w,M,_,A,H,G,W,D;const I=new Uint8Array(4);let J,S;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(No(t)||!t.output||!t.input&&t.avail_in!==0)return ur;n=t.state,n.mode===ci&&(n.mode=Hl),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,h=n.bits,p=a,m=l,D=_o;t:for(;;)switch(n.mode){case Yc:if(n.wrap===0){n.mode=Hl;break}for(;h<16;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=u&255,I[1]=u>>>8&255,n.check=Fr(n.check,I,2,0),u=0,h=0,n.mode=wd;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Be;break}if((u&15)!==vd){t.msg="unknown compression method",n.mode=Be;break}if(u>>>=4,h-=4,W=(u&15)+8,n.wbits===0&&(n.wbits=W),W>15||W>n.wbits){t.msg="invalid window size",n.mode=Be;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?kd:ci,u=0,h=0;break;case wd:for(;h<16;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(n.flags=u,(n.flags&255)!==vd){t.msg="unknown compression method",n.mode=Be;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Be;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Fr(n.check,I,2,0)),u=0,h=0,n.mode=bd;case bd:for(;h<32;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,n.check=Fr(n.check,I,4,0)),u=0,h=0,n.mode=xd;case xd:for(;h<16;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Fr(n.check,I,2,0)),u=0,h=0,n.mode=_d;case _d:if(n.flags&1024){for(;h<16;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,n.check=Fr(n.check,I,2,0)),u=0,h=0}else n.head&&(n.head.extra=null);n.mode=Nd;case Nd:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(W=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),W)),n.flags&512&&n.wrap&4&&(n.check=Fr(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=Sd;case Sd:if(n.flags&2048){if(a===0)break t;d=0;do W=r[o+d++],n.head&&W&&n.length<65536&&(n.head.name+=String.fromCharCode(W));while(W&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Fr(n.check,r,d,o)),a-=d,o+=d,W)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Ad;case Ad:if(n.flags&4096){if(a===0)break t;d=0;do W=r[o+d++],n.head&&W&&n.length<65536&&(n.head.comment+=String.fromCharCode(W));while(W&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Fr(n.check,r,d,o)),a-=d,o+=d,W)break t}else n.head&&(n.head.comment=null);n.mode=Ld;case Ld:if(n.flags&512){for(;h<16;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Be;break}u=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ci;break;case kd:for(;h<32;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}t.adler=n.check=qd(u),u=0,h=0,n.mode=Mc;case Mc:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=h,cx;t.adler=n.check=1,n.mode=ci;case ci:if(e===sx||e===Qa)break t;case Hl:if(n.last){u>>>=h&7,h-=h&7,n.mode=Vl;break}for(;h<3;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}switch(n.last=u&1,u>>>=1,h-=1,u&3){case 0:n.mode=Ed;break;case 1:if(mx(n),n.mode=tc,e===Qa){u>>>=2,h-=2;break t}break;case 2:n.mode=Pd;break;case 3:t.msg="invalid block type",n.mode=Be}u>>>=2,h-=2;break;case Ed:for(u>>>=h&7,h-=h&7;h<32;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Be;break}if(n.length=u&65535,u=0,h=0,n.mode=$l,e===Qa)break t;case $l:n.mode=Cd;case Cd:if(d=n.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break t;i.set(r.subarray(o,o+d),s),a-=d,o+=d,l-=d,s+=d,n.length-=d;break}n.mode=ci;break;case Pd:for(;h<14;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(n.nlen=(u&31)+257,u>>>=5,h-=5,n.ndist=(u&31)+1,u>>>=5,h-=5,n.ncode=(u&15)+4,u>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Be;break}n.have=0,n.mode=Id;case Id:for(;n.have<n.ncode;){for(;h<3;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}n.lens[E[n.have++]]=u&7,u>>>=3,h-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,J={bits:n.lenbits},D=Xs(ox,n.lens,0,19,n.lencode,0,n.work,J),n.lenbits=J.bits,D){t.msg="invalid code lengths set",n.mode=Be;break}n.have=0,n.mode=Md;case Md:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[u&(1<<n.lenbits)-1],w=N>>>24,M=N>>>16&255,_=N&65535,!(w<=h);){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(_<16)u>>>=w,h-=w,n.lens[n.have++]=_;else{if(_===16){for(S=w+2;h<S;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(u>>>=w,h-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Be;break}W=n.lens[n.have-1],d=3+(u&3),u>>>=2,h-=2}else if(_===17){for(S=w+3;h<S;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}u>>>=w,h-=w,W=0,d=3+(u&7),u>>>=3,h-=3}else{for(S=w+7;h<S;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}u>>>=w,h-=w,W=0,d=11+(u&127),u>>>=7,h-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Be;break}for(;d--;)n.lens[n.have++]=W}}if(n.mode===Be)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Be;break}if(n.lenbits=9,J={bits:n.lenbits},D=Xs(k2,n.lens,0,n.nlen,n.lencode,0,n.work,J),n.lenbits=J.bits,D){t.msg="invalid literal/lengths set",n.mode=Be;break}if(n.distbits=6,n.distcode=n.distdyn,J={bits:n.distbits},D=Xs(E2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,J),n.distbits=J.bits,D){t.msg="invalid distances set",n.mode=Be;break}if(n.mode=tc,e===Qa)break t;case tc:n.mode=ec;case ec:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=h,Q4(t,m),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,h=n.bits,n.mode===ci&&(n.back=-1);break}for(n.back=0;N=n.lencode[u&(1<<n.lenbits)-1],w=N>>>24,M=N>>>16&255,_=N&65535,!(w<=h);){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(M&&(M&240)===0){for(A=w,H=M,G=_;N=n.lencode[G+((u&(1<<A+H)-1)>>A)],w=N>>>24,M=N>>>16&255,_=N&65535,!(A+w<=h);){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}u>>>=A,h-=A,n.back+=A}if(u>>>=w,h-=w,n.back+=w,n.length=_,M===0){n.mode=Dd;break}if(M&32){n.back=-1,n.mode=ci;break}if(M&64){t.msg="invalid literal/length code",n.mode=Be;break}n.extra=M&15,n.mode=Fd;case Fd:if(n.extra){for(S=n.extra;h<S;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Rd;case Rd:for(;N=n.distcode[u&(1<<n.distbits)-1],w=N>>>24,M=N>>>16&255,_=N&65535,!(w<=h);){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if((M&240)===0){for(A=w,H=M,G=_;N=n.distcode[G+((u&(1<<A+H)-1)>>A)],w=N>>>24,M=N>>>16&255,_=N&65535,!(A+w<=h);){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}u>>>=A,h-=A,n.back+=A}if(u>>>=w,h-=w,n.back+=w,M&64){t.msg="invalid distance code",n.mode=Be;break}n.offset=_,n.extra=M&15,n.mode=Td;case Td:if(n.extra){for(S=n.extra;h<S;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Be;break}n.mode=Od;case Od:if(l===0)break t;if(d=m-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Be;break}d>n.wnext?(d-=n.wnext,v=n.wsize-d):v=n.wnext-d,d>n.length&&(d=n.length),x=n.window}else x=i,v=s-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[s++]=x[v++];while(--d);n.length===0&&(n.mode=ec);break;case Dd:if(l===0)break t;i[s++]=n.length,l--,n.mode=ec;break;case Vl:if(n.wrap){for(;h<32;){if(a===0)break t;a--,u|=r[o++]<<h,h+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Fr(n.check,i,m,s-m):Lu(n.check,i,m,s-m)),m=l,n.wrap&4&&(n.flags?u:qd(u))!==n.check){t.msg="incorrect data check",n.mode=Be;break}u=0,h=0}n.mode=jd;case jd:if(n.wrap&&n.flags){for(;h<32;){if(a===0)break t;a--,u+=r[o++]<<h,h+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Be;break}u=0,h=0}n.mode=Bd;case Bd:D=ax;break t;case Be:D=C2;break t;case I2:return P2;case M2:default:return ur}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=h,(n.wsize||m!==t.avail_out&&n.mode<Be&&(n.mode<Vl||e!==yd))&&D2(t,t.output,t.next_out,m-t.avail_out),p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Fr(n.check,i,m,t.next_out-m):Lu(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ci?128:0)+(n.mode===tc||n.mode===$l?256:0),(p===0&&m===0||e===yd)&&D===_o&&(D=lx),D},vx=t=>{if(No(t))return ur;let e=t.state;return e.window&&(e.window=null),t.state=null,_o},wx=(t,e)=>{if(No(t))return ur;const n=t.state;return(n.wrap&2)===0?ur:(n.head=e,e.done=!1,_o)},bx=(t,e)=>{const n=e.length;let r,i,o;return No(t)||(r=t.state,r.wrap!==0&&r.mode!==Mc)?ur:r.mode===Mc&&(i=1,i=Lu(i,e,n,0),i!==r.check)?C2:(o=D2(t,e,n,n),o?(r.mode=I2,P2):(r.havedict=1,_o))};var xx=R2,_x=T2,Nx=F2,Sx=gx,Ax=O2,Lx=yx,kx=vx,Ex=wx,Cx=bx,Px="pako inflate (from Nodeca project)",li={inflateReset:xx,inflateReset2:_x,inflateResetKeep:Nx,inflateInit:Sx,inflateInit2:Ax,inflate:Lx,inflateEnd:kx,inflateGetHeader:Ex,inflateSetDictionary:Cx,inflateInfo:Px};function Ix(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mx=Ix;const j2=Object.prototype.toString,{Z_NO_FLUSH:Fx,Z_FINISH:Rx,Z_OK:aa,Z_STREAM_END:Yl,Z_NEED_DICT:Xl,Z_STREAM_ERROR:Tx,Z_DATA_ERROR:Ud,Z_MEM_ERROR:Ox}=S2;function ga(t){this.options=A2.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K4,this.strm.avail_out=0;let n=li.inflateInit2(this.strm,e.windowBits);if(n!==aa)throw new Error(ku[n]);if(this.header=new Mx,li.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Eu.string2buf(e.dictionary):j2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=li.inflateSetDictionary(this.strm,e.dictionary),n!==aa)))throw new Error(ku[n])}ga.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Rx:Fx,j2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=li.inflate(n,s),o===Xl&&i&&(o=li.inflateSetDictionary(n,i),o===aa?o=li.inflate(n,s):o===Ud&&(o=Xl));n.avail_in>0&&o===Yl&&n.state.wrap>0&&t[n.next_in]!==0;)li.inflateReset(n),o=li.inflate(n,s);switch(o){case Tx:case Ud:case Xl:case Ox:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Yl))if(this.options.to==="string"){let l=Eu.utf8border(n.output,n.next_out),u=n.next_out-l,h=Eu.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===aa&&a===0)){if(o===Yl)return o=li.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ga.prototype.onData=function(t){this.chunks.push(t)};ga.prototype.onEnd=function(t){t===aa&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A2.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Dx(t,e){const n=new ga(e);if(n.push(t),n.err)throw n.msg||ku[n.err];return n.result}var jx=ga,Bx=Dx,qx={Inflate:jx,inflate:Bx};const{Inflate:zx,inflate:Ux}=qx;var Hd=zx,Hx=Ux;const B2=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;B2[t]=e}const $d=4294967295;function $x(t,e,n){let r=t;for(let i=0;i<n;i++)r=B2[(r^e[i])&255]^r>>>8;return r}function Vx(t,e){return($x($d,t,e)^$d)>>>0}function Vd(t,e,n){const r=t.readUint32(),i=Vx(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function q2(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function z2(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function U2(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function H2(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function $2(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+Wx(e[o-i],n[o],n[o-i])&255}}function Wx(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function Gx(t,e,n,r,i,o){switch(t){case 0:q2(e,n,i);break;case 1:z2(e,n,i,o);break;case 2:U2(e,n,r,i);break;case 3:H2(e,n,r,i,o);break;case 4:$2(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Yx=new Uint16Array([255]),Xx=new Uint8Array(Yx.buffer),Zx=Xx[0]===255;function Kx(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let h=0;h<7;h++){const p=s[h],m=Math.ceil((n-p.x)/p.xStep),d=Math.ceil((r-p.y)/p.yStep);if(m<=0||d<=0)continue;const v=m*a,x=new Uint8Array(v);for(let N=0;N<d;N++){const w=e[u++],M=e.subarray(u,u+v);u+=v;const _=new Uint8Array(v);Gx(w,M,_,x,v,a),x.set(_);for(let A=0;A<m;A++){const H=p.x+A*p.xStep,G=p.y+N*p.yStep;if(!(H>=n||G>=r))for(let W=0;W<a;W++)l[(G*n+H)*a+W]=_[A*a+W]}}}if(o===16){const h=new Uint16Array(l.buffer);if(Zx)for(let p=0;p<h.length;p++)h[p]=Jx(h[p]);return h}else return l}function Jx(t){return(t&255)<<8|t>>8&255}const Qx=new Uint16Array([255]),t6=new Uint8Array(Qx.buffer),e6=t6[0]===255,n6=new Uint8Array(0);function Wd(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a);let u=n6,h=0,p,m;for(let d=0;d<r;d++){switch(p=e.subarray(h+1,h+1+a),m=l.subarray(d*a,(d+1)*a),e[h]){case 0:q2(p,m,a);break;case 1:z2(p,m,a,s);break;case 2:U2(p,m,u,a);break;case 3:H2(p,m,u,a,s);break;case 4:$2(p,m,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=m,h+=a+1}if(o===16){const d=new Uint16Array(l.buffer);if(e6)for(let v=0;v<d.length;v++)d[v]=r6(d[v]);return d}else return l}function r6(t){return(t&255)<<8|t>>8&255}const hc=Uint8Array.of(137,80,78,71,13,10,26,10);function Gd(t){if(!i6(t.readBytes(hc.length)))throw new Error("wrong PNG signature")}function i6(t){if(t.length<hc.length)return!1;for(let e=0;e<hc.length;e++)if(t[e]!==hc[e])return!1;return!0}const o6="tEXt",s6=0,V2=new TextDecoder("latin1");function a6(t){if(l6(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const c6=/^[\u0000-\u00FF]*$/;function l6(t){if(!c6.test(t))throw new Error("invalid latin1 text")}function u6(t,e,n){const r=W2(e);t[r]=f6(e,n-r.length-1)}function W2(t){for(t.mark();t.readByte()!==s6;);const e=t.offset;t.reset();const n=V2.decode(t.readBytes(e-t.offset-1));return t.skip(1),a6(n),n}function f6(t,e){return V2.decode(t.readBytes(e))}const Kn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zl={UNKNOWN:-1,DEFLATE:0},Yd={UNKNOWN:-1,ADAPTIVE:0},Kl={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},nc={NONE:0,BACKGROUND:1,PREVIOUS:2},Jl={SOURCE:0,OVER:1};class h6 extends nf{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new Hd,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zl.UNKNOWN,this._filterMethod=Yd.UNKNOWN,this._interlaceMethod=Kl.UNKNOWN,this._colorType=Kn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Gd(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Gd(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case o6:u6(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Vd(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Vd(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=d6(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Kn.GREYSCALE:r=1;break;case Kn.TRUECOLOUR:r=3;break;case Kn.INDEXED_COLOUR:r=1;break;case Kn.GREYSCALE_ALPHA:r=2;break;case Kn.TRUECOLOUR_ALPHA:r=4;break;case Kn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zl.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Kn.GREYSCALE:case Kn.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Kn.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Kn.UNKNOWN:case Kn.GREYSCALE_ALPHA:case Kn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=W2(this),r=this.readUint8();if(r!==Zl.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Hx(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Wd({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case nc.NONE:break;case nc.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case nc.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(o,s)=>{const a=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,l=(o*n.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case Jl.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let u=0;u<this._png.channels;u++)e.data[a+u]=n.data[l+u]}break;case Jl.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let u=0;u<this._png.channels;u++){const h=n.data[l+this._png.channels-1]/r,p=u%(this._png.channels-1)===0?1:n.data[l+u],m=Math.floor(h*p+(1-h)*e.data[a+u]);e.data[a+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Yd.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Kl.NO_INTERLACE)this._png.data=Wd({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Kl.ADAM7)this._png.data=Kx({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:nc.NONE,blendOp:Jl.SOURCE,data:e}),this._inflator=new Hd,this._writingDataChunks=!1}}function d6(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Xd;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Xd||(Xd={}));function p6(t,e){return new h6(t,e).decode()}var Qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ql(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var Pe={log:Ql,warn:function(t){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):Ql.call(null,arguments))},error:function(t){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):Ql(t))}};function tu(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){co(r.response,e,n)},r.onerror=function(){Pe.error("could not download file")},r.send()}function Zd(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rc(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var co=Qt.saveAs||((typeof window>"u"?"undefined":Le(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Qt.URL||Qt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Zd(i.href)?tu(t,e,n):rc(i,i.target="_blank"):rc(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){rc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Zd(t))tu(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){rc(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Le(o)!=="object"&&(Pe.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return tu(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Qt.HTMLElement)||Qt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Le(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(t)}else{var l=Qt.URL||Qt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function G2(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var dc=Qt.atob.bind(Qt),Kd=Qt.btoa.bind(Qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function eu(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=bn(n,r,i,o,e[0],7,-680876936),o=bn(o,n,r,i,e[1],12,-389564586),i=bn(i,o,n,r,e[2],17,606105819),r=bn(r,i,o,n,e[3],22,-1044525330),n=bn(n,r,i,o,e[4],7,-176418897),o=bn(o,n,r,i,e[5],12,1200080426),i=bn(i,o,n,r,e[6],17,-1473231341),r=bn(r,i,o,n,e[7],22,-45705983),n=bn(n,r,i,o,e[8],7,1770035416),o=bn(o,n,r,i,e[9],12,-1958414417),i=bn(i,o,n,r,e[10],17,-42063),r=bn(r,i,o,n,e[11],22,-1990404162),n=bn(n,r,i,o,e[12],7,1804603682),o=bn(o,n,r,i,e[13],12,-40341101),i=bn(i,o,n,r,e[14],17,-1502002290),n=xn(n,r=bn(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=xn(o,n,r,i,e[6],9,-1069501632),i=xn(i,o,n,r,e[11],14,643717713),r=xn(r,i,o,n,e[0],20,-373897302),n=xn(n,r,i,o,e[5],5,-701558691),o=xn(o,n,r,i,e[10],9,38016083),i=xn(i,o,n,r,e[15],14,-660478335),r=xn(r,i,o,n,e[4],20,-405537848),n=xn(n,r,i,o,e[9],5,568446438),o=xn(o,n,r,i,e[14],9,-1019803690),i=xn(i,o,n,r,e[3],14,-187363961),r=xn(r,i,o,n,e[8],20,1163531501),n=xn(n,r,i,o,e[13],5,-1444681467),o=xn(o,n,r,i,e[2],9,-51403784),i=xn(i,o,n,r,e[7],14,1735328473),n=_n(n,r=xn(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=_n(o,n,r,i,e[8],11,-2022574463),i=_n(i,o,n,r,e[11],16,1839030562),r=_n(r,i,o,n,e[14],23,-35309556),n=_n(n,r,i,o,e[1],4,-1530992060),o=_n(o,n,r,i,e[4],11,1272893353),i=_n(i,o,n,r,e[7],16,-155497632),r=_n(r,i,o,n,e[10],23,-1094730640),n=_n(n,r,i,o,e[13],4,681279174),o=_n(o,n,r,i,e[0],11,-358537222),i=_n(i,o,n,r,e[3],16,-722521979),r=_n(r,i,o,n,e[6],23,76029189),n=_n(n,r,i,o,e[9],4,-640364487),o=_n(o,n,r,i,e[12],11,-421815835),i=_n(i,o,n,r,e[15],16,530742520),n=Nn(n,r=_n(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Nn(o,n,r,i,e[7],10,1126891415),i=Nn(i,o,n,r,e[14],15,-1416354905),r=Nn(r,i,o,n,e[5],21,-57434055),n=Nn(n,r,i,o,e[12],6,1700485571),o=Nn(o,n,r,i,e[3],10,-1894986606),i=Nn(i,o,n,r,e[10],15,-1051523),r=Nn(r,i,o,n,e[1],21,-2054922799),n=Nn(n,r,i,o,e[8],6,1873313359),o=Nn(o,n,r,i,e[15],10,-30611744),i=Nn(i,o,n,r,e[6],15,-1560198380),r=Nn(r,i,o,n,e[13],21,1309151649),n=Nn(n,r,i,o,e[4],6,-145523070),o=Nn(o,n,r,i,e[11],10,-1120210379),i=Nn(i,o,n,r,e[2],15,718787259),r=Nn(r,i,o,n,e[9],21,-343485551),t[0]=qi(n,t[0]),t[1]=qi(r,t[1]),t[2]=qi(i,t[2]),t[3]=qi(o,t[3])}function Xc(t,e,n,r,i,o){return e=qi(qi(e,t),qi(r,o)),qi(e<<i|e>>>32-i,n)}function bn(t,e,n,r,i,o,s){return Xc(e&n|~e&r,t,e,i,o,s)}function xn(t,e,n,r,i,o,s){return Xc(e&r|n&~r,t,e,i,o,s)}function _n(t,e,n,r,i,o,s){return Xc(e^n^r,t,e,i,o,s)}function Nn(t,e,n,r,i,o,s){return Xc(n^(e|~r),t,e,i,o,s)}function Y2(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)eu(r,g6(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(eu(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,eu(r,i),r}function g6(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Jd="0123456789abcdef".split("");function m6(t){for(var e="",n=0;n<4;n++)e+=Jd[t>>8*n+4&15]+Jd[t>>8*n&15];return e}function y6(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cu(t){return Y2(t).map(y6).join("")}var v6=(function(t){for(var e=0;e<t.length;e++)t[e]=m6(t[e]);return t.join("")})(Y2("hello"))!="5d41402abc4b2a76b9719d911017c592";function qi(t,e){if(v6){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Pu(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var h=a[l];u=(u+h+s.charCodeAt(l))%256,a[l]=a[u],a[u]=h}n=t,r=a}else a=r;var p=e.length,m=0,d=0,v="";for(l=0;l<p;l++)d=(d+(h=a[m=(m+1)%256]))%256,a[m]=a[d],a[d]=h,s=a[(a[m]+a[d])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Qd={print:4,modify:8,copy:16,"annot-forms":32};function Go(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Qd.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Qd[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=Cu(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Pu(this.encryptionKey,this.padding)}function Yo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function t0(t){if(Le(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Qt.console&&Pe.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fc(t){if(!(this instanceof Fc))return new Fc(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function X2(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function lo(t,e,n,r,i){if(!(this instanceof lo))return new lo(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,X2.call(this,r,i)}function Ko(t,e,n,r,i){if(!(this instanceof Ko))return new Ko(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,X2.call(this,r,i)}function Vt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",h=null;Le(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,m={},d={internal:{},__private__:{}};d.__private__.PubSub=t0;var v="1.3",x=d.__private__.getPdfVersion=function(){return v};d.__private__.setPdfVersion=function(g){v=g};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return N};var w=d.__private__.getPageFormat=function(g){return N[g]};i=i||"a4";var M="compat",_="advanced",A=M;function H(){this.saveGraphicsState(),q(new Zt(te,0,0,-te,0,Ki()*te).toString()+" cm"),this.setFontSize(this.getFontSize()/te),u="n",A=_}function G(){this.restoreGraphicsState(),u="S",A=M}var W=d.__private__.combineFontStyleAndFontWeight=function(g,C){if(g=="bold"&&C=="normal"||g=="bold"&&C==400||g=="normal"&&C=="italic"||g=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(g=C==400||C==="normal"?g==="italic"?"italic":"normal":C!=700&&C!=="bold"||g!=="normal"?(C==700?"bold":C)+""+g:"bold"),g};d.advancedAPI=function(g){var C=A===M;return C&&H.call(this),typeof g!="function"||(g(this),C&&G.call(this)),this},d.compatAPI=function(g){var C=A===_;return C&&G.call(this),typeof g!="function"||(g(this),C&&H.call(this)),this},d.isAdvancedAPI=function(){return A===_};var D,I=function(g){if(A!==_)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=d.roundToPrecision=d.__private__.roundToPrecision=function(g,C){var K=e||C;if(isNaN(g)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(K).replace(/0+$/,"")};D=d.hpf=d.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return J(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return J(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return J(g,16)};var S=d.f2=d.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return J(g,2)},E=d.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return J(g,3)},j=d.scale=d.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return A===M?g*te:A===_?g:void 0},k=function(g){return j((function(C){return A===M?Ki()-C:A===_?C:void 0})(g))};d.__private__.setPrecision=d.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var B,U="00000000000000000000000000000000",Z=d.__private__.getFileId=function(){return U},$=d.__private__.setFileId=function(g){return U=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ge=new Go(h.userPermissions,h.userPassword,h.ownerPassword,U)),U};d.setFileId=function(g){return $(g),this},d.getFileId=function(){return Z()};var Q=d.__private__.convertDateToPDFDate=function(g){var C=g.getTimezoneOffset(),K=C<0?"+":"-",rt=Math.floor(Math.abs(C/60)),ft=Math.abs(C%60),bt=[K,V(rt),"'",V(ft),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),bt].join("")},lt=d.__private__.convertPDFDateToDate=function(g){var C=parseInt(g.substr(2,4),10),K=parseInt(g.substr(6,2),10)-1,rt=parseInt(g.substr(8,2),10),ft=parseInt(g.substr(10,2),10),bt=parseInt(g.substr(12,2),10),At=parseInt(g.substr(14,2),10);return new Date(C,K,rt,ft,bt,At,0)},at=d.__private__.setCreationDate=function(g){var C;if(g===void 0&&(g=new Date),g instanceof Date)C=Q(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=g}return B=C},L=d.__private__.getCreationDate=function(g){var C=B;return g==="jsDate"&&(C=lt(B)),C};d.setCreationDate=function(g){return at(g),this},d.getCreationDate=function(g){return L(g)};var O,V=d.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},tt=d.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},et=0,ot=[],it=[],ut=0,gt=[],mt=[],xt=!1,Nt=it;d.__private__.setCustomOutputDestination=function(g){xt=!0,Nt=g};var Ct=function(g){xt||(Nt=g)};d.__private__.resetCustomOutputDestination=function(){xt=!1,Nt=it};var q=d.__private__.out=function(g){return g=g.toString(),ut+=g.length+1,Nt.push(g),Nt},kt=d.__private__.write=function(g){return q(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Gt=d.__private__.getArrayBuffer=function(g){for(var C=g.length,K=new ArrayBuffer(C),rt=new Uint8Array(K);C--;)rt[C]=g.charCodeAt(C);return K},jt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return jt};var St=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(g){return St=A===_?g/te:g,this};var qt,It=d.__private__.getFontSize=d.getFontSize=function(){return A===M?St:St*te},Ht=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(g){return Ht=g,this},d.__private__.getR2L=d.getR2L=function(){return Ht};var Bt,ve=d.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))qt=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');qt=g}else qt=parseInt(g,10)};d.__private__.getZoomMode=function(){return qt};var ae,Jt=d.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Bt=g};d.__private__.getPageMode=function(){return Bt};var ce=d.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');ae=g};d.__private__.getLayoutMode=function(){return ae},d.__private__.setDisplayMode=d.setDisplayMode=function(g,C,K){return ve(g),ce(C),Jt(K),this};var pe={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(g){if(Object.keys(pe).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pe[g]},d.__private__.getDocumentProperties=function(){return pe},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(g){for(var C in pe)pe.hasOwnProperty(C)&&g[C]&&(pe[C]=g[C]);return this},d.__private__.setDocumentProperty=function(g,C){if(Object.keys(pe).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pe[g]=C};var Tt,te,zt,ze,me,le={},ue={},Ie=[],Yt={},ke={},Kt={},ne={},Me=null,de=0,Xt=[],_e=new t0(d),zr=t.hotfixes||[],hn={},fr={},er=[],Zt=function g(C,K,rt,ft,bt,At){if(!(this instanceof g))return new g(C,K,rt,ft,bt,At);isNaN(C)&&(C=1),isNaN(K)&&(K=0),isNaN(rt)&&(rt=0),isNaN(ft)&&(ft=1),isNaN(bt)&&(bt=0),isNaN(At)&&(At=0),this._matrix=[C,K,rt,ft,bt,At]};Object.defineProperty(Zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(g)},Zt.prototype.multiply=function(g){var C=g.sx*this.sx+g.shy*this.shx,K=g.sx*this.shy+g.shy*this.sy,rt=g.shx*this.sx+g.sy*this.shx,ft=g.shx*this.shy+g.sy*this.sy,bt=g.tx*this.sx+g.ty*this.shx+this.tx,At=g.tx*this.shy+g.ty*this.sy+this.ty;return new Zt(C,K,rt,ft,bt,At)},Zt.prototype.decompose=function(){var g=this.sx,C=this.shy,K=this.shx,rt=this.sy,ft=this.tx,bt=this.ty,At=Math.sqrt(g*g+C*C),Rt=(g/=At)*K+(C/=At)*rt;K-=g*Rt,rt-=C*Rt;var Ut=Math.sqrt(K*K+rt*rt);return Rt/=Ut,g*(rt/=Ut)<C*(K/=Ut)&&(g=-g,C=-C,Rt=-Rt,At=-At),{scale:new Zt(At,0,0,Ut,0,0),translate:new Zt(1,0,0,1,ft,bt),rotate:new Zt(g,C,-C,g,0,0),skew:new Zt(1,0,Rt,1,0,0)}},Zt.prototype.toString=function(g){return this.join(" ")},Zt.prototype.inversed=function(){var g=this.sx,C=this.shy,K=this.shx,rt=this.sy,ft=this.tx,bt=this.ty,At=1/(g*rt-C*K),Rt=rt*At,Ut=-C*At,ee=-K*At,se=g*At;return new Zt(Rt,Ut,ee,se,-Rt*ft-ee*bt,-Ut*ft-se*bt)},Zt.prototype.applyToPoint=function(g){var C=g.x*this.sx+g.y*this.shx+this.tx,K=g.x*this.shy+g.y*this.sy+this.ty;return new Xr(C,K)},Zt.prototype.applyToRectangle=function(g){var C=this.applyToPoint(g),K=this.applyToPoint(new Xr(g.x+g.w,g.y+g.h));return new ws(C.x,C.y,K.x-C.x,K.y-C.y)},Zt.prototype.clone=function(){var g=this.sx,C=this.shy,K=this.shx,rt=this.sy,ft=this.tx,bt=this.ty;return new Zt(g,C,K,rt,ft,bt)},d.Matrix=Zt;var hr=d.matrixMult=function(g,C){return C.multiply(g)},dr=new Zt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=dr;var Pn=function(g,C){if(!ke[g]){var K=(C instanceof lo?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);C.id=K,ke[g]=K,Yt[K]=C,_e.publish("addPattern",C)}};d.ShadingPattern=lo,d.TilingPattern=Ko,d.addShadingPattern=function(g,C){return I("addShadingPattern()"),Pn(g,C),this},d.beginTilingPattern=function(g){I("beginTilingPattern()"),bs(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},d.endTilingPattern=function(g,C){I("endTilingPattern()"),C.stream=mt[O].join(`
`),Pn(g,C),_e.publish("endTilingPattern",C),er.pop().restore()};var In,je=d.__private__.newObject=function(){var g=en();return sn(g,!0),g},en=d.__private__.newObjectDeferred=function(){return et++,ot[et]=function(){return ut},et},sn=function(g,C){return C=typeof C=="boolean"&&C,ot[g]=ut,C&&q(g+" 0 obj"),g},Ur=d.__private__.newAdditionalObject=function(){var g={objId:en(),content:""};return gt.push(g),g},Cr=en(),qn=en(),nr=d.__private__.decodeColorString=function(g){var C=g.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length!==5||C[4]!=="k"&&C[4]!=="K"||(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var K=parseFloat(C[0]);C=[K,K,K,"r"]}for(var rt="#",ft=0;ft<3;ft++)rt+=("0"+Math.floor(255*parseFloat(C[ft])).toString(16)).slice(-2);return rt},Mn=d.__private__.encodeColorString=function(g){var C;typeof g=="string"&&(g={ch1:g});var K=g.ch1,rt=g.ch2,ft=g.ch3,bt=g.ch4,At=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Rt=new G2(K);if(Rt.ok)K=Rt.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var Ut=parseInt(K.substr(1),16);K=Ut>>16&255,rt=Ut>>8&255,ft=255&Ut}if(rt===void 0||bt===void 0&&K===rt&&rt===ft)C=typeof K=="string"?K+" "+At[0]:g.precision===2?S(K/255)+" "+At[0]:E(K/255)+" "+At[0];else if(bt===void 0||Le(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return["1.","1.","1.",At[1]].join(" ");C=typeof K=="string"?[K,rt,ft,At[1]].join(" "):g.precision===2?[S(K/255),S(rt/255),S(ft/255),At[1]].join(" "):[E(K/255),E(rt/255),E(ft/255),At[1]].join(" ")}else C=typeof K=="string"?[K,rt,ft,bt,At[2]].join(" "):g.precision===2?[S(K),S(rt),S(ft),S(bt),At[2]].join(" "):[E(K),E(rt),E(ft),E(bt),At[2]].join(" ");return C},Fn=d.__private__.getFilters=function(){return s},Sn=d.__private__.putStream=function(g){var C=(g=g||{}).data||"",K=g.filters||Fn(),rt=g.alreadyAppliedFilters||[],ft=g.addLength1||!1,bt=C.length,At=g.objectId,Rt=function(an){return an};if(h!==null&&At===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Rt=Ge.encryptor(At,0));var Ut={};K===!0&&(K=["FlateEncode"]);var ee=g.additionalKeyValues||[],se=(Ut=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(C,K):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(rt)?rt.join(" "):rt.toString());if(Ut.data.length!==0&&(ee.push({key:"Length",value:Ut.data.length}),ft===!0&&ee.push({key:"Length1",value:bt})),se.length!=0)if(se.split("/").length-1==1)ee.push({key:"Filter",value:se});else{ee.push({key:"Filter",value:"["+se+"]"});for(var be=0;be<ee.length;be+=1)if(ee[be].key==="DecodeParms"){for(var Ue=[],nn=0;nn<Ut.reverseChain.split("/").length-1;nn+=1)Ue.push("null");Ue.push(ee[be].value),ee[be].value="["+Ue.join(" ")+"]"}}q("<<");for(var Fe=0;Fe<ee.length;Fe++)q("/"+ee[Fe].key+" "+ee[Fe].value);q(">>"),Ut.data.length!==0&&(q("stream"),q(Rt(Ut.data)),q("endstream"))},Hr=d.__private__.putPage=function(g){var C=g.number,K=g.data,rt=g.objId,ft=g.contentsObjId;sn(rt,!0),q("<</Type /Page"),q("/Parent "+g.rootDictionaryObjId+" 0 R"),q("/Resources "+g.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(D(g.mediaBox.bottomLeftX))+" "+parseFloat(D(g.mediaBox.bottomLeftY))+" "+D(g.mediaBox.topRightX)+" "+D(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&q("/CropBox ["+D(g.cropBox.bottomLeftX)+" "+D(g.cropBox.bottomLeftY)+" "+D(g.cropBox.topRightX)+" "+D(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&q("/BleedBox ["+D(g.bleedBox.bottomLeftX)+" "+D(g.bleedBox.bottomLeftY)+" "+D(g.bleedBox.topRightX)+" "+D(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&q("/TrimBox ["+D(g.trimBox.bottomLeftX)+" "+D(g.trimBox.bottomLeftY)+" "+D(g.trimBox.topRightX)+" "+D(g.trimBox.topRightY)+"]"),g.artBox!==null&&q("/ArtBox ["+D(g.artBox.bottomLeftX)+" "+D(g.artBox.bottomLeftY)+" "+D(g.artBox.topRightX)+" "+D(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&q("/UserUnit "+g.userUnit),_e.publish("putPage",{objId:rt,pageContext:Xt[C],pageNumber:C,page:K}),q("/Contents "+ft+" 0 R"),q(">>"),q("endobj");var bt=K.join(`
`);return A===_&&(bt+=`
Q`),sn(ft,!0),Sn({data:bt,filters:Fn(),objectId:ft}),q("endobj"),rt},rr=d.__private__.putPages=function(){var g,C,K=[];for(g=1;g<=de;g++)Xt[g].objId=en(),Xt[g].contentsObjId=en();for(g=1;g<=de;g++)K.push(Hr({number:g,data:mt[g],objId:Xt[g].objId,contentsObjId:Xt[g].contentsObjId,mediaBox:Xt[g].mediaBox,cropBox:Xt[g].cropBox,bleedBox:Xt[g].bleedBox,trimBox:Xt[g].trimBox,artBox:Xt[g].artBox,userUnit:Xt[g].userUnit,rootDictionaryObjId:Cr,resourceDictionaryObjId:qn}));sn(Cr,!0),q("<</Type /Pages");var rt="/Kids [";for(C=0;C<de;C++)rt+=K[C]+" 0 R ";q(rt+"]"),q("/Count "+de),q(">>"),q("endobj"),_e.publish("postPutPages")},$r=function(g){_e.publish("putFont",{font:g,out:q,newObject:je,putStream:Sn}),g.isAlreadyPutted!==!0&&(g.objectNumber=je(),q("<<"),q("/Type /Font"),q("/BaseFont /"+Yo(g.postScriptName)),q("/Subtype /Type1"),typeof g.encoding=="string"&&q("/Encoding /"+g.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},pi=function(g){g.objectNumber=je();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[D(g.x),D(g.y),D(g.x+g.width),D(g.y+g.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var K=g.pages[1].join(`
`);Sn({data:K,additionalKeyValues:C,objectId:g.objectNumber}),q("endobj")},gi=function(g,C){C||(C=21);var K=je(),rt=(function(At,Rt){var Ut,ee=[],se=1/(Rt-1);for(Ut=0;Ut<1;Ut+=se)ee.push(Ut);if(ee.push(1),At[0].offset!=0){var be={offset:0,color:At[0].color};At.unshift(be)}if(At[At.length-1].offset!=1){var Ue={offset:1,color:At[At.length-1].color};At.push(Ue)}for(var nn="",Fe=0,an=0;an<ee.length;an++){for(Ut=ee[an];Ut>At[Fe+1].offset;)Fe++;var rn=At[Fe].offset,pn=(Ut-rn)/(At[Fe+1].offset-rn),Jr=At[Fe].color,mr=At[Fe+1].color;nn+=tt(Math.round((1-pn)*Jr[0]+pn*mr[0]).toString(16))+tt(Math.round((1-pn)*Jr[1]+pn*mr[1]).toString(16))+tt(Math.round((1-pn)*Jr[2]+pn*mr[2]).toString(16))}return nn.trim()})(g.colors,C),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+C+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sn({data:rt,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),q("endobj"),g.objectNumber=je(),q("<< /ShadingType "+g.type),q("/ColorSpace /DeviceRGB");var bt="/Coords ["+D(parseFloat(g.coords[0]))+" "+D(parseFloat(g.coords[1]))+" ";g.type===2?bt+=D(parseFloat(g.coords[2]))+" "+D(parseFloat(g.coords[3])):bt+=D(parseFloat(g.coords[2]))+" "+D(parseFloat(g.coords[3]))+" "+D(parseFloat(g.coords[4]))+" "+D(parseFloat(g.coords[5])),q(bt+="]"),g.matrix&&q("/Matrix ["+g.matrix.toString()+"]"),q("/Function "+K+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},mi=function(g,C){var K=en(),rt=je();C.push({resourcesOid:K,objectOid:rt}),g.objectNumber=rt;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+g.boundingBox.map(D).join(" ")+"]"}),ft.push({key:"XStep",value:D(g.xStep)}),ft.push({key:"YStep",value:D(g.yStep)}),ft.push({key:"Resources",value:K+" 0 R"}),g.matrix&&ft.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Sn({data:g.stream,additionalKeyValues:ft,objectId:g.objectNumber}),q("endobj")},Ao=function(g){for(var C in g.objectNumber=je(),q("<<"),g)switch(C){case"opacity":q("/ca "+S(g[C]));break;case"stroke-opacity":q("/CA "+S(g[C]))}q(">>"),q("endobj")},Hi=function(g){sn(g.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var C in q("/Font <<"),le)le.hasOwnProperty(C)&&(p===!1||p===!0&&m.hasOwnProperty(C))&&q("/"+C+" "+le[C].objectNumber+" 0 R");q(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var C in q("/Shading <<"),Yt)Yt.hasOwnProperty(C)&&Yt[C]instanceof lo&&Yt[C].objectNumber>=0&&q("/"+C+" "+Yt[C].objectNumber+" 0 R");_e.publish("putShadingPatternDict"),q(">>")}})(),(function(C){if(Object.keys(Yt).length>0){for(var K in q("/Pattern <<"),Yt)Yt.hasOwnProperty(K)&&Yt[K]instanceof d.TilingPattern&&Yt[K].objectNumber>=0&&Yt[K].objectNumber<C&&q("/"+K+" "+Yt[K].objectNumber+" 0 R");_e.publish("putTilingPatternDict"),q(">>")}})(g.objectOid),(function(){if(Object.keys(Kt).length>0){var C;for(C in q("/ExtGState <<"),Kt)Kt.hasOwnProperty(C)&&Kt[C].objectNumber>=0&&q("/"+C+" "+Kt[C].objectNumber+" 0 R");_e.publish("putGStateDict"),q(">>")}})(),(function(){for(var C in q("/XObject <<"),hn)hn.hasOwnProperty(C)&&hn[C].objectNumber>=0&&q("/"+C+" "+hn[C].objectNumber+" 0 R");_e.publish("putXobjectDict"),q(">>")})(),q(">>"),q("endobj")},Lo=function(g){ue[g.fontName]=ue[g.fontName]||{},ue[g.fontName][g.fontStyle]=g.id},ko=function(g,C,K,rt,ft){var bt={id:"F"+(Object.keys(le).length+1).toString(10),postScriptName:g,fontName:C,fontStyle:K,encoding:rt,isStandardFont:ft||!1,metadata:{}};return _e.publish("addFont",{font:bt,instance:this}),le[bt.id]=bt,Lo(bt),bt.id},Rn=d.__private__.pdfEscape=d.pdfEscape=function(g,C){return(function(K,rt){var ft,bt,At,Rt,Ut,ee,se,be,Ue;if(At=(rt=rt||{}).sourceEncoding||"Unicode",Ut=rt.outputEncoding,(rt.autoencode||Ut)&&le[Tt].metadata&&le[Tt].metadata[At]&&le[Tt].metadata[At].encoding&&(Rt=le[Tt].metadata[At].encoding,!Ut&&le[Tt].encoding&&(Ut=le[Tt].encoding),!Ut&&Rt.codePages&&(Ut=Rt.codePages[0]),typeof Ut=="string"&&(Ut=Rt[Ut]),Ut)){for(se=!1,ee=[],ft=0,bt=K.length;ft<bt;ft++)(be=Ut[K.charCodeAt(ft)])?ee.push(String.fromCharCode(be)):ee.push(K[ft]),ee[ft].charCodeAt(0)>>8&&(se=!0);K=ee.join("")}for(ft=K.length;se===void 0&&ft!==0;)K.charCodeAt(ft-1)>>8&&(se=!0),ft--;if(!se)return K;for(ee=rt.noBOM?[]:[254,255],ft=0,bt=K.length;ft<bt;ft++){if((Ue=(be=K.charCodeAt(ft))>>8)>>8)throw new Error("Character at position "+ft+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ee.push(Ue),ee.push(be-(Ue<<8))}return String.fromCharCode.apply(void 0,ee)})(g,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$i=d.__private__.beginPage=function(g){mt[++de]=[],Xt[de]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Wi(de),Ct(mt[O])},Eo=function(g,C){var K,rt,ft;switch(n=C||n,typeof g=="string"&&(K=w(g.toLowerCase()),Array.isArray(K)&&(rt=K[0],ft=K[1])),Array.isArray(g)&&(rt=g[0]*te,ft=g[1]*te),isNaN(rt)&&(rt=i[0],ft=i[1]),(rt>14400||ft>14400)&&(Pe.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),rt=Math.min(14400,rt),ft=Math.min(14400,ft)),i=[rt,ft],n.substr(0,1)){case"l":ft>rt&&(i=[ft,rt]);break;case"p":rt>ft&&(i=[ft,rt])}$i(i),re(gs),q(Ro),ys!==0&&q(ys+" J"),vs!==0&&q(vs+" j"),_e.publish("addPage",{pageNumber:de})},Vi=function(g){g>0&&g<=de&&(mt.splice(g,1),Xt.splice(g,1),de--,O>de&&(O=de),this.setPage(O))},Wi=function(g){g>0&&g<=de&&(O=g)},Co=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return mt.length-1},Po=function(g,C,K){var rt,ft=void 0;return K=K||{},g=g!==void 0?g:le[Tt].fontName,C=C!==void 0?C:le[Tt].fontStyle,rt=g.toLowerCase(),ue[rt]!==void 0&&ue[rt][C]!==void 0?ft=ue[rt][C]:ue[g]!==void 0&&ue[g][C]!==void 0?ft=ue[g][C]:K.disableWarning===!1&&Pe.warn("Unable to look up font label for font '"+g+"', '"+C+"'. Refer to getFontList() for available fonts."),ft||K.noFallback||(ft=ue.times[C])==null&&(ft=ue.times.normal),ft},ir=d.__private__.putInfo=function(){var g=je(),C=function(rt){return rt};for(var K in h!==null&&(C=Ge.encryptor(g,0)),q("<<"),q("/Producer ("+Rn(C("jsPDF "+Vt.version))+")"),pe)pe.hasOwnProperty(K)&&pe[K]&&q("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+Rn(C(pe[K]))+")");q("/CreationDate ("+Rn(C(B))+")"),q(">>"),q("endobj")},yi=d.__private__.putCatalog=function(g){var C=(g=g||{}).rootDictionaryObjId||Cr;switch(je(),q("<<"),q("/Type /Catalog"),q("/Pages "+C+" 0 R"),qt||(qt="fullwidth"),qt){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+qt;K.substr(K.length-1)==="%"&&(qt=parseInt(qt)/100),typeof qt=="number"&&q("/OpenAction [3 0 R /XYZ null null "+S(qt)+"]")}switch(ae||(ae="continuous"),ae){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}Bt&&q("/PageMode /"+Bt),_e.publish("putCatalog"),q(">>"),q("endobj")},fs=d.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(et+1)),q("/Root "+et+" 0 R"),q("/Info "+(et-1)+" 0 R"),h!==null&&q("/Encrypt "+Ge.oid+" 0 R"),q("/ID [ <"+U+"> <"+U+"> ]"),q(">>")},He=d.__private__.putHeader=function(){q("%PDF-"+v),q("%")},Io=d.__private__.putXRef=function(){var g="0000000000";q("xref"),q("0 "+(et+1)),q("0000000000 65535 f ");for(var C=1;C<=et;C++)typeof ot[C]=="function"?q((g+ot[C]()).slice(-10)+" 00000 n "):ot[C]!==void 0?q((g+ot[C]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},or=d.__private__.buildDocument=function(){var g;et=0,ut=0,it=[],ot=[],gt=[],Cr=en(),qn=en(),Ct(it),_e.publish("buildDocument"),He(),rr(),(function(){_e.publish("putAdditionalObjects");for(var K=0;K<gt.length;K++){var rt=gt[K];sn(rt.objId,!0),q(rt.content),q("endobj")}_e.publish("postPutAdditionalObjects")})(),g=[],(function(){for(var K in le)le.hasOwnProperty(K)&&(p===!1||p===!0&&m.hasOwnProperty(K))&&$r(le[K])})(),(function(){var K;for(K in Kt)Kt.hasOwnProperty(K)&&Ao(Kt[K])})(),(function(){for(var K in hn)hn.hasOwnProperty(K)&&pi(hn[K])})(),(function(K){var rt;for(rt in Yt)Yt.hasOwnProperty(rt)&&(Yt[rt]instanceof lo?gi(Yt[rt]):Yt[rt]instanceof Ko&&mi(Yt[rt],K))})(g),_e.publish("putResources"),g.forEach(Hi),Hi({resourcesOid:qn,objectOid:Number.MAX_SAFE_INTEGER}),_e.publish("postPutResources"),h!==null&&(Ge.oid=je(),q("<<"),q("/Filter /Standard"),q("/V "+Ge.v),q("/R "+Ge.r),q("/U <"+Ge.toHexString(Ge.U)+">"),q("/O <"+Ge.toHexString(Ge.O)+">"),q("/P "+Ge.P),q(">>"),q("endobj")),ir(),yi();var C=ut;return Io(),fs(),q("startxref"),q(""+C),q("%%EOF"),Ct(mt[O]),it.join(`
`)},Vr=d.__private__.getBlob=function(g){return new Blob([Gt(g)],{type:"application/pdf"})},Mo=d.output=d.__private__.output=(In=function(g,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",g){case void 0:return or();case"save":d.save(C.filename);break;case"arraybuffer":return Gt(or());case"blob":return Vr(or());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(Vr(or()))||void 0;Pe.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",rt=or();try{K=Kd(rt)}catch{K=Kd(unescape(encodeURIComponent(rt)))}return"data:application/pdf;filename="+C.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ft=C.pdfObjectUrl,bt="");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Rt=Qt.open();return Rt!==null&&Rt.document.write(At),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',ee=Qt.open();if(ee!==null){ee.document.write(Ut);var se=this;ee.document.documentElement.querySelector("#pdfViewer").onload=function(){ee.document.title=C.filename,ee.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(se.output("bloburl"))}}return ee}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Ue=Qt.open();if(Ue!==null&&(Ue.document.write(be),Ue.document.title=C.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",C);default:return null}},In.foo=function(){try{return In.apply(this,arguments)}catch(K){var g=K.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var C="Error in function "+g.split(`
`)[0].split("<")[0]+": "+K.message;if(!Qt.console)throw new Error(C);Qt.console.error(C,K),Qt.alert&&alert(C)}},In.foo.bar=In,In.foo),An=function(g){return Array.isArray(zr)===!0&&zr.indexOf(g)>-1};switch(r){case"pt":te=1;break;case"mm":te=72/25.4;break;case"cm":te=72/2.54;break;case"in":te=72;break;case"px":te=An("px_scaling")==1?.75:96/72;break;case"pc":case"em":te=12;break;case"ex":te=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);te=r}var Ge=null;at(),$();var pr=d.__private__.getPageInfo=d.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[g].objId,pageNumber:g,pageContext:Xt[g]}},vi=d.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in Xt)if(Xt[C].objId===g)break;return pr(C)},hs=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Xt[O].objId,pageNumber:O,pageContext:Xt[O]}};d.addPage=function(){return Eo.apply(this,arguments),this},d.setPage=function(){return Wi.apply(this,arguments),Ct.call(this,mt[O]),this},d.insertPage=function(g){return this.addPage(),this.movePage(O,g),this},d.movePage=function(g,C){var K,rt;if(g>C){K=mt[g],rt=Xt[g];for(var ft=g;ft>C;ft--)mt[ft]=mt[ft-1],Xt[ft]=Xt[ft-1];mt[C]=K,Xt[C]=rt,this.setPage(C)}else if(g<C){K=mt[g],rt=Xt[g];for(var bt=g;bt<C;bt++)mt[bt]=mt[bt+1],Xt[bt]=Xt[bt+1];mt[C]=K,Xt[C]=rt,this.setPage(C)}return this},d.deletePage=function(){return Vi.apply(this,arguments),this},d.__private__.text=d.text=function(g,C,K,rt,ft){var bt,At,Rt,Ut,ee,se,be,Ue,nn,Fe=(rt=rt||{}).scope||this;if(typeof g=="number"&&typeof C=="number"&&(typeof K=="string"||Array.isArray(K))){var an=K;K=C,C=g,g=an}if(arguments[3]instanceof Zt==0?(Rt=arguments[4],Ut=arguments[5],Le(be=arguments[3])==="object"&&be!==null||(typeof Rt=="string"&&(Ut=Rt,Rt=null),typeof be=="string"&&(Ut=be,be=null),typeof be=="number"&&(Rt=be,be=null),rt={flags:be,angle:Rt,align:Ut})):(I("The transform parameter of text() with a Matrix value"),nn=ft),isNaN(C)||isNaN(K)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Fe;var rn,pn="",Jr=typeof rt.lineHeightFactor=="number"?rt.lineHeightFactor:Yi,mr=Fe.internal.scaleFactor;function Qr(Ne){return Ne=Ne.split("	").join(Array(rt.TabLen||9).join(" ")),Rn(Ne,be)}function _s(Ne){for(var Ee,Xe=Ne.concat(),cn=[],ni=Xe.length;ni--;)typeof(Ee=Xe.shift())=="string"?cn.push(Ee):Array.isArray(Ne)&&(Ee.length===1||Ee[1]===void 0&&Ee[2]===void 0)?cn.push(Ee[0]):cn.push([Ee[0],Ee[1],Ee[2]]);return cn}function Oo(Ne,Ee){var Xe;if(typeof Ne=="string")Xe=Ee(Ne)[0];else if(Array.isArray(Ne)){for(var cn,ni,Ms=Ne.concat(),Bo=[],La=Ms.length;La--;)typeof(cn=Ms.shift())=="string"?Bo.push(Ee(cn)[0]):Array.isArray(cn)&&typeof cn[0]=="string"&&(ni=Ee(cn[0],cn[1],cn[2]),Bo.push([ni[0],ni[1],ni[2]]));Xe=Bo}return Xe}var wi=!1,Ji=!0;if(typeof g=="string")wi=!0;else if(Array.isArray(g)){var Qi=g.concat();At=[];for(var bi,gn=Qi.length;gn--;)(typeof(bi=Qi.shift())!="string"||Array.isArray(bi)&&typeof bi[0]!="string")&&(Ji=!1);wi=Ji}if(wi===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var to=St/Fe.internal.scaleFactor,eo=to*(Jr-1);switch(rt.baseline){case"bottom":K-=eo;break;case"top":K+=to-eo;break;case"hanging":K+=to-2*eo;break;case"middle":K+=to/2-eo}if((se=rt.maxWidth||0)>0&&(typeof g=="string"?g=Fe.splitTextToSize(g,se):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ne,Ee){return Ne.concat(Fe.splitTextToSize(Ee,se))},[]))),bt={text:g,x:C,y:K,options:rt,mutex:{pdfEscape:Rn,activeFontKey:Tt,fonts:le,activeFontSize:St}},_e.publish("preProcessText",bt),g=bt.text,Rt=(rt=bt.options).angle,nn instanceof Zt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,rt.rotationDirection===0&&(Rt=-Rt),A===_&&(Rt=-Rt);var Ns=Math.cos(Rt),Ss=Math.sin(Rt);nn=new Zt(Ns,Ss,-Ss,Ns,0,0)}else Rt&&Rt instanceof Zt&&(nn=Rt);A!==_||nn||(nn=dr),(ee=rt.charSpace||Yr)!==void 0&&(pn+=D(j(ee))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=rt.horizontalScale)!==void 0&&(pn+=D(100*Ue)+` Tz
`),rt.lang;var Ln=-1,ti=rt.renderingMode!==void 0?rt.renderingMode:rt.stroke,Do=Fe.internal.getCurrentPageInfo().pageContext;switch(ti){case 0:case!1:case"fill":Ln=0;break;case 1:case!0:case"stroke":Ln=1;break;case 2:case"fillThenStroke":Ln=2;break;case 3:case"invisible":Ln=3;break;case 4:case"fillAndAddForClipping":Ln=4;break;case 5:case"strokeAndAddPathForClipping":Ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ln=6;break;case 7:case"addToPathForClipping":Ln=7}var Sa=Do.usedRenderingMode!==void 0?Do.usedRenderingMode:-1;Ln!==-1?pn+=Ln+` Tr
`:Sa!==-1&&(pn+=`0 Tr
`),Ln!==-1&&(Do.usedRenderingMode=Ln),Ut=rt.align||"left";var sr,no=St*Jr,As=Fe.internal.pageSize.getWidth(),Ls=le[Tt];ee=rt.charSpace||Yr,se=rt.maxWidth||0,be=Object.assign({autoencode:!0,noBOM:!0},rt.flags);var xi=[],ro=function(Ne){return Fe.getStringUnitWidth(Ne,{font:Ls,charSpace:ee,fontSize:St,doKerning:!1})*St/mr};if(Object.prototype.toString.call(g)==="[object Array]"){var Un;At=_s(g),Ut!=="left"&&(sr=At.map(ro));var Hn,_i=0;if(Ut==="right"){C-=sr[0],g=[],gn=At.length;for(var ei=0;ei<gn;ei++)ei===0?(Hn=Wr(C),Un=Gr(K)):(Hn=j(_i-sr[ei]),Un=-no),g.push([At[ei],Hn,Un]),_i=sr[ei]}else if(Ut==="center"){C-=sr[0]/2,g=[],gn=At.length;for(var Ni=0;Ni<gn;Ni++)Ni===0?(Hn=Wr(C),Un=Gr(K)):(Hn=j((_i-sr[Ni])/2),Un=-no),g.push([At[Ni],Hn,Un]),_i=sr[Ni]}else if(Ut==="left"){g=[],gn=At.length;for(var ks=0;ks<gn;ks++)g.push(At[ks])}else if(Ut==="justify"&&Ls.encoding==="Identity-H"){g=[],gn=At.length,se=se!==0?se:As;for(var jo=0,Ye=0;Ye<gn;Ye++)if(Un=Ye===0?Gr(K):-no,Hn=Ye===0?Wr(C):jo,Ye<gn-1){var Aa=j((se-sr[Ye])/(At[Ye].split(" ").length-1)),Pr=At[Ye].split(" ");g.push([Pr[0]+" ",Hn,Un]),jo=0;for(var Ir=1;Ir<Pr.length;Ir++){var Es=(ro(Pr[Ir-1]+" "+Pr[Ir])-ro(Pr[Ir]))*mr+Aa;Ir==Pr.length-1?g.push([Pr[Ir],Es,0]):g.push([Pr[Ir]+" ",Es,0]),jo-=Es}}else g.push([At[Ye],Hn,Un]);g.push(["",jo,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],gn=At.length,se=se!==0?se:As,Ye=0;Ye<gn;Ye++){Un=Ye===0?Gr(K):-no,Hn=Ye===0?Wr(C):0;var Cs=At[Ye].split(" ").length-1,Ps=Cs>0?(se-sr[Ye])/Cs:0;Ye<gn-1?xi.push(D(j(Ps))):xi.push(0),g.push([At[Ye],Hn,Un])}}}(typeof rt.R2L=="boolean"?rt.R2L:Ht)===!0&&(g=Oo(g,function(Ne,Ee,Xe){return[Ne.split("").reverse().join(""),Ee,Xe]})),bt={text:g,x:C,y:K,options:rt,mutex:{pdfEscape:Rn,activeFontKey:Tt,fonts:le,activeFontSize:St}},_e.publish("postProcessText",bt),g=bt.text,rn=bt.mutex.isHex||!1;var Is=le[Tt].encoding;Is!=="WinAnsiEncoding"&&Is!=="StandardEncoding"||(g=Oo(g,function(Ne,Ee,Xe){return[Qr(Ne),Ee,Xe]})),At=_s(g),g=[];for(var Si,Ai,Li,io=Array.isArray(At[0])?1:0,ki="",oo=function(Ne,Ee,Xe){var cn="";return Xe instanceof Zt?(Xe=typeof rt.angle=="number"?hr(Xe,new Zt(1,0,0,1,Ne,Ee)):hr(new Zt(1,0,0,1,Ne,Ee),Xe),A===_&&(Xe=hr(new Zt(1,0,0,-1,0,0),Xe)),cn=Xe.join(" ")+` Tm
`):cn=D(Ne)+" "+D(Ee)+` Td
`,cn},ar=0;ar<At.length;ar++){switch(ki="",io){case 1:Li=(rn?"<":"(")+At[ar][0]+(rn?">":")"),Si=parseFloat(At[ar][1]),Ai=parseFloat(At[ar][2]);break;case 0:Li=(rn?"<":"(")+At[ar]+(rn?">":")"),Si=Wr(C),Ai=Gr(K)}xi!==void 0&&xi[ar]!==void 0&&(ki=xi[ar]+` Tw
`),ar===0?g.push(ki+oo(Si,Ai,nn)+Li):io===0?g.push(ki+Li):io===1&&g.push(ki+oo(Si,Ai,nn)+Li)}g=io===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Mr=`BT
/`;return Mr+=Tt+" "+St+` Tf
`,Mr+=D(St*Jr)+` TL
`,Mr+=Xi+`
`,Mr+=pn,Mr+=g,q(Mr+="ET"),m[Tt]=!0,Fe};var ds=d.__private__.clip=d.clip=function(g){return q(g==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return ds("evenodd")},d.__private__.discardPath=d.discardPath=function(){return q("n"),this};var zn=d.__private__.isValidStyle=function(g){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(C=!0),C};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(g){return zn(g)&&(u=g),this};var ma=d.__private__.getStyle=d.getStyle=function(g){var C=u;switch(g){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=g}return C},ya=d.close=function(){return q("h"),this};d.stroke=function(){return q("S"),this},d.fill=function(g){return Fo("f",g),this},d.fillEvenOdd=function(g){return Fo("f*",g),this},d.fillStroke=function(g){return Fo("B",g),this},d.fillStrokeEvenOdd=function(g){return Fo("B*",g),this};var Fo=function(g,C){Le(C)==="object"?Kc(C,g):q(g)},Gi=function(g){g===null||A===_&&g===void 0||(g=ma(g),q(g))};function Zc(g,C,K,rt,ft){var bt=new Ko(C||this.boundingBox,K||this.xStep,rt||this.yStep,this.gState,ft||this.matrix);bt.stream=this.stream;var At=g+"$$"+this.cloneIndex+++"$$";return Pn(At,bt),bt}var Kc=function(g,C){var K=ke[g.key],rt=Yt[K];if(rt instanceof lo)q("q"),q(Jc(C)),rt.gState&&d.setGState(rt.gState),q(g.matrix.toString()+" cm"),q("/"+K+" sh"),q("Q");else if(rt instanceof Ko){var ft=new Zt(1,0,0,-1,0,Ki());g.matrix&&(ft=ft.multiply(g.matrix||dr),K=Zc.call(rt,g.key,g.boundingBox,g.xStep,g.yStep,ft).id),q("q"),q("/Pattern cs"),q("/"+K+" scn"),rt.gState&&d.setGState(rt.gState),q(C),q("Q")}},Jc=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ps=d.moveTo=function(g,C){return q(D(j(g))+" "+D(k(C))+" m"),this},va=d.lineTo=function(g,C){return q(D(j(g))+" "+D(k(C))+" l"),this},gr=d.curveTo=function(g,C,K,rt,ft,bt){return q([D(j(g)),D(k(C)),D(j(K)),D(k(rt)),D(j(ft)),D(k(bt)),"c"].join(" ")),this};d.__private__.line=d.line=function(g,C,K,rt,ft){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(rt)||!zn(ft))throw new Error("Invalid arguments passed to jsPDF.line");return A===M?this.lines([[K-g,rt-C]],g,C,[1,1],ft||"S"):this.lines([[K-g,rt-C]],g,C,[1,1]).stroke()},d.__private__.lines=d.lines=function(g,C,K,rt,ft,bt){var At,Rt,Ut,ee,se,be,Ue,nn,Fe,an,rn,pn;if(typeof g=="number"&&(pn=K,K=C,C=g,g=pn),rt=rt||[1,1],bt=bt||!1,isNaN(C)||isNaN(K)||!Array.isArray(g)||!Array.isArray(rt)||!zn(ft)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ps(C,K),At=rt[0],Rt=rt[1],ee=g.length,an=C,rn=K,Ut=0;Ut<ee;Ut++)(se=g[Ut]).length===2?(an=se[0]*At+an,rn=se[1]*Rt+rn,va(an,rn)):(be=se[0]*At+an,Ue=se[1]*Rt+rn,nn=se[2]*At+an,Fe=se[3]*Rt+rn,an=se[4]*At+an,rn=se[5]*Rt+rn,gr(be,Ue,nn,Fe,an,rn));return bt&&ya(),Gi(ft),this},d.path=function(g){for(var C=0;C<g.length;C++){var K=g[C],rt=K.c;switch(K.op){case"m":ps(rt[0],rt[1]);break;case"l":va(rt[0],rt[1]);break;case"c":gr.apply(this,rt);break;case"h":ya()}}return this},d.__private__.rect=d.rect=function(g,C,K,rt,ft){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(rt)||!zn(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return A===M&&(rt=-rt),q([D(j(g)),D(k(C)),D(j(K)),D(j(rt)),"re"].join(" ")),Gi(ft),this},d.__private__.triangle=d.triangle=function(g,C,K,rt,ft,bt,At){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(rt)||isNaN(ft)||isNaN(bt)||!zn(At))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-g,rt-C],[ft-K,bt-rt],[g-ft,C-bt]],g,C,[1,1],At,!0),this},d.__private__.roundedRect=d.roundedRect=function(g,C,K,rt,ft,bt,At){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(rt)||isNaN(ft)||isNaN(bt)||!zn(At))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*K),bt=Math.min(bt,.5*rt),this.lines([[K-2*ft,0],[ft*Rt,0,ft,bt-bt*Rt,ft,bt],[0,rt-2*bt],[0,bt*Rt,-ft*Rt,bt,-ft,bt],[2*ft-K,0],[-ft*Rt,0,-ft,-bt*Rt,-ft,-bt],[0,2*bt-rt],[0,-bt*Rt,ft*Rt,-bt,ft,-bt]],g+ft,C,[1,1],At,!0),this},d.__private__.ellipse=d.ellipse=function(g,C,K,rt,ft){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(rt)||!zn(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*K,At=4/3*(Math.SQRT2-1)*rt;return ps(g+K,C),gr(g+K,C-At,g+bt,C-rt,g,C-rt),gr(g-bt,C-rt,g-K,C-At,g-K,C),gr(g-K,C+At,g-bt,C+rt,g,C+rt),gr(g+bt,C+rt,g+K,C+At,g+K,C),Gi(ft),this},d.__private__.circle=d.circle=function(g,C,K,rt){if(isNaN(g)||isNaN(C)||isNaN(K)||!zn(rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,C,K,K,rt)},d.setFont=function(g,C,K){return K&&(C=W(C,K)),Tt=Po(g,C,{disableWarning:!1}),this};var Qc=d.__private__.getFont=d.getFont=function(){return le[Po.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var g,C,K={};for(g in ue)if(ue.hasOwnProperty(g))for(C in K[g]=[],ue[g])ue[g].hasOwnProperty(C)&&K[g].push(C);return K},d.addFont=function(g,C,K,rt,ft){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?ft=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(K=W(K,rt)),ko.call(this,g,C,K,ft=ft||"Identity-H")};var Yi,gs=t.lineWidth||.200025,tl=d.__private__.getLineWidth=d.getLineWidth=function(){return gs},re=d.__private__.setLineWidth=d.setLineWidth=function(g){return gs=g,q(D(j(g))+" w"),this};d.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(g,C){if(g=g||[],C=C||0,isNaN(C)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(K){return D(j(K))}).join(" "),C=D(j(C)),q("["+g+"] "+C+" d"),this};var el=d.__private__.getLineHeight=d.getLineHeight=function(){return St*Yi};d.__private__.getLineHeight=d.getLineHeight=function(){return St*Yi};var nl=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Yi=g),this},rl=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Yi};nl(t.lineHeight);var Wr=d.__private__.getHorizontalCoordinate=function(g){return j(g)},Gr=d.__private__.getVerticalCoordinate=function(g){return A===_?g:Xt[O].mediaBox.topRightY-Xt[O].mediaBox.bottomLeftY-j(g)},il=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(g){return D(Wr(g))},ol=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(g){return D(Gr(g))},Ro=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return nr(Ro)},d.__private__.setStrokeColor=d.setDrawColor=function(g,C,K,rt){return Ro=Mn({ch1:g,ch2:C,ch3:K,ch4:rt,pdfColorType:"draw",precision:2}),q(Ro),this};var ms=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return nr(ms)},d.__private__.setFillColor=d.setFillColor=function(g,C,K,rt){return ms=Mn({ch1:g,ch2:C,ch3:K,ch4:rt,pdfColorType:"fill",precision:2}),q(ms),this};var Xi=t.textColor||"0 g",sl=d.__private__.getTextColor=d.getTextColor=function(){return nr(Xi)};d.__private__.setTextColor=d.setTextColor=function(g,C,K,rt){return Xi=Mn({ch1:g,ch2:C,ch3:K,ch4:rt,pdfColorType:"text",precision:3}),this};var Yr=t.charSpace,al=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Yr||0)};d.__private__.setCharSpace=d.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yr=g,this};var ys=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(g){var C=d.CapJoinStyles[g];if(C===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ys=C,q(C+" J"),this};var vs=0;d.__private__.setLineJoin=d.setLineJoin=function(g){var C=d.CapJoinStyles[g];if(C===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vs=C,q(C+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(D(j(g))+" M"),this},d.GState=Fc,d.setGState=function(g){(g=typeof g=="string"?Kt[ne[g]]:wa(null,g)).equals(Me)||(q("/"+g.id+" gs"),Me=g)};var wa=function(g,C){if(!g||!ne[g]){var K=!1;for(var rt in Kt)if(Kt.hasOwnProperty(rt)&&Kt[rt].equals(C)){K=!0;break}if(K)C=Kt[rt];else{var ft="GS"+(Object.keys(Kt).length+1).toString(10);Kt[ft]=C,C.id=ft}return g&&(ne[g]=C.id),_e.publish("addGState",C),C}};d.addGState=function(g,C){return wa(g,C),this},d.saveGraphicsState=function(){return q("q"),Ie.push({key:Tt,size:St,color:Xi}),this},d.restoreGraphicsState=function(){q("Q");var g=Ie.pop();return Tt=g.key,St=g.size,Xi=g.color,Me=null,this},d.setCurrentTransformationMatrix=function(g){return q(g.toString()+" cm"),this},d.comment=function(g){return q("#"+g),this};var Xr=function(g,C){var K=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(bt){isNaN(bt)||(K=parseFloat(bt))}});var rt=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(bt){isNaN(bt)||(rt=parseFloat(bt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(bt){ft=bt.toString()}}),this},ws=function(g,C,K,rt){Xr.call(this,g,C),this.type="rect";var ft=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(At){isNaN(At)||(ft=parseFloat(At))}});var bt=rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(At){isNaN(At)||(bt=parseFloat(At))}}),this},To=function(){this.page=de,this.currentPage=O,this.pages=mt.slice(0),this.pagesContext=Xt.slice(0),this.x=zt,this.y=ze,this.matrix=me,this.width=xs(O),this.height=xa(O),this.outputDestination=Nt,this.id="",this.objectNumber=-1};To.prototype.restore=function(){de=this.page,O=this.currentPage,Xt=this.pagesContext,mt=this.pages,zt=this.x,ze=this.y,me=this.matrix,ba(O,this.width),Zr(O,this.height),Nt=this.outputDestination};var bs=function(g,C,K,rt,ft){er.push(new To),de=O=0,mt=[],zt=g,ze=C,me=ft,$i([K,rt])};for(var Zi in d.beginFormObject=function(g,C,K,rt,ft){return bs(g,C,K,rt,ft),this},d.endFormObject=function(g){return(function(C){if(fr[C])er.pop().restore();else{var K=new To,rt="Xo"+(Object.keys(hn).length+1).toString(10);K.id=rt,fr[C]=rt,hn[rt]=K,_e.publish("addFormObject",K),er.pop().restore()}})(g),this},d.doFormObject=function(g,C){var K=hn[fr[g]];return q("q"),q(C.toString()+" cm"),q("/"+K.id+" Do"),q("Q"),this},d.getFormObject=function(g){var C=hn[fr[g]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},d.save=function(g,C){return g=g||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(co(Vr(or()),g),typeof co.unload=="function"&&Qt.setTimeout&&setTimeout(co.unload,911),this):new Promise(function(K,rt){try{var ft=co(Vr(or()),g);typeof co.unload=="function"&&Qt.setTimeout&&setTimeout(co.unload,911),K(ft)}catch(bt){rt(bt.message)}})},Vt.API)Vt.API.hasOwnProperty(Zi)&&(Zi==="events"&&Vt.API.events.length?(function(g,C){var K,rt,ft;for(ft=C.length-1;ft!==-1;ft--)K=C[ft][0],rt=C[ft][1],g.subscribe.apply(g,[K].concat(typeof rt=="function"?[rt]:rt))})(_e,Vt.API.events):d[Zi]=Vt.API[Zi]);function xs(g){return Xt[g].mediaBox.topRightX-Xt[g].mediaBox.bottomLeftX}function ba(g,C){Xt[g].mediaBox.topRightX=C+Xt[g].mediaBox.bottomLeftX}function xa(g){return Xt[g].mediaBox.topRightY-Xt[g].mediaBox.bottomLeftY}function Zr(g,C){Xt[g].mediaBox.topRightY=C+Xt[g].mediaBox.bottomLeftY}var Kr=d.getPageWidth=function(g){return xs(g=g||O)/te},_a=d.setPageWidth=function(g,C){ba(g,C*te)},Ki=d.getPageHeight=function(g){return xa(g=g||O)/te},Na=d.setPageHeight=function(g,C){Zr(g,C*te)};return d.internal={pdfEscape:Rn,getStyle:ma,getFont:Qc,getFontSize:It,getCharSpace:al,getTextColor:sl,getLineHeight:el,getLineHeightFactor:rl,getLineWidth:tl,write:kt,getHorizontalCoordinate:Wr,getVerticalCoordinate:Gr,getCoordinateString:il,getVerticalCoordinateString:ol,collections:{},newObject:je,newAdditionalObject:Ur,newObjectDeferred:en,newObjectDeferredBegin:sn,getFilters:Fn,putStream:Sn,events:_e,scaleFactor:te,pageSize:{getWidth:function(){return Kr(O)},setWidth:function(g){_a(O,g)},getHeight:function(){return Ki(O)},setHeight:function(g){Na(O,g)}},encryptionOptions:h,encryption:Ge,getEncryptor:function(g){return h!==null?Ge.encryptor(g,0):function(C){return C}},output:Mo,getNumberOfPages:Co,get pages(){return mt},out:q,f2:S,f3:E,getPageInfo:pr,getPageInfoByObjId:vi,getCurrentPageInfo:hs,getPDFVersion:x,Point:Xr,Rectangle:ws,Matrix:Zt,hasHotfix:An},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Kr(O)},set:function(g){_a(O,g)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Ki(O)},set:function(g){Na(O,g)},enumerable:!0,configurable:!0}),function(g){for(var C=0,K=jt.length;C<K;C++){var rt=ko.call(this,g[C][0],g[C][1],g[C][2],jt[C][3],!0);p===!1&&(m[rt]=!0);var ft=g[C][0].split("-");Lo({id:rt,fontName:ft[0],fontStyle:ft[1]||""})}_e.publish("addFonts",{fonts:le,dictionary:ue})}.call(d,jt),Tt="F1",Eo(i,n),_e.publish("initialized"),d}Go.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Go.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Go.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Go.prototype.processOwnerPassword=function(t,e){return Pu(Cu(e).substr(0,5),t)},Go.prototype.encryptor=function(t,e){var n=Cu(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Pu(n,r)}},Fc.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Le(t)!==Le(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Vt.API={events:[]},Vt.version="4.0.0";var We=Vt.API,rf=1,So=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ie=function(t){return t.toFixed(2)},Di=function(t){return t.toFixed(5)};We.__acroform__={};var Bn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},e0=function(t){return t*rf},Rr=function(t){var e=new K2,n=Ft.internal.getHeight(t)||0,r=Ft.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ie(r)),Number(ie(n))],e},w6=We.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},b6=We.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},x6=We.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Je=We.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return x6(t,e-1)},Qe=We.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return w6(t,e-1)},tn=We.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return b6(t,e-1)},_6=We.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(ie(l.lowerLeft_X)),Number(ie(l.lowerLeft_Y)),Number(ie(l.upperRight_X)),Number(ie(l.upperRight_Y))]},N6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Iu(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ie(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Rr(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Iu=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var o=n,s=Ft.internal.getHeight(t)||0;s=s<0?-s:s;var a=Ft.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(S,E,j){if(S+1<i.length){var k=E+" "+i[S+1][0];return ic(k,t,j).width<=a-4}return!1};o++;t:for(;o>0;){e="",o--;var u,h,p=ic("3",t,o).height,m=t.multiline?s-o:(s-p)/2,d=m+=2,v=0,x=0,N=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+ic(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",M=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&N!==i[_].length-1){if((p+2)*(M+2)+2>s)continue t;w+=i[_][N],A=!0,x=_,_--}else{w=(w+=i[_][N]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var H=parseInt(_),G=l(H,w,o),W=_>=i.length-1;if(G&&!W){w+=" ",N=0;continue}if(G||W){if(W)x=H;else if(t.multiline&&(p+2)*(M+2)+2>s)continue t}else{if(!t.multiline||(p+2)*(M+2)+2>s)continue t;x=H}}for(var D="",I=v;I<=x;I++){var J=i[I];if(t.multiline){if(I===x){D+=J[N]+" ",N=(N+1)%J.length;continue}if(I===v){D+=J[J.length-1]+" ";continue}}D+=J[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=ic(D,t,o).width,t.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;default:u=2}e+=ie(u)+" "+ie(d)+` Td
`,e+="("+So(D)+`) Tj
`,e+=-ie(u)+` 0 Td
`,d=-(o+2),h=0,v=A?x:x+1,M++,w=""}break}return r.text=e,r.fontSize=o,r},ic=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},S6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},A6=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},L6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(kr.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(S6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rf=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new J2,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&A6(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=_6(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ft.createDefaultAppearanceStream(a),Le(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=N6(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var p="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var d=a.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var v=d[s];typeof v=="function"&&(v=v.call(i,a)),p+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=d)=="function"&&(v=v.call(i,a)),p+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&(function(x,N){for(var w in x)if(x.hasOwnProperty(w)){var M=w,_=x[w];N.internal.newObjectDeferredBegin(_.objId,!0),Le(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete x[M]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Z2=We.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Le(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+So(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nu=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+So(r(t))+")"},Or=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Or.prototype.toString=function(){return this.objId+" 0 R"},Or.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Or.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Z2(i,this.objId,this.scope)}):i instanceof Or?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var K2=function(){Or.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Bn(K2,Or);var J2=function(){Or.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+So(n(t))+")"}},set:function(n){t=n}})};Bn(J2,Or);var kr=function t(){Or.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Je(e,3)},set:function(w){w?this.F=Qe(e,3):this.F=tn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Rc)return;o="FieldObject"+t.FieldNum++}var w=function(M){return M};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+So(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/rf:u},set:function(w){u=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Rc||this instanceof go))return nu(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof dn==0?nu(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof dn==0?w.substr(0,1)==="("?Vo(w.substr(1,w.length-2)):Vo(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof dn==1?Vo(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof dn==1?"/"+w:w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof dn==0?nu(d,this.objId,this.scope):d},set:function(w){w=w.toString(),d=this instanceof dn==0?w.substr(0,1)==="("?Vo(w.substr(1,w.length-2)):Vo(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof dn==1?Vo(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof dn==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,1)},set:function(w){w?this.Ff=Qe(this.Ff,1):this.Ff=tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,2)},set:function(w){w?this.Ff=Qe(this.Ff,2):this.Ff=tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,3)},set:function(w){w?this.Ff=Qe(this.Ff,3):this.Ff=tn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');N=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(N){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Bn(kr,Or);var ts=function(){kr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z2(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,18)},set:function(n){n?this.Ff=Qe(this.Ff,18):this.Ff=tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Qe(this.Ff,19):this.Ff=tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,20)},set:function(n){n?(this.Ff=Qe(this.Ff,20),e.sort()):this.Ff=tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,22)},set:function(n){n?this.Ff=Qe(this.Ff,22):this.Ff=tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,23)},set:function(n){n?this.Ff=Qe(this.Ff,23):this.Ff=tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,27)},set:function(n){n?this.Ff=Qe(this.Ff,27):this.Ff=tn(this.Ff,27)}}),this.hasAppearanceStream=!1};Bn(ts,kr);var es=function(){ts.call(this),this.fontName="helvetica",this.combo=!1};Bn(es,ts);var ns=function(){es.call(this),this.combo=!0};Bn(ns,es);var pc=function(){ns.call(this),this.edit=!0};Bn(pc,ns);var dn=function(){kr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,15)},set:function(n){n?this.Ff=Qe(this.Ff,15):this.Ff=tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,16)},set:function(n){n?this.Ff=Qe(this.Ff,16):this.Ff=tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,17)},set:function(n){n?this.Ff=Qe(this.Ff,17):this.Ff=tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,26)},set:function(n){n?this.Ff=Qe(this.Ff,26):this.Ff=tn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+So(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Le(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Bn(dn,kr);var gc=function(){dn.call(this),this.pushButton=!0};Bn(gc,dn);var rs=function(){dn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Bn(rs,dn);var Rc=function(){var t,e;kr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+So(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Le(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bn(Rc,kr),rs.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},rs.prototype.createOption=function(t){var e=new Rc;return e.Parent=this,e.optionName=t,this.Kids.push(e),k6.call(this.scope,e),e};var mc=function(){dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};Bn(mc,dn);var go=function(){kr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,13)},set:function(e){e?this.Ff=Qe(this.Ff,13):this.Ff=tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,21)},set:function(e){e?this.Ff=Qe(this.Ff,21):this.Ff=tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,23)},set:function(e){e?this.Ff=Qe(this.Ff,23):this.Ff=tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,24)},set:function(e){e?this.Ff=Qe(this.Ff,24):this.Ff=tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,25)},set:function(e){e?this.Ff=Qe(this.Ff,25):this.Ff=tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,26)},set:function(e){e?this.Ff=Qe(this.Ff,26):this.Ff=tn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bn(go,kr);var yc=function(){go.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Je(this.Ff,14)},set:function(t){t?this.Ff=Qe(this.Ff,14):this.Ff=tn(this.Ff,14)}}),this.password=!0};Bn(yc,go);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Iu(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+ie(Ft.internal.getWidth(t))+" "+ie(Ft.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ie(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Rr(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=Ft.internal.getHeight(t),s=Ft.internal.getWidth(t),a=Iu(t,t.caption);return i.push("1 g"),i.push("0 0 "+ie(s)+" "+ie(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ie(s-1)+" "+ie(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ie(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ie(Ft.internal.getWidth(t))+" "+ie(Ft.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Circle.YesNormal,e.D[t]=Ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Rr(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ft.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Di(Ft.internal.getWidth(t)/2)+" "+Di(Ft.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ft.internal.Bezier_C).toFixed(5)),s=Number((r*Ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Di(Ft.internal.getWidth(t)/2)+" "+Di(Ft.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Di(Ft.internal.getWidth(t)/2)+" "+Di(Ft.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Di(Ft.internal.getWidth(t)/2)+" "+Di(Ft.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Cross.YesNormal,e.D[t]=Ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Rr(t);e.scope=t.scope;var n=[],r=Ft.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+ie(Ft.internal.getWidth(t)-2)+" "+ie(Ft.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ie(r.x1.x)+" "+ie(r.x1.y)+" m"),n.push(ie(r.x2.x)+" "+ie(r.x2.y)+" l"),n.push(ie(r.x4.x)+" "+ie(r.x4.y)+" m"),n.push(ie(r.x3.x)+" "+ie(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=Ft.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+ie(Ft.internal.getWidth(t))+" "+ie(Ft.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ie(Ft.internal.getWidth(t)-2)+" "+ie(Ft.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ie(n.x1.x)+" "+ie(n.x1.y)+" m"),r.push(ie(n.x2.x)+" "+ie(n.x2.y)+" l"),r.push(ie(n.x4.x)+" "+ie(n.x4.y)+" m"),r.push(ie(n.x3.x)+" "+ie(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Rr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ie(Ft.internal.getWidth(t))+" "+ie(Ft.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ft.internal.getWidth(t),n=Ft.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ft.internal.getWidth=function(t){var e=0;return Le(t)==="object"&&(e=e0(t.Rect[2])),e},Ft.internal.getHeight=function(t){var e=0;return Le(t)==="object"&&(e=e0(t.Rect[3])),e};var k6=We.addField=function(t){if(L6(this,t),!(t instanceof kr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};We.AcroFormChoiceField=ts,We.AcroFormListBox=es,We.AcroFormComboBox=ns,We.AcroFormEditBox=pc,We.AcroFormButton=dn,We.AcroFormPushButton=gc,We.AcroFormRadioButton=rs,We.AcroFormCheckBox=mc,We.AcroFormTextField=go,We.AcroFormPasswordField=yc,We.AcroFormAppearance=Ft,We.AcroForm={ChoiceField:ts,ListBox:es,ComboBox:ns,EditBox:pc,Button:dn,PushButton:gc,RadioButton:rs,CheckBox:mc,TextField:go,PasswordField:yc,Appearance:Ft},Vt.AcroForm={ChoiceField:ts,ListBox:es,ComboBox:ns,EditBox:pc,Button:dn,PushButton:gc,RadioButton:rs,CheckBox:mc,TextField:go,PasswordField:yc,Appearance:Ft};Vt.AcroForm;function Q2(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,E){var j,k,B,U,Z,$=n;if((E=E||n)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(G(S))for(Z in r)for(B=r[Z],j=0;j<B.length;j+=1){for(U=!0,k=0;k<B[j].length;k+=1)if(B[j][k]!==void 0&&B[j][k]!==S[k]){U=!1;break}if(U===!0){$=Z;break}}else for(Z in r)for(B=r[Z],j=0;j<B.length;j+=1){for(U=!0,k=0;k<B[j].length;k+=1)if(B[j][k]!==void 0&&B[j][k]!==S.charCodeAt(k)){U=!1;break}if(U===!0){$=Z;break}}return $===n&&E!==n&&($=E),$},o=function S(E){for(var j=this.internal.write,k=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:E.width}),U.push({key:"Height",value:E.height}),E.colorSpace===w.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===w.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var Z="",$=0,Q=E.transparency.length;$<Q;$++)Z+=E.transparency[$]+" "+E.transparency[$]+" ";U.push({key:"Mask",value:"["+Z+"]"})}E.sMask!==void 0&&U.push({key:"SMask",value:E.objectId+1+" 0 R"});var lt=E.filter!==void 0?["/"+E.filter]:void 0;if(k({data:E.data,additionalKeyValues:U,alreadyAppliedFilters:lt,objectId:E.objectId}),j("endobj"),"sMask"in E&&E.sMask!==void 0){var at,L=(at=E.sMaskBitsPerComponent)!==null&&at!==void 0?at:E.bitsPerComponent,O={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:E.sMask};"filter"in E&&(O.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(E.width),O.filter=E.filter),S.call(this,O)}if(E.colorSpace===w.INDEXED){var V=this.internal.newObject();k({data:D(new Uint8Array(E.palette)),objectId:V}),j("endobj")}},s=function(){var S=this.internal.collections[e+"images"];for(var E in S)o.call(this,S[E])},a=function(){var S,E=this.internal.collections[e+"images"],j=this.internal.write;for(var k in E)j("/I"+(S=E[k]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(S){return typeof t["process"+S.toUpperCase()]=="function"},m=function(S){return Le(S)==="object"&&S.nodeType===1},d=function(S,E){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var j=""+S.getAttribute("src");if(j.indexOf("data:image/")===0)return dc(unescape(j).split("base64,").pop());var k=t.loadFile(j,!0);if(k!==void 0)return k}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var B;switch(E){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;default:B="image/jpeg"}return dc(S.toDataURL(B,1).split("base64,").pop())}},v=function(S){var E=this.internal.collections[e+"images"];if(E){for(var j in E)if(S===E[j].alias)return E[j]}},x=function(S,E,j){return S||E||(S=-96,E=-96),S<0&&(S=-1*j.width*72/S/this.internal.scaleFactor),E<0&&(E=-1*j.height*72/E/this.internal.scaleFactor),S===0&&(S=E*j.width/j.height),E===0&&(E=S*j.height/j.width),[S,E]},N=function(S,E,j,k,B,U){var Z=x.call(this,j,k,B),$=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,lt=u.call(this);if(j=Z[0],k=Z[1],lt[B.index]=B,U){U*=Math.PI/180;var at=Math.cos(U),L=Math.sin(U),O=function(tt){return tt.toFixed(4)},V=[O(at),O(L),O(-1*L),O(at),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,$(S),Q(E+k),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([$(j),"0","0",$(k),"0","0","cm"].join(" "))):this.internal.write([$(j),"0","0",$(k),$(S),Q(E+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(S){var E,j,k=0;if(typeof S=="string")for(j=S.length,E=0;E<j;E++)k=(k<<5)-k+S.charCodeAt(E),k|=0;else if(G(S))for(j=S.byteLength/2,E=0;E<j;E++)k=(k<<5)-k+S[E],k|=0;return k},A=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var E=!0;return S.length===0&&(E=!1),S.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(E=!1),E},H=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var E=S.indexOf(",");return E<0?null:S.substring(0,E).trim().endsWith("base64")?S.substring(E+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},W=t.__addimage__.binaryStringToUint8Array=function(S){for(var E=S.length,j=new Uint8Array(E),k=0;k<E;k++)j[k]=S.charCodeAt(k);return j},D=t.__addimage__.arrayBufferToBinaryString=function(S){for(var E="",j=G(S)?S:new Uint8Array(S),k=0;k<j.length;k+=8192)E+=String.fromCharCode.apply(null,j.subarray(k,k+8192));return E};t.addImage=function(){var S,E,j,k,B,U,Z,$,Q;if(typeof arguments[1]=="number"?(E=n,j=arguments[1],k=arguments[2],B=arguments[3],U=arguments[4],Z=arguments[5],$=arguments[6],Q=arguments[7]):(E=arguments[1],j=arguments[2],k=arguments[3],B=arguments[4],U=arguments[5],Z=arguments[6],$=arguments[7],Q=arguments[8]),Le(S=arguments[0])==="object"&&!m(S)&&"imageData"in S){var lt=S;S=lt.imageData,E=lt.format||E||n,j=lt.x||j||0,k=lt.y||k||0,B=lt.w||lt.width||B,U=lt.h||lt.height||U,Z=lt.alias||Z,$=lt.compression||$,Q=lt.rotation||lt.angle||Q}var at=this.internal.getFilters();if($===void 0&&at.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(j)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=I.call(this,S,E,Z,$);return N.call(this,j,k,B,U,L,Q),this};var I=function(S,E,j,k){var B,U,Z;if(typeof S=="string"&&i(S)===n){S=unescape(S);var $=J(S,!1);($!==""||($=t.loadFile(S,!0))!==void 0)&&(S=$)}if(m(S)&&(S=d(S,E)),E=i(S,E),!p(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((Z=j)==null||Z.length===0)&&(j=(function(Q){return typeof Q=="string"||G(Q)?_(Q):G(Q.data)?_(Q.data):null})(S)),(B=v.call(this,j))||(S instanceof Uint8Array||E==="RGBA"||(U=S,S=W(S)),B=this["process"+E.toUpperCase()](S,h.call(this),j,(function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:M.NONE})(k),U)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},J=t.__addimage__.convertBase64ToBinaryString=function(S,E){E=typeof E!="boolean"||E;var j,k="";if(typeof S=="string"){var B;j=(B=H(S))!==null&&B!==void 0?B:S;try{k=dc(j)}catch(U){if(E)throw A(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};t.getImageProperties=function(S){var E,j,k="";if(m(S)&&(S=d(S)),typeof S=="string"&&i(S)===n&&((k=J(S,!1))===""&&(k=t.loadFile(S)||""),S=k),j=i(S),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(S instanceof Uint8Array||(S=W(S)),!(E=this["process"+j.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=j,E}})(Vt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((r=u[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var d=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),M=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+d(w(r.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+d(w(M))+") >>",x.content=o;var _=x.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(x.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(v(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var G=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var h=this.splitTextToSize(n,a).length;s=Math.ceil(u*h)}else a=l,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-u,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Vt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&o(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&o(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&o(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&o(x)&&e[x.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&o(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var N=0,w=n,M="",_=0;for(N=0;N<x.length;N+=1)w[x.charCodeAt(N)]!==void 0?(_++,typeof(w=w[x.charCodeAt(N)])=="number"&&(M+=String.fromCharCode(w),w=n,_=0),N===x.length-1&&(w=n,M+=x.charAt(N-(_-1)),N-=_-1,_=0)):(w=n,M+=x.charAt(N-_),N-=_,_=0);return M};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(x,N,w){return s(x)?o(x)===!1?-1:!u(x)||!s(N)&&!s(w)||!s(w)&&a(N)||a(x)&&!s(N)||a(x)&&l(N)||a(x)&&a(N)?0:h(x)&&s(N)&&!a(N)&&s(w)&&u(w)?3:a(x)||!s(w)?1:2:-1},d=function(x){var N=0,w=0,M=0,_="",A="",H="",G=(x=x||"").split("\\s+"),W=[];for(N=0;N<G.length;N+=1){for(W.push(""),w=0;w<G[N].length;w+=1)_=G[N][w],A=G[N][w-1],H=G[N][w+1],s(_)?(M=m(_,A,H),W[N]+=M!==-1?String.fromCharCode(e[_.charCodeAt(0)][M]):_):W[N]+=_;W[N]=p(W[N])}return W.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var x,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(N)){var M=0;for(w=[],M=0;M<N.length;M+=1)Array.isArray(N[M])?w.push([d(N[M][0]),N[M][1],N[M][2]]):w.push([d(N[M])]);x=w}else x=d(N);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",v])})(Vt.API),Vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Vt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,d=0,v=0,x=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(N.splitTextToSize(A,w))},[])):l=Array.isArray(l)?l:[l];for(var M=0;M<l.length;M++)d<(x=this.getStringUnitWidth(l[M],{font:p})*h)&&(d=x);return d!==0&&(v=l.length),{w:d/=m,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,d&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,p,m){if(r.call(this),!h)throw new Error("No data for PDF table.");var d,v,x,N,w=[],M=[],_=[],A={},H={},G=[],W=[],D=(m=m||{}).autoSize||!1,I=m.printHeaders!==!1,J=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,S=m.margins||Object.assign({width:this.getPageWidth()},e),E=typeof m.padding=="number"?m.padding:3,j=m.headerBackgroundColor||"#c8c8c8",k=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=k,this.setFontSize(J),p==null)M=w=Object.keys(h[0]),_=w.map(function(){return"left"});else if(Array.isArray(p)&&Le(p[0])==="object")for(w=p.map(function(lt){return lt.name}),M=p.map(function(lt){return lt.prompt||lt.name||""}),_=p.map(function(lt){return lt.align||"left"}),d=0;d<p.length;d+=1)H[p[d].name]=.7499990551181103*p[d].width;else Array.isArray(p)&&typeof p[0]=="string"&&(M=w=p,_=w.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<w.length;d+=1){for(A[N=w[d]]=h.map(function(lt){return lt[N]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(M[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[N],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)G.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[N]=Math.max.apply(null,G)+E+E,G=[]}if(I){var B={};for(d=0;d<w.length;d+=1)B[w[d]]={},B[w[d]].text=M[d],B[w[d]].align=_[d];var U=a.call(this,B,H);W=w.map(function(lt){return new o(l,u,H[lt],U,B[lt].text,void 0,B[lt].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var Z=p.reduce(function(lt,at){return lt[at.name]=at.align,lt},{});for(d=0;d<h.length;d+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:d,data:h[d]},this);var $=a.call(this,h[d],H);for(x=0;x<w.length;x+=1){var Q=h[d][w[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:d,col:x,data:Q},this),s.call(this,new o(l,u,H[w[x]],$,Q,d+2,Z[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(d){var v=l[d];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[d]-h-h)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/m+h+h},this).reduce(function(d,v){return Math.max(d,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){h=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(Vt.API);var tp={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ep=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Mu=Q2(ep),np=[100,200,300,400,500,600,700,800,900],E6=Q2(np);function ru(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return tp[o=o||"normal"]?o:"normal"})(t.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof Mu[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function n0(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var C6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function i0(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function o0(t){return t.trimLeft()}function P6(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function I6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var oc,s0,a0,Wo,sc,c0,l0,u0,iu=["times"];function f0(t,e,n,r,i){var o=4,s=d0;switch(i){case Vt.API.image_compression.FAST:o=1,s=h0;break;case Vt.API.image_compression.MEDIUM:o=6,s=p0;break;case Vt.API.image_compression.SLOW:o=9,s=g0}t=(function(l,u,h,p){for(var m,d=l.length/u,v=new Uint8Array(l.length+d),x=[M6,h0,d0,p0,g0],N=0;N<d;N+=1){var w=N*u,M=l.subarray(w,w+u);if(p)v.set(p(M,h,m),w+N);else{for(var _=x.length,A=[],H=0;H<_;H+=1)A[H]=x[H](M,h,m);var G=R6(A.concat());v.set(A[G],w+N)}m=M}return v})(t,e,Math.ceil(n*r/8),s);var a=Au(t,{level:o});return Vt.API.__addimage__.arrayBufferToBinaryString(a)}function M6(t){var e=Array.apply([],t);return e.unshift(0),e}function h0(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function d0(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function p0(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function g0(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=F6(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function F6(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function R6(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function ou(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return rp(t,i)>>o&s}function m0(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var m=p>>8&255;u.setUint8(h,m)}})(t,o,rp(t,o)&~(a<<s)&65535|l)}function rp(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function T6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var u=!0,h=[],p=0,m=null,d=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,m=t[e++],1&x||(m=null),d=x>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],H=A>>6&1,G=1<<1+(7&A),W=a,D=l,I=!1;A>>7&&(I=!0,W=e,D=G,e+=3*G);var J=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}h.push({x:N,y:w,width:M,height:_,has_local_palette:I,palette_offset:W,palette_size:D,data_offset:J,data_length:e-J,transparent_index:m,interlaced:!!H,delay:p,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(E){if(E<0||E>=h.length)throw new Error("Frame index out of range.");return h[E]},this.decodeAndBlitFrameBGRA=function(E,j){var k=this.frameInfo(E),B=k.width*k.height,U=new Uint8Array(B);y0(t,k.data_offset,U,B);var Z=k.palette_offset,$=k.transparent_index;$===null&&($=256);var Q=k.width,lt=n-Q,at=Q,L=4*(k.y*n+k.x),O=4*((k.y+k.height)*n+k.x),V=L,tt=4*lt;k.interlaced===!0&&(tt+=4*n*7);for(var et=8,ot=0,it=U.length;ot<it;++ot){var ut=U[ot];if(at===0&&(at=Q,(V+=tt)>=O&&(tt=4*lt+4*n*(et-1),V=L+(Q+lt)*(et<<1),et>>=1)),ut===$)V+=4;else{var gt=t[Z+3*ut],mt=t[Z+3*ut+1],xt=t[Z+3*ut+2];j[V++]=xt,j[V++]=mt,j[V++]=gt,j[V++]=255}--at}},this.decodeAndBlitFrameRGBA=function(E,j){var k=this.frameInfo(E),B=k.width*k.height,U=new Uint8Array(B);y0(t,k.data_offset,U,B);var Z=k.palette_offset,$=k.transparent_index;$===null&&($=256);var Q=k.width,lt=n-Q,at=Q,L=4*(k.y*n+k.x),O=4*((k.y+k.height)*n+k.x),V=L,tt=4*lt;k.interlaced===!0&&(tt+=4*n*7);for(var et=8,ot=0,it=U.length;ot<it;++ot){var ut=U[ot];if(at===0&&(at=Q,(V+=tt)>=O&&(tt=4*lt+4*n*(et-1),V=L+(Q+lt)*(et<<1),et>>=1)),ut===$)V+=4;else{var gt=t[Z+3*ut],mt=t[Z+3*ut+1],xt=t[Z+3*ut+2];j[V++]=gt,j[V++]=mt,j[V++]=xt,j[V++]=255}--at}}}function y0(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,h=0,p=0,m=0,d=t[e++],v=new Int32Array(4096),x=null;;){for(;h<16&&d!==0;)p|=t[e++]<<h,h+=8,d===1?d=t[e++]:--d;if(h<l)break;var N=p&u;if(p>>=l,h-=l,N!==o){if(N===s)break;for(var w=N<a?N:x,M=0,_=w;_>o;)_=v[_]>>8,++M;var A=_;if(m+M+(w!==N?1:0)>r)return void Pe.log("Warning, gif stream longer than expected.");n[m++]=A;var H=m+=M;for(w!==N&&(n[m++]=A),_=w;M--;)_=v[_],n[--H]=255&_,_>>=8;x!==null&&a<4096&&(v[a++]=x<<8|A,a>=u+1&&l<12&&(++l,u=u<<1|1)),x=N}else a=s+1,u=(1<<(l=i+1))-1,x=null}return m!==r&&Pe.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function su(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),m=new Array(65535),d=new Array(64),v=new Array(64),x=[],N=0,w=7,M=new Array(64),_=new Array(64),A=new Array(64),H=new Array(256),G=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(L,O){for(var V=0,tt=0,et=new Array,ot=1;ot<=16;ot++){for(var it=1;it<=L[ot];it++)et[O[tt]]=[],et[O[tt]][0]=V,et[O[tt]][1]=ot,tt++,V++;V*=2}return et}function Z(L){for(var O=L[0],V=L[1]-1;V>=0;)O&1<<V&&(N|=1<<w),V--,--w<0&&(N==255?($(255),$(0)):$(N),w=7,N=0)}function $(L){x.push(L)}function Q(L){$(L>>8&255),$(255&L)}function lt(L,O,V,tt,et){for(var ot,it=et[0],ut=et[240],gt=(function(St,qt){var It,Ht,Bt,ve,ae,Jt,ce,pe,Tt,te,zt=0;for(Tt=0;Tt<8;++Tt){It=St[zt],Ht=St[zt+1],Bt=St[zt+2],ve=St[zt+3],ae=St[zt+4],Jt=St[zt+5],ce=St[zt+6];var ze=It+(pe=St[zt+7]),me=It-pe,le=Ht+ce,ue=Ht-ce,Ie=Bt+Jt,Yt=Bt-Jt,ke=ve+ae,Kt=ve-ae,ne=ze+ke,Me=ze-ke,de=le+Ie,Xt=le-Ie;St[zt]=ne+de,St[zt+4]=ne-de;var _e=.707106781*(Xt+Me);St[zt+2]=Me+_e,St[zt+6]=Me-_e;var zr=.382683433*((ne=Kt+Yt)-(Xt=ue+me)),hn=.5411961*ne+zr,fr=1.306562965*Xt+zr,er=.707106781*(de=Yt+ue),Zt=me+er,hr=me-er;St[zt+5]=hr+hn,St[zt+3]=hr-hn,St[zt+1]=Zt+fr,St[zt+7]=Zt-fr,zt+=8}for(zt=0,Tt=0;Tt<8;++Tt){It=St[zt],Ht=St[zt+8],Bt=St[zt+16],ve=St[zt+24],ae=St[zt+32],Jt=St[zt+40],ce=St[zt+48];var dr=It+(pe=St[zt+56]),Pn=It-pe,In=Ht+ce,je=Ht-ce,en=Bt+Jt,sn=Bt-Jt,Ur=ve+ae,Cr=ve-ae,qn=dr+Ur,nr=dr-Ur,Mn=In+en,Fn=In-en;St[zt]=qn+Mn,St[zt+32]=qn-Mn;var Sn=.707106781*(Fn+nr);St[zt+16]=nr+Sn,St[zt+48]=nr-Sn;var Hr=.382683433*((qn=Cr+sn)-(Fn=je+Pn)),rr=.5411961*qn+Hr,$r=1.306562965*Fn+Hr,pi=.707106781*(Mn=sn+je),gi=Pn+pi,mi=Pn-pi;St[zt+40]=mi+rr,St[zt+24]=mi-rr,St[zt+8]=gi+$r,St[zt+56]=gi-$r,zt++}for(Tt=0;Tt<64;++Tt)te=St[Tt]*qt[Tt],d[Tt]=te>0?te+.5|0:te-.5|0;return d})(L,O),mt=0;mt<64;++mt)v[W[mt]]=gt[mt];var xt=v[0]-V;V=v[0],xt==0?Z(tt[0]):(Z(tt[m[ot=32767+xt]]),Z(p[ot]));for(var Nt=63;Nt>0&&v[Nt]==0;)Nt--;if(Nt==0)return Z(it),V;for(var Ct,q=1;q<=Nt;){for(var kt=q;v[q]==0&&q<=Nt;)++q;var Gt=q-kt;if(Gt>=16){Ct=Gt>>4;for(var jt=1;jt<=Ct;++jt)Z(ut);Gt&=15}ot=32767+v[q],Z(et[(Gt<<4)+m[ot]]),Z(p[ot]),q++}return Nt!=63&&Z(it),V}function at(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(O){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],tt=0;tt<64;tt++){var et=s((V[tt]*O+50)/100);et=Math.min(Math.max(et,1),255),a[W[tt]]=et}for(var ot=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],it=0;it<64;it++){var ut=s((ot[it]*O+50)/100);ut=Math.min(Math.max(ut,1),255),l[W[it]]=ut}for(var gt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],mt=0,xt=0;xt<8;xt++)for(var Nt=0;Nt<8;Nt++)u[mt]=1/(a[W[mt]]*gt[xt]*gt[Nt]*8),h[mt]=1/(l[W[mt]]*gt[xt]*gt[Nt]*8),mt++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,O){O&&at(O),x=new Array,N=0,w=7,Q(65496),Q(65504),Q(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),Q(1),Q(1),$(0),$(0),(function(){Q(65499),Q(132),$(0);for(var Ht=0;Ht<64;Ht++)$(a[Ht]);$(1);for(var Bt=0;Bt<64;Bt++)$(l[Bt])})(),(function(Ht,Bt){Q(65472),Q(17),$(8),Q(Bt),Q(Ht),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(L.width,L.height),(function(){Q(65476),Q(418),$(0);for(var Ht=0;Ht<16;Ht++)$(D[Ht+1]);for(var Bt=0;Bt<=11;Bt++)$(I[Bt]);$(16);for(var ve=0;ve<16;ve++)$(J[ve+1]);for(var ae=0;ae<=161;ae++)$(S[ae]);$(1);for(var Jt=0;Jt<16;Jt++)$(E[Jt+1]);for(var ce=0;ce<=11;ce++)$(j[ce]);$(17);for(var pe=0;pe<16;pe++)$(k[pe+1]);for(var Tt=0;Tt<=161;Tt++)$(B[Tt])})(),Q(65498),Q(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var V=0,tt=0,et=0;N=0,w=7,this.encode.displayName="_encode_";for(var ot,it,ut,gt,mt,xt,Nt,Ct,q,kt=L.data,Gt=L.width,jt=L.height,St=4*Gt,qt=0;qt<jt;){for(ot=0;ot<St;){for(mt=St*qt+ot,Nt=-1,Ct=0,q=0;q<64;q++)xt=mt+(Ct=q>>3)*St+(Nt=4*(7&q)),qt+Ct>=jt&&(xt-=St*(qt+1+Ct-jt)),ot+Nt>=St&&(xt-=ot+Nt-St+4),it=kt[xt++],ut=kt[xt++],gt=kt[xt++],M[q]=(G[it]+G[ut+256|0]+G[gt+512|0]>>16)-128,_[q]=(G[it+768|0]+G[ut+1024|0]+G[gt+1280|0]>>16)-128,A[q]=(G[it+1280|0]+G[ut+1536|0]+G[gt+1792|0]>>16)-128;V=lt(M,u,V,e,r),tt=lt(_,h,tt,n,i),et=lt(A,h,et,n,i),ot+=32}qt+=8}if(w>=0){var It=[];It[1]=w+1,It[0]=(1<<w+1)-1,Z(It)}return Q(65497),new Uint8Array(x)},t=t||50,(function(){for(var L=String.fromCharCode,O=0;O<256;O++)H[O]=L(O)})(),e=U(D,I),n=U(E,j),r=U(J,S),i=U(k,B),(function(){for(var L=1,O=2,V=1;V<=15;V++){for(var tt=L;tt<O;tt++)m[32767+tt]=V,p[32767+tt]=[],p[32767+tt][1]=V,p[32767+tt][0]=tt;for(var et=-(O-1);et<=-L;et++)m[32767+et]=V,p[32767+et]=[],p[32767+et][1]=V,p[32767+et][0]=O-1+et;L<<=1,O<<=1}})(),(function(){for(var L=0;L<256;L++)G[L]=19595*L,G[L+256|0]=38470*L,G[L+512|0]=7471*L+32768,G[L+768|0]=-11059*L,G[L+1024|0]=-21709*L,G[L+1280|0]=32768*L+8421375,G[L+1536|0]=-27439*L,G[L+1792|0]=-5329*L})(),at(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function br(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function v0(t){function e(I){if(!I)throw Error("assert :P")}function n(I,J,S){for(var E=0;4>E;E++)if(I[J+E]!=S.charCodeAt(E))return!0;return!1}function r(I,J,S,E,j){for(var k=0;k<j;k++)I[J+k]=S[E+k]}function i(I,J,S,E){for(var j=0;j<E;j++)I[J+j]=S}function o(I){return new Int32Array(I)}function s(I,J){for(var S=[],E=0;E<I;E++)S.push(new J);return S}function a(I,J){var S=[];return(function E(j,k,B){for(var U=B[k],Z=0;Z<U&&(j.push(B.length>k+1?[]:new J),!(B.length<k+1));Z++)E(j[Z],k+1,B)})(S,0,I),S}var l=function(){var I=this;function J(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function S(c,f,y,b,P){e(!(b%y));do c[f+(b-=y)]=P;while(0<b)}function E(c,f,y,b,P){if(e(2328>=P),512>=P)var F=o(512);else if((F=o(P))==null)return 0;return(function(R,T,z,Y,st,pt){var X,ct,ht=T,yt=1<<z,dt=o(16),wt=o(16);for(e(st!=0),e(Y!=null),e(R!=null),e(0<z),ct=0;ct<st;++ct){if(15<Y[ct])return 0;++dt[Y[ct]]}if(dt[0]==st)return 0;for(wt[1]=0,X=1;15>X;++X){if(dt[X]>1<<X)return 0;wt[X+1]=wt[X]+dt[X]}for(ct=0;ct<st;++ct)X=Y[ct],0<Y[ct]&&(pt[wt[X]++]=ct);if(wt[15]==1)return(Y=new j).g=0,Y.value=pt[0],S(R,ht,1,yt,Y),yt;var _t,Et=-1,Lt=yt-1,$t=0,Mt=1,fe=1,Ot=1<<z;for(ct=0,X=1,st=2;X<=z;++X,st<<=1){if(Mt+=fe<<=1,0>(fe-=dt[X]))return 0;for(;0<dt[X];--dt[X])(Y=new j).g=X,Y.value=pt[ct++],S(R,ht+$t,st,Ot,Y),$t=J($t,X)}for(X=z+1,st=2;15>=X;++X,st<<=1){if(Mt+=fe<<=1,0>(fe-=dt[X]))return 0;for(;0<dt[X];--dt[X]){if(Y=new j,($t&Lt)!=Et){for(ht+=Ot,_t=1<<(Et=X)-z;15>Et&&!(0>=(_t-=dt[Et]));)++Et,_t<<=1;yt+=Ot=1<<(_t=Et-z),R[T+(Et=$t&Lt)].g=_t+z,R[T+Et].value=ht-T-Et}Y.g=X-z,Y.value=pt[ct++],S(R,ht+($t>>z),st,Ot,Y),$t=J($t,X)}}return Mt!=2*wt[15]-1?0:yt})(c,f,y,b,P,F)}function j(){this.value=this.g=0}function k(){this.value=this.g=0}function B(){this.G=s(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ro,k)}function U(c,f,y,b){e(c!=null),e(f!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,it(c)}function Z(c,f){for(var y=0;0<f--;)y|=gt(c,128)<<f;return y}function $(c,f){var y=Z(c,f);return ut(c)?-y:y}function Q(c,f,y,b){var P,F=0;for(e(c!=null),e(f!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),P=0;P<b;++P)F+=f[y+P]<<8*P;c.Ra=F,c.bb=b,c.oa=f,c.pa=y}function lt(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<_i-8>>>0,++c.bb,c.u-=8;tt(c)&&(c.h=1,c.u=0)}function at(c,f){if(e(0<=f),!c.h&&f<=Hn){var y=V(c)&Un[f];return c.u+=f,lt(c),y}return c.h=1,c.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(c){return c.Ra>>>(c.u&_i-1)>>>0}function tt(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>_i}function et(c,f){c.u=f,c.h=tt(c)}function ot(c){c.u>=ei&&(e(c.u>=ei),lt(c))}function it(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ut(c){return Z(c,1)}function gt(c,f){var y=c.Ca;0>c.b&&it(c);var b=c.b,P=y*f>>>8,F=(c.I>>>b>P)+0;for(F?(y-=P,c.I-=P+1<<b>>>0):y=P+1,b=y,P=0;256<=b;)P+=8,b>>=8;return b=7^P+Ni[b],c.b-=b,c.Ca=(y<<b)-1,F}function mt(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=255&y}function xt(c,f){return c[f+0]|c[f+1]<<8}function Nt(c,f){return xt(c,f)|c[f+2]<<16}function Ct(c,f){return xt(c,f)|xt(c,f+2)<<16}function q(c,f){var y=1<<f;return e(c!=null),e(0<f),c.X=o(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function kt(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function Gt(){this.X=[],this.Xa=this.Mb=0}function jt(c,f,y,b){e(y!=null),e(b!=null);var P=y[0],F=b[0];return P==0&&(P=(c*F+f/2)/f),F==0&&(F=(f*P+c/2)/c),0>=P||0>=F?0:(y[0]=P,b[0]=F,1)}function St(c,f){return c+(1<<f)-1>>>f}function qt(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function It(c,f){I[f]=function(y,b,P,F,R,T,z){var Y;for(Y=0;Y<R;++Y){var st=I[c](T[z+Y-1],P,F+Y);T[z+Y]=qt(y[b+Y],st)}}}function Ht(){this.ud=this.hd=this.jd=0}function Bt(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function ve(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function ae(c,f){return ve(c+(c-f+.5>>1))}function Jt(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function ce(c,f,y,b,P,F,R){for(b=F[R-1],y=0;y<P;++y)F[R+y]=b=qt(c[f+y],b)}function pe(c,f,y,b,P){var F;for(F=0;F<y;++F){var R=c[f+F],T=R>>8&255,z=16711935&(z=(z=16711935&R)+((T<<16)+T));b[P+F]=(4278255360&R)+z>>>0}}function Tt(c,f){f.jd=255&c,f.hd=c>>8&255,f.ud=c>>16&255}function te(c,f,y,b,P,F){var R;for(R=0;R<b;++R){var T=f[y+R],z=T>>>8,Y=T,st=255&(st=(st=T>>>16)+((c.jd<<24>>24)*(z<<24>>24)>>>5));Y=255&(Y=(Y+=(c.hd<<24>>24)*(z<<24>>24)>>>5)+((c.ud<<24>>24)*(st<<24>>24)>>>5)),P[F+R]=(4278255360&T)+(st<<16)+Y}}function zt(c,f,y,b,P){I[f]=function(F,R,T,z,Y,st,pt,X,ct){for(z=pt;z<X;++z)for(pt=0;pt<ct;++pt)Y[st++]=P(T[b(F[R++])])},I[c]=function(F,R,T,z,Y,st,pt){var X=8>>F.b,ct=F.Ea,ht=F.K[0],yt=F.w;if(8>X)for(F=(1<<F.b)-1,yt=(1<<X)-1;R<T;++R){var dt,wt=0;for(dt=0;dt<ct;++dt)dt&F||(wt=b(z[Y++])),st[pt++]=P(ht[wt&yt]),wt>>=X}else I["VP8LMapColor"+y](z,Y,ht,yt,st,pt,R,T,ct)}}function ze(c,f,y,b,P){for(y=f+y;f<y;){var F=c[f++];b[P++]=F>>16&255,b[P++]=F>>8&255,b[P++]=255&F}}function me(c,f,y,b,P){for(y=f+y;f<y;){var F=c[f++];b[P++]=F>>16&255,b[P++]=F>>8&255,b[P++]=255&F,b[P++]=F>>24&255}}function le(c,f,y,b,P){for(y=f+y;f<y;){var F=(R=c[f++])>>16&240|R>>12&15,R=240&R|R>>28&15;b[P++]=F,b[P++]=R}}function ue(c,f,y,b,P){for(y=f+y;f<y;){var F=(R=c[f++])>>16&248|R>>13&7,R=R>>5&224|R>>3&31;b[P++]=F,b[P++]=R}}function Ie(c,f,y,b,P){for(y=f+y;f<y;){var F=c[f++];b[P++]=255&F,b[P++]=F>>8&255,b[P++]=F>>16&255}}function Yt(c,f,y,b,P,F){if(F==0)for(y=f+y;f<y;)mt(b,((F=c[f++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),P+=32;else r(b,P,c,f,y)}function ke(c,f){I[f][0]=I[c+"0"],I[f][1]=I[c+"1"],I[f][2]=I[c+"2"],I[f][3]=I[c+"3"],I[f][4]=I[c+"4"],I[f][5]=I[c+"5"],I[f][6]=I[c+"6"],I[f][7]=I[c+"7"],I[f][8]=I[c+"8"],I[f][9]=I[c+"9"],I[f][10]=I[c+"10"],I[f][11]=I[c+"11"],I[f][12]=I[c+"12"],I[f][13]=I[c+"13"],I[f][14]=I[c+"0"],I[f][15]=I[c+"0"]}function Kt(c){return c==ul||c==fl||c==Ma||c==hl}function ne(){this.eb=[],this.size=this.A=this.fb=0}function Me(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function de(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ne,this.f.kb=new Me,this.sd=null}function Xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _e(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zr(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function hn(c,f){var y=c.T,b=f.ba.f.RGBA,P=b.eb,F=b.fb+c.ka*b.A,R=lr[f.ba.S],T=c.y,z=c.O,Y=c.f,st=c.N,pt=c.ea,X=c.W,ct=f.cc,ht=f.dc,yt=f.Mc,dt=f.Nc,wt=c.ka,_t=c.ka+c.T,Et=c.U,Lt=Et+1>>1;for(wt==0?R(T,z,null,null,Y,st,pt,X,Y,st,pt,X,P,F,null,null,Et):(R(f.ec,f.fc,T,z,ct,ht,yt,dt,Y,st,pt,X,P,F-b.A,P,F,Et),++y);wt+2<_t;wt+=2)ct=Y,ht=st,yt=pt,dt=X,st+=c.Rc,X+=c.Rc,F+=2*b.A,R(T,(z+=2*c.fa)-c.fa,T,z,ct,ht,yt,dt,Y,st,pt,X,P,F-b.A,P,F,Et);return z+=c.fa,c.j+_t<c.o?(r(f.ec,f.fc,T,z,Et),r(f.cc,f.dc,Y,st,Lt),r(f.Mc,f.Nc,pt,X,Lt),y--):1&_t||R(T,z,null,null,Y,st,pt,X,Y,st,pt,X,P,F+b.A,null,null,Et),y}function fr(c,f,y){var b=c.F,P=[c.J];if(b!=null){var F=c.U,R=f.ba.S,T=R==Ia||R==Ma;f=f.ba.f.RGBA;var z=[0],Y=c.ka;z[0]=c.T,c.Kb&&(Y==0?--z[0]:(--Y,P[0]-=c.width),c.j+c.ka+c.T==c.o&&(z[0]=c.o-c.j-Y));var st=f.eb;Y=f.fb+Y*f.A,c=hf(b,P[0],c.width,F,z,st,Y+(T?0:3),f.A),e(y==z),c&&Kt(R)&&Fs(st,Y,T,F,z,f.A)}return 0}function er(c){var f=c.ma,y=f.ba.S,b=11>y,P=y==Ca||y==Pa||y==Ia||y==ll||y==12||Kt(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!As(f.Oa,c,P?11:12))return 0;if(P&&Kt(y)&&_s(),c.da)alert("todo:use_scaling");else{if(b){if(f.Ib=zr,c.Kb){if(y=c.U+1>>1,f.memory=o(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=hn,_s()}}else alert("todo:EmitYUV");P&&(f.Jb=fr,b&&mr())}if(b&&!Ef){for(c=0;256>c;++c)Sp[c]=89858*(c-128)+Ra>>Fa,kp[c]=-22014*(c-128)+Ra,Lp[c]=-45773*(c-128),Ap[c]=113618*(c-128)+Ra>>Fa;for(c=Ts;c<gl;++c)f=76283*(c-16)+Ra>>Fa,Ep[c-Ts]=ir(f,255),Cp[c-Ts]=ir(f+8>>4,15);Ef=1}return 1}function Zt(c){var f=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function hr(c){c.ma.memory=null}function dr(c,f,y,b){return at(c,8)!=47?0:(f[0]=at(c,14)+1,y[0]=at(c,14)+1,b[0]=at(c,1),at(c,3)!=0?0:!c.h)}function Pn(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+at(f,y)+1}function In(c,f){return 120<f?f-120:1<=(y=((y=up[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function je(c,f,y){var b=V(y),P=c[f+=255&b].g-8;return 0<P&&(et(y,y.u+8),b=V(y),f+=c[f].value,f+=b&(1<<P)-1),et(y,y.u+c[f].g),c[f].value}function en(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,e(8>=y.g),c.g}function sn(c,f,y){var b=c.xc;return e((f=b==0?0:c.vc[c.md*(y>>b)+(f>>b)])<c.Wb),c.Ya[f]}function Ur(c,f,y,b){var P=c.ab,F=c.c*f,R=c.C;f=R+f;var T=y,z=b;for(b=c.Ta,y=c.Ua;0<P--;){var Y=c.gc[P],st=R,pt=f,X=T,ct=z,ht=(z=b,T=y,Y.Ea);switch(e(st<pt),e(pt<=Y.nc),Y.hc){case 2:Ye(X,ct,(pt-st)*ht,z,T);break;case 0:var yt=st,dt=pt,wt=z,_t=T,Et=(Ot=Y).Ea;yt==0&&(ks(X,ct,null,null,1,wt,_t),ce(X,ct+1,0,0,Et-1,wt,_t+1),ct+=Et,_t+=Et,++yt);for(var Lt=1<<Ot.b,$t=Lt-1,Mt=St(Et,Ot.b),fe=Ot.K,Ot=Ot.w+(yt>>Ot.b)*Mt;yt<dt;){var ye=fe,ln=Ot,he=1;for(jo(X,ct,wt,_t-Et,1,wt,_t);he<Et;){var Dt=(he&~$t)+Lt;Dt>Et&&(Dt=Et),(0,Cs[ye[ln++]>>8&15])(X,ct+ +he,wt,_t+he-Et,Dt-he,wt,_t+he),he=Dt}ct+=Et,_t+=Et,++yt&$t||(Ot+=Mt)}pt!=Y.nc&&r(z,T-ht,z,T+(pt-st-1)*ht,ht);break;case 1:for(ht=X,dt=ct,Et=(X=Y.Ea)-(_t=X&~(wt=(ct=1<<Y.b)-1)),yt=St(X,Y.b),Lt=Y.K,Y=Y.w+(st>>Y.b)*yt;st<pt;){for($t=Lt,Mt=Y,fe=new Ht,Ot=dt+_t,ye=dt+X;dt<Ot;)Tt($t[Mt++],fe),Ps(fe,ht,dt,ct,z,T),dt+=ct,T+=ct;dt<ye&&(Tt($t[Mt++],fe),Ps(fe,ht,dt,Et,z,T),dt+=Et,T+=Et),++st&wt||(Y+=yt)}break;case 3:if(X==z&&ct==T&&0<Y.b){for(dt=z,X=ht=T+(pt-st)*ht-(_t=(pt-st)*St(Y.Ea,Y.b)),ct=z,wt=T,yt=[],_t=(Et=_t)-1;0<=_t;--_t)yt[_t]=ct[wt+_t];for(_t=Et-1;0<=_t;--_t)dt[X+_t]=yt[_t];Aa(Y,st,pt,z,ht,z,T)}else Aa(Y,st,pt,X,ct,z,T)}T=b,z=y}z!=y&&r(b,y,T,z,F)}function Cr(c,f){var y=c.V,b=c.Ba+c.c*c.C,P=f-c.C;if(e(f<=c.l.o),e(16>=P),0<P){var F=c.l,R=c.Ta,T=c.Ua,z=F.width;if(Ur(c,P,y,b),P=T=[T],e((y=c.C)<(b=f)),e(F.v<F.va),b>F.o&&(b=F.o),y<F.j){var Y=F.j-y;y=F.j,P[0]+=Y*z}if(y>=b?y=0:(P[0]+=4*F.v,F.ka=y-F.j,F.U=F.va-F.v,F.T=b-y,y=1),y){if(T=T[0],11>(y=c.ca).S){var st=y.f.RGBA,pt=(b=y.S,P=F.U,F=F.T,Y=st.eb,st.A),X=F;for(st=st.fb+c.Ma*st.A;0<X--;){var ct=R,ht=T,yt=P,dt=Y,wt=st;switch(b){case Ea:Is(ct,ht,yt,dt,wt);break;case Ca:Si(ct,ht,yt,dt,wt);break;case ul:Si(ct,ht,yt,dt,wt),Fs(dt,wt,0,yt,1,0);break;case wf:io(ct,ht,yt,dt,wt);break;case Pa:Yt(ct,ht,yt,dt,wt,1);break;case fl:Yt(ct,ht,yt,dt,wt,1),Fs(dt,wt,0,yt,1,0);break;case Ia:Yt(ct,ht,yt,dt,wt,0);break;case Ma:Yt(ct,ht,yt,dt,wt,0),Fs(dt,wt,1,yt,1,0);break;case ll:Ai(ct,ht,yt,dt,wt);break;case hl:Ai(ct,ht,yt,dt,wt),ff(dt,wt,yt,1,0);break;case bf:Li(ct,ht,yt,dt,wt);break;default:e(0)}T+=z,st+=pt}c.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=f,e(c.C<=c.i)}function qn(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,b=c.Ya[f].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function nr(c,f,y,b,P,F){if(c.Z!=0){var R=c.qd,T=c.rd;for(e(Ci[c.Z]!=null);f<y;++f)Ci[c.Z](R,T,b,P,b,P,F),R=b,T=P,P+=F;c.qd=R,c.rd=T}}function Mn(c,f){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(f<=c.l.o),f>b){var P=c.l.width,F=y.ca,R=y.tb+P*b,T=c.V,z=c.Ba+c.c*b,Y=c.gc;e(c.ab==1),e(Y[0].hc==3),Ir(Y[0],b,f,T,z,F,R),nr(y,b,f,F,R,P)}c.C=c.Ma=f}function Fn(c,f,y,b,P,F,R){var T=c.$/b,z=c.$%b,Y=c.m,st=c.s,pt=y+c.$,X=pt;P=y+b*P;var ct=y+b*F,ht=280+st.ua,yt=c.Pb?T:16777216,dt=0<st.ua?st.Wa:null,wt=st.wc,_t=pt<ct?sn(st,z,T):null;e(c.C<F),e(ct<=P);var Et=!1;t:for(;;){for(;Et||pt<ct;){var Lt=0;if(T>=yt){var $t=pt-y;e((yt=c).Pb),yt.wd=yt.m,yt.xd=$t,0<yt.s.ua&&kt(yt.s.Wa,yt.s.vb),yt=T+hp}if(z&wt||(_t=sn(st,z,T)),e(_t!=null),_t.Qb&&(f[pt]=_t.qb,Et=!0),!Et)if(ot(Y),_t.jc){Lt=Y,$t=f;var Mt=pt,fe=_t.pd[V(Lt)&ro-1];e(_t.jc),256>fe.g?(et(Lt,Lt.u+fe.g),$t[Mt]=fe.value,Lt=0):(et(Lt,Lt.u+fe.g-256),e(256<=fe.value),Lt=fe.value),Lt==0&&(Et=!0)}else Lt=je(_t.G[0],_t.H[0],Y);if(Y.h)break;if(Et||256>Lt){if(!Et)if(_t.nd)f[pt]=(_t.qb|Lt<<8)>>>0;else{if(ot(Y),Et=je(_t.G[1],_t.H[1],Y),ot(Y),$t=je(_t.G[2],_t.H[2],Y),Mt=je(_t.G[3],_t.H[3],Y),Y.h)break;f[pt]=(Mt<<24|Et<<16|Lt<<8|$t)>>>0}if(Et=!1,++pt,++z>=b&&(z=0,++T,R!=null&&T<=F&&!(T%16)&&R(c,T),dt!=null))for(;X<pt;)Lt=f[X++],dt.X[(506832829*Lt&4294967295)>>>dt.Mb]=Lt}else if(280>Lt){if(Lt=Pn(Lt-256,Y),$t=je(_t.G[4],_t.H[4],Y),ot(Y),$t=In(b,$t=Pn($t,Y)),Y.h)break;if(pt-y<$t||P-pt<Lt)break t;for(Mt=0;Mt<Lt;++Mt)f[pt+Mt]=f[pt+Mt-$t];for(pt+=Lt,z+=Lt;z>=b;)z-=b,++T,R!=null&&T<=F&&!(T%16)&&R(c,T);if(e(pt<=P),z&wt&&(_t=sn(st,z,T)),dt!=null)for(;X<pt;)Lt=f[X++],dt.X[(506832829*Lt&4294967295)>>>dt.Mb]=Lt}else{if(!(Lt<ht))break t;for(Et=Lt-280,e(dt!=null);X<pt;)Lt=f[X++],dt.X[(506832829*Lt&4294967295)>>>dt.Mb]=Lt;Lt=pt,e(!(Et>>>($t=dt).Xa)),f[Lt]=$t.X[Et],Et=!0}Et||e(Y.h==tt(Y))}if(c.Pb&&Y.h&&pt<P)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&kt(c.s.vb,c.s.Wa);else{if(Y.h)break t;R?.(c,T>F?F:T),c.a=0,c.$=pt-y}return 1}return c.a=3,0}function Sn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Hr(){var c=new ee;return c==null?null:(c.a=0,c.xb=Nf,ke("Predictor","VP8LPredictors"),ke("Predictor","VP8LPredictors_C"),ke("PredictorAdd","VP8LPredictorsAdd"),ke("PredictorAdd","VP8LPredictorsAdd_C"),Ye=pe,Ps=te,Is=ze,Si=me,Ai=le,Li=ue,io=Ie,I.VP8LMapColor32b=Pr,I.VP8LMapColor8b=Es,c)}function rr(c,f,y,b,P){var F=1,R=[c],T=[f],z=b.m,Y=b.s,st=null,pt=0;t:for(;;){if(y)for(;F&&at(z,1);){var X=R,ct=T,ht=b,yt=1,dt=ht.m,wt=ht.gc[ht.ab],_t=at(dt,2);if(ht.Oc&1<<_t)F=0;else{switch(ht.Oc|=1<<_t,wt.hc=_t,wt.Ea=X[0],wt.nc=ct[0],wt.K=[null],++ht.ab,e(4>=ht.ab),_t){case 0:case 1:wt.b=at(dt,3)+2,yt=rr(St(wt.Ea,wt.b),St(wt.nc,wt.b),0,ht,wt.K),wt.K=wt.K[0];break;case 3:var Et,Lt=at(dt,8)+1,$t=16<Lt?0:4<Lt?1:2<Lt?2:3;if(X[0]=St(wt.Ea,$t),wt.b=$t,Et=yt=rr(Lt,1,0,ht,wt.K)){var Mt,fe=Lt,Ot=wt,ye=1<<(8>>Ot.b),ln=o(ye);if(ln==null)Et=0;else{var he=Ot.K[0],Dt=Ot.w;for(ln[0]=Ot.K[0][0],Mt=1;Mt<1*fe;++Mt)ln[Mt]=qt(he[Dt+Mt],ln[Mt-1]);for(;Mt<4*ye;++Mt)ln[Mt]=0;Ot.K[0]=null,Ot.K[0]=ln,Et=1}}yt=Et;break;case 2:break;default:e(0)}F=yt}}if(R=R[0],T=T[0],F&&at(z,1)&&!(F=1<=(pt=at(z,4))&&11>=pt)){b.a=3;break t}var Pt;if(Pt=F)e:{var Ze,oe,we,Te=b,mn=R,kn=T,$e=pt,wn=y,En=Te.m,un=Te.s,xe=[null],Se=1,Ve=0,Ae=fp[$e];n:for(;;){if(wn&&at(En,1)){var yn=at(En,3)+2,vr=St(mn,yn),Ke=St(kn,yn),Tn=vr*Ke;if(!rr(vr,Ke,0,Te,xe))break n;for(xe=xe[0],un.xc=yn,Ze=0;Ze<Tn;++Ze){var Ce=xe[Ze]>>8&65535;xe[Ze]=Ce,Ce>=Se&&(Se=Ce+1)}}if(En.h)break n;for(oe=0;5>oe;++oe){var fn=xf[oe];!oe&&0<$e&&(fn+=1<<$e),Ve<fn&&(Ve=fn)}var Vn=s(Se*Ae,j),Cn=Se,Wn=s(Cn,B);if(Wn==null)var Gn=null;else e(65536>=Cn),Gn=Wn;var On=o(Ve);if(Gn==null||On==null||Vn==null){Te.a=1;break n}var Yn=Vn;for(Ze=we=0;Ze<Se;++Ze){var Re=Gn[Ze],Xn=Re.G,wr=Re.H,so=0,ii=1,vn=0;for(oe=0;5>oe;++oe){fn=xf[oe],Xn[oe]=Yn,wr[oe]=we,!oe&&0<$e&&(fn+=1<<$e);i:{var Oa,ml=fn,Da=Te,Os=On,Mp=Yn,Fp=we,yl=0,Pi=Da.m,Rp=at(Pi,1);if(i(Os,0,0,ml),Rp){var Tp=at(Pi,1)+1,Op=at(Pi,1),If=at(Pi,Op==0?1:8);Os[If]=1,Tp==2&&(Os[If=at(Pi,8)]=1);var ja=1}else{var Mf=o(19),Ff=at(Pi,4)+4;if(19<Ff){Da.a=3;var Ba=0;break i}for(Oa=0;Oa<Ff;++Oa)Mf[lp[Oa]]=at(Pi,3);var vl=void 0,Ds=void 0,Rf=Da,Dp=Mf,qa=ml,Tf=Os,wl=0,Ii=Rf.m,Of=8,Df=s(128,j);r:for(;E(Df,0,7,Dp,19);){if(at(Ii,1)){var jp=2+2*at(Ii,3);if((vl=2+at(Ii,jp))>qa)break r}else vl=qa;for(Ds=0;Ds<qa&&vl--;){ot(Ii);var jf=Df[0+(127&V(Ii))];et(Ii,Ii.u+jf.g);var qo=jf.value;if(16>qo)Tf[Ds++]=qo,qo!=0&&(Of=qo);else{var Bp=qo==16,Bf=qo-16,qp=ap[Bf],qf=at(Ii,sp[Bf])+qp;if(Ds+qf>qa)break r;for(var zp=Bp?Of:0;0<qf--;)Tf[Ds++]=zp}}wl=1;break r}wl||(Rf.a=3),ja=wl}(ja=ja&&!Pi.h)&&(yl=E(Mp,Fp,8,Os,ml)),ja&&yl!=0?Ba=yl:(Da.a=3,Ba=0)}if(Ba==0)break n;if(ii&&cp[oe]==1&&(ii=Yn[we].g==0),so+=Yn[we].g,we+=Ba,3>=oe){var js,bl=On[0];for(js=1;js<fn;++js)On[js]>bl&&(bl=On[js]);vn+=bl}}if(Re.nd=ii,Re.Qb=0,ii&&(Re.qb=(Xn[3][wr[3]+0].value<<24|Xn[1][wr[1]+0].value<<16|Xn[2][wr[2]+0].value)>>>0,so==0&&256>Xn[0][wr[0]+0].value&&(Re.Qb=1,Re.qb+=Xn[0][wr[0]+0].value<<8)),Re.jc=!Re.Qb&&6>vn,Re.jc){var za,oi=Re;for(za=0;za<ro;++za){var Mi=za,Fi=oi.pd[Mi],Ua=oi.G[0][oi.H[0]+Mi];256<=Ua.value?(Fi.g=Ua.g+256,Fi.value=Ua.value):(Fi.g=0,Fi.value=0,Mi>>=en(Ua,8,Fi),Mi>>=en(oi.G[1][oi.H[1]+Mi],16,Fi),Mi>>=en(oi.G[2][oi.H[2]+Mi],0,Fi),en(oi.G[3][oi.H[3]+Mi],24,Fi))}}}un.vc=xe,un.Wb=Se,un.Ya=Gn,un.yc=Vn,Pt=1;break e}Pt=0}if(!(F=Pt)){b.a=3;break t}if(0<pt){if(Y.ua=1<<pt,!q(Y.Wa,pt)){b.a=1,F=0;break t}}else Y.ua=0;var xl=b,zf=R,Up=T,_l=xl.s,Nl=_l.xc;if(xl.c=zf,xl.i=Up,_l.md=St(zf,Nl),_l.wc=Nl==0?-1:(1<<Nl)-1,y){b.xb=wp;break t}if((st=o(R*T))==null){b.a=1,F=0;break t}F=(F=Fn(b,st,0,R,T,T,null))&&!z.h;break t}return F?(P!=null?P[0]=st:(e(st==null),e(y)),b.$=0,y||Sn(Y)):Sn(Y),F}function $r(c,f){var y=c.c*c.i,b=y+f+16*f;return e(c.c<=f),c.V=o(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function pi(c,f){var y=c.C,b=f-y,P=c.V,F=c.Ba+c.c*y;for(e(f<=c.l.o);0<b;){var R=16<b?16:b,T=c.l.ma,z=c.l.width,Y=z*R,st=T.ca,pt=T.tb+z*y,X=c.Ta,ct=c.Ua;Ur(c,R,P,F),df(X,ct,st,pt,Y),nr(T,y,y+R,st,pt,z),b-=R,P+=R*c.c,y+=R}e(y==f),c.C=c.Ma=f}function gi(){this.ub=this.yd=this.td=this.Rb=0}function mi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ao(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Hi(){this.Yb=(function(){var c=[];return(function f(y,b,P){for(var F=P[b],R=0;R<F&&(y.push(P.length>b+1?[]:0),!(P.length<b+1));R++)f(y[R],b+1,P)})(c,0,[3,11]),c})()}function Lo(){this.jb=o(3),this.Wc=a([4,8],Hi),this.Xc=a([4,17],Hi)}function ko(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Rn(){this.ld=this.La=this.dd=this.tc=0}function $i(){this.Na=this.la=0}function Eo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wi(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rn),this.Y=0,this.ya=Array(new Vi),this.aa=0,this.l=new yi}function Co(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Po(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new gi,this.Kc=new mi,this.ed=new ko,this.Qa=new Ao,this.Ic=this.$c=this.Aa=0,this.D=new Wi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,L),this.ia=0,this.pb=s(4,Eo),this.Pa=new Lo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Co),this.Hd=0,this.rb=Array(new $i),this.sb=0,this.wa=Array(new Rn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vi),this.L=this.aa=0,this.gd=a([4,2],Rn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ir(c,f){return 0>c?0:c>f?f:c}function yi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fs(){var c=new Po;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Rs||(Rs=Vr)),c}function He(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function Io(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function or(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return He(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,b=f.w,P=f.ha;if(4>P)return He(c,7,"Truncated header.");var F=y[b+0]|y[b+1]<<8|y[b+2]<<16,R=c.Od;if(R.Rb=!(1&F),R.td=F>>1&7,R.yd=F>>4&1,R.ub=F>>5,3<R.td)return He(c,3,"Incorrect keyframe parameters.");if(!R.yd)return He(c,4,"Frame not displayable.");b+=3,P-=3;var T=c.Kc;if(R.Rb){if(7>P)return He(c,7,"cannot parse picture header");if(!Io(y,b,P))return He(c,3,"Bad code word");T.c=16383&(y[b+4]<<8|y[b+3]),T.Td=y[b+4]>>6,T.i=16383&(y[b+6]<<8|y[b+5]),T.Ud=y[b+6]>>6,b+=7,P-=7,c.za=T.c+15>>4,c.Ub=T.i+15>>4,f.width=T.c,f.height=T.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((F=c.Pa).jb,0,255,F.jb.length),e((F=c.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(R.ub>P)return He(c,7,"bad partition length");U(F=c.m,y,b,R.ub),b+=R.ub,P-=R.ub,R.Rb&&(T.Ld=ut(F),T.Kd=ut(F)),T=c.Qa;var z,Y=c.Pa;if(e(F!=null),e(T!=null),T.Cb=ut(F),T.Cb){if(T.Bb=ut(F),ut(F)){for(T.Fb=ut(F),z=0;4>z;++z)T.Zb[z]=ut(F)?$(F,7):0;for(z=0;4>z;++z)T.Lb[z]=ut(F)?$(F,6):0}if(T.Bb)for(z=0;3>z;++z)Y.jb[z]=ut(F)?Z(F,8):255}else T.Bb=0;if(F.Ka)return He(c,3,"cannot parse segment header");if((T=c.ed).zd=ut(F),T.Tb=Z(F,6),T.wb=Z(F,3),T.Pc=ut(F),T.Pc&&ut(F)){for(Y=0;4>Y;++Y)ut(F)&&(T.vd[Y]=$(F,6));for(Y=0;4>Y;++Y)ut(F)&&(T.od[Y]=$(F,6))}if(c.L=T.Tb==0?0:T.zd?1:2,F.Ka)return He(c,3,"cannot parse filter header");var st=P;if(P=z=b,b=z+st,T=st,c.Xb=(1<<Z(c.m,2))-1,st<3*(Y=c.Xb))y=7;else{for(z+=3*Y,T-=3*Y,st=0;st<Y;++st){var pt=y[P+0]|y[P+1]<<8|y[P+2]<<16;pt>T&&(pt=T),U(c.Jc[+st],y,z,pt),z+=pt,T-=pt,P+=3}U(c.Jc[+Y],y,z,T),y=z<b?0:5}if(y!=0)return He(c,y,"cannot parse partitions");for(y=Z(z=c.m,7),P=ut(z)?$(z,4):0,b=ut(z)?$(z,4):0,T=ut(z)?$(z,4):0,Y=ut(z)?$(z,4):0,z=ut(z)?$(z,4):0,st=c.Qa,pt=0;4>pt;++pt){if(st.Cb){var X=st.Zb[pt];st.Fb||(X+=y)}else{if(0<pt){c.pb[pt]=c.pb[0];continue}X=y}var ct=c.pb[pt];ct.Sc[0]=dl[ir(X+P,127)],ct.Sc[1]=pl[ir(X+0,127)],ct.Eb[0]=2*dl[ir(X+b,127)],ct.Eb[1]=101581*pl[ir(X+T,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=dl[ir(X+Y,117)],ct.Qc[1]=pl[ir(X+z,127)],ct.lc=X+z}if(!R.Rb)return He(c,4,"Not a key frame.");for(ut(F),R=c.Pa,y=0;4>y;++y){for(P=0;8>P;++P)for(b=0;3>b;++b)for(T=0;11>T;++T)Y=gt(F,yp[y][P][b][T])?Z(F,8):gp[y][P][b][T],R.Wc[y][P].Yb[b][T]=Y;for(P=0;17>P;++P)R.Xc[y][P]=R.Wc[y][vp[P]]}return c.kc=ut(F),c.kc&&(c.Bd=Z(F,8)),c.cb=1}function Vr(c,f,y,b,P,F,R){var T=f[P].Yb[y];for(y=0;16>P;++P){if(!gt(c,T[y+0]))return P;for(;!gt(c,T[y+1]);)if(T=f[++P].Yb[0],y=0,P==16)return 16;var z=f[P+1].Yb;if(gt(c,T[y+2])){var Y=c,st=0;if(gt(Y,(X=T)[(pt=y)+3]))if(gt(Y,X[pt+6])){for(T=0,pt=2*(st=gt(Y,X[pt+8]))+(X=gt(Y,X[pt+9+st])),st=0,X=dp[pt];X[T];++T)st+=st+gt(Y,X[T]);st+=3+(8<<pt)}else gt(Y,X[pt+7])?(st=7+2*gt(Y,165),st+=gt(Y,145)):st=5+gt(Y,159);else st=gt(Y,X[pt+4])?3+gt(Y,X[pt+5]):2;T=z[2]}else st=1,T=z[1];z=R+pp[P],0>(Y=c).b&&it(Y);var pt,X=Y.b,ct=(pt=Y.Ca>>1)-(Y.I>>X)>>31;--Y.b,Y.Ca+=ct,Y.Ca|=1,Y.I-=(pt+1&ct)<<X,F[z]=((st^ct)-ct)*b[(0<P)+0]}return 16}function Mo(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function An(c,f,y,b,P){P=c[f+y+32*b]+(P>>3),c[f+y+32*b]=-256&P?0>P?0:255:P}function Ge(c,f,y,b,P,F){An(c,f,0,y,b+P),An(c,f,1,y,b+F),An(c,f,2,y,b-F),An(c,f,3,y,b-P)}function pr(c){return(20091*c>>16)+c}function vi(c,f,y,b){var P,F=0,R=o(16);for(P=0;4>P;++P){var T=c[f+0]+c[f+8],z=c[f+0]-c[f+8],Y=(35468*c[f+4]>>16)-pr(c[f+12]),st=pr(c[f+4])+(35468*c[f+12]>>16);R[F+0]=T+st,R[F+1]=z+Y,R[F+2]=z-Y,R[F+3]=T-st,F+=4,f++}for(P=F=0;4>P;++P)T=(c=R[F+0]+4)+R[F+8],z=c-R[F+8],Y=(35468*R[F+4]>>16)-pr(R[F+12]),An(y,b,0,0,T+(st=pr(R[F+4])+(35468*R[F+12]>>16))),An(y,b,1,0,z+Y),An(y,b,2,0,z-Y),An(y,b,3,0,T-st),F++,b+=32}function hs(c,f,y,b){var P=c[f+0]+4,F=35468*c[f+4]>>16,R=pr(c[f+4]),T=35468*c[f+1]>>16;Ge(y,b,0,P+R,c=pr(c[f+1]),T),Ge(y,b,1,P+F,c,T),Ge(y,b,2,P-F,c,T),Ge(y,b,3,P-R,c,T)}function ds(c,f,y,b,P){vi(c,f,y,b),P&&vi(c,f+16,y,b+4)}function zn(c,f,y,b){oo(c,f+0,y,b,1),oo(c,f+32,y,b+128,1)}function ma(c,f,y,b){var P;for(c=c[f+0]+4,P=0;4>P;++P)for(f=0;4>f;++f)An(y,b,f,P,c)}function ya(c,f,y,b){c[f+0]&&Ne(c,f+0,y,b),c[f+16]&&Ne(c,f+16,y,b+4),c[f+32]&&Ne(c,f+32,y,b+128),c[f+48]&&Ne(c,f+48,y,b+128+4)}function Fo(c,f,y,b){var P,F=o(16);for(P=0;4>P;++P){var R=c[f+0+P]+c[f+12+P],T=c[f+4+P]+c[f+8+P],z=c[f+4+P]-c[f+8+P],Y=c[f+0+P]-c[f+12+P];F[0+P]=R+T,F[8+P]=R-T,F[4+P]=Y+z,F[12+P]=Y-z}for(P=0;4>P;++P)R=(c=F[0+4*P]+3)+F[3+4*P],T=F[1+4*P]+F[2+4*P],z=F[1+4*P]-F[2+4*P],Y=c-F[3+4*P],y[b+0]=R+T>>3,y[b+16]=Y+z>>3,y[b+32]=R-T>>3,y[b+48]=Y-z>>3,b+=64}function Gi(c,f,y){var b,P=f-32,F=$n,R=255-c[P-1];for(b=0;b<y;++b){var T,z=F,Y=R+c[f-1];for(T=0;T<y;++T)c[f+T]=z[Y+c[P+T]];f+=32}}function Zc(c,f){Gi(c,f,4)}function Kc(c,f){Gi(c,f,8)}function Jc(c,f){Gi(c,f,16)}function ps(c,f){var y;for(y=0;16>y;++y)r(c,f+32*y,c,f-32,16)}function va(c,f){var y;for(y=16;0<y;--y)i(c,f,c[f-1],16),f+=32}function gr(c,f,y){var b;for(b=0;16>b;++b)i(f,y+32*b,c,16)}function Qc(c,f){var y,b=16;for(y=0;16>y;++y)b+=c[f-1+32*y]+c[f+y-32];gr(b>>5,c,f)}function Yi(c,f){var y,b=8;for(y=0;16>y;++y)b+=c[f-1+32*y];gr(b>>4,c,f)}function gs(c,f){var y,b=8;for(y=0;16>y;++y)b+=c[f+y-32];gr(b>>4,c,f)}function tl(c,f){gr(128,c,f)}function re(c,f,y){return c+2*f+y+2>>2}function el(c,f){var y,b=f-32;for(b=new Uint8Array([re(c[b-1],c[b+0],c[b+1]),re(c[b+0],c[b+1],c[b+2]),re(c[b+1],c[b+2],c[b+3]),re(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)r(c,f+32*y,b,0,b.length)}function nl(c,f){var y=c[f-1],b=c[f-1+32],P=c[f-1+64],F=c[f-1+96];mt(c,f+0,16843009*re(c[f-1-32],y,b)),mt(c,f+32,16843009*re(y,b,P)),mt(c,f+64,16843009*re(b,P,F)),mt(c,f+96,16843009*re(P,F,F))}function rl(c,f){var y,b=4;for(y=0;4>y;++y)b+=c[f+y-32]+c[f-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,f+32*y,b,4)}function Wr(c,f){var y=c[f-1+0],b=c[f-1+32],P=c[f-1+64],F=c[f-1-32],R=c[f+0-32],T=c[f+1-32],z=c[f+2-32],Y=c[f+3-32];c[f+0+96]=re(b,P,c[f-1+96]),c[f+1+96]=c[f+0+64]=re(y,b,P),c[f+2+96]=c[f+1+64]=c[f+0+32]=re(F,y,b),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=re(R,F,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=re(T,R,F),c[f+3+32]=c[f+2+0]=re(z,T,R),c[f+3+0]=re(Y,z,T)}function Gr(c,f){var y=c[f+1-32],b=c[f+2-32],P=c[f+3-32],F=c[f+4-32],R=c[f+5-32],T=c[f+6-32],z=c[f+7-32];c[f+0+0]=re(c[f+0-32],y,b),c[f+1+0]=c[f+0+32]=re(y,b,P),c[f+2+0]=c[f+1+32]=c[f+0+64]=re(b,P,F),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=re(P,F,R),c[f+3+32]=c[f+2+64]=c[f+1+96]=re(F,R,T),c[f+3+64]=c[f+2+96]=re(R,T,z),c[f+3+96]=re(T,z,z)}function il(c,f){var y=c[f-1+0],b=c[f-1+32],P=c[f-1+64],F=c[f-1-32],R=c[f+0-32],T=c[f+1-32],z=c[f+2-32],Y=c[f+3-32];c[f+0+0]=c[f+1+64]=F+R+1>>1,c[f+1+0]=c[f+2+64]=R+T+1>>1,c[f+2+0]=c[f+3+64]=T+z+1>>1,c[f+3+0]=z+Y+1>>1,c[f+0+96]=re(P,b,y),c[f+0+64]=re(b,y,F),c[f+0+32]=c[f+1+96]=re(y,F,R),c[f+1+32]=c[f+2+96]=re(F,R,T),c[f+2+32]=c[f+3+96]=re(R,T,z),c[f+3+32]=re(T,z,Y)}function ol(c,f){var y=c[f+0-32],b=c[f+1-32],P=c[f+2-32],F=c[f+3-32],R=c[f+4-32],T=c[f+5-32],z=c[f+6-32],Y=c[f+7-32];c[f+0+0]=y+b+1>>1,c[f+1+0]=c[f+0+64]=b+P+1>>1,c[f+2+0]=c[f+1+64]=P+F+1>>1,c[f+3+0]=c[f+2+64]=F+R+1>>1,c[f+0+32]=re(y,b,P),c[f+1+32]=c[f+0+96]=re(b,P,F),c[f+2+32]=c[f+1+96]=re(P,F,R),c[f+3+32]=c[f+2+96]=re(F,R,T),c[f+3+64]=re(R,T,z),c[f+3+96]=re(T,z,Y)}function Ro(c,f){var y=c[f-1+0],b=c[f-1+32],P=c[f-1+64],F=c[f-1+96];c[f+0+0]=y+b+1>>1,c[f+2+0]=c[f+0+32]=b+P+1>>1,c[f+2+32]=c[f+0+64]=P+F+1>>1,c[f+1+0]=re(y,b,P),c[f+3+0]=c[f+1+32]=re(b,P,F),c[f+3+32]=c[f+1+64]=re(P,F,F),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=F}function ms(c,f){var y=c[f-1+0],b=c[f-1+32],P=c[f-1+64],F=c[f-1+96],R=c[f-1-32],T=c[f+0-32],z=c[f+1-32],Y=c[f+2-32];c[f+0+0]=c[f+2+32]=y+R+1>>1,c[f+0+32]=c[f+2+64]=b+y+1>>1,c[f+0+64]=c[f+2+96]=P+b+1>>1,c[f+0+96]=F+P+1>>1,c[f+3+0]=re(T,z,Y),c[f+2+0]=re(R,T,z),c[f+1+0]=c[f+3+32]=re(y,R,T),c[f+1+32]=c[f+3+64]=re(b,y,R),c[f+1+64]=c[f+3+96]=re(P,b,y),c[f+1+96]=re(F,P,b)}function Xi(c,f){var y;for(y=0;8>y;++y)r(c,f+32*y,c,f-32,8)}function sl(c,f){var y;for(y=0;8>y;++y)i(c,f,c[f-1],8),f+=32}function Yr(c,f,y){var b;for(b=0;8>b;++b)i(f,y+32*b,c,8)}function al(c,f){var y,b=8;for(y=0;8>y;++y)b+=c[f+y-32]+c[f-1+32*y];Yr(b>>4,c,f)}function ys(c,f){var y,b=4;for(y=0;8>y;++y)b+=c[f+y-32];Yr(b>>3,c,f)}function vs(c,f){var y,b=4;for(y=0;8>y;++y)b+=c[f-1+32*y];Yr(b>>3,c,f)}function wa(c,f){Yr(128,c,f)}function Xr(c,f,y){var b=c[f-y],P=c[f+0],F=3*(P-b)+cl[1020+c[f-2*y]-c[f+y]],R=ka[112+(F+4>>3)];c[f-y]=$n[255+b+ka[112+(F+3>>3)]],c[f+0]=$n[255+P-R]}function ws(c,f,y,b){var P=c[f+0],F=c[f+y];return cr[255+c[f-2*y]-c[f-y]]>b||cr[255+F-P]>b}function To(c,f,y,b){return 4*cr[255+c[f-y]-c[f+0]]+cr[255+c[f-2*y]-c[f+y]]<=b}function bs(c,f,y,b,P){var F=c[f-3*y],R=c[f-2*y],T=c[f-y],z=c[f+0],Y=c[f+y],st=c[f+2*y],pt=c[f+3*y];return 4*cr[255+T-z]+cr[255+R-Y]>b?0:cr[255+c[f-4*y]-F]<=P&&cr[255+F-R]<=P&&cr[255+R-T]<=P&&cr[255+pt-st]<=P&&cr[255+st-Y]<=P&&cr[255+Y-z]<=P}function Zi(c,f,y,b){var P=2*b+1;for(b=0;16>b;++b)To(c,f+b,y,P)&&Xr(c,f+b,y)}function xs(c,f,y,b){var P=2*b+1;for(b=0;16>b;++b)To(c,f+b*y,1,P)&&Xr(c,f+b*y,1)}function ba(c,f,y,b){var P;for(P=3;0<P;--P)Zi(c,f+=4*y,y,b)}function xa(c,f,y,b){var P;for(P=3;0<P;--P)xs(c,f+=4,y,b)}function Zr(c,f,y,b,P,F,R,T){for(F=2*F+1;0<P--;){if(bs(c,f,y,F,R))if(ws(c,f,y,T))Xr(c,f,y);else{var z=c,Y=f,st=y,pt=z[Y-2*st],X=z[Y-st],ct=z[Y+0],ht=z[Y+st],yt=z[Y+2*st],dt=27*(_t=cl[1020+3*(ct-X)+cl[1020+pt-ht]])+63>>7,wt=18*_t+63>>7,_t=9*_t+63>>7;z[Y-3*st]=$n[255+z[Y-3*st]+_t],z[Y-2*st]=$n[255+pt+wt],z[Y-st]=$n[255+X+dt],z[Y+0]=$n[255+ct-dt],z[Y+st]=$n[255+ht-wt],z[Y+2*st]=$n[255+yt-_t]}f+=b}}function Kr(c,f,y,b,P,F,R,T){for(F=2*F+1;0<P--;){if(bs(c,f,y,F,R))if(ws(c,f,y,T))Xr(c,f,y);else{var z=c,Y=f,st=y,pt=z[Y-st],X=z[Y+0],ct=z[Y+st],ht=ka[112+(4+(yt=3*(X-pt))>>3)],yt=ka[112+(yt+3>>3)],dt=ht+1>>1;z[Y-2*st]=$n[255+z[Y-2*st]+dt],z[Y-st]=$n[255+pt+yt],z[Y+0]=$n[255+X-ht],z[Y+st]=$n[255+ct-dt]}f+=b}}function _a(c,f,y,b,P,F){Zr(c,f,y,1,16,b,P,F)}function Ki(c,f,y,b,P,F){Zr(c,f,1,y,16,b,P,F)}function Na(c,f,y,b,P,F){var R;for(R=3;0<R;--R)Kr(c,f+=4*y,y,1,16,b,P,F)}function g(c,f,y,b,P,F){var R;for(R=3;0<R;--R)Kr(c,f+=4,1,y,16,b,P,F)}function C(c,f,y,b,P,F,R,T){Zr(c,f,P,1,8,F,R,T),Zr(y,b,P,1,8,F,R,T)}function K(c,f,y,b,P,F,R,T){Zr(c,f,1,P,8,F,R,T),Zr(y,b,1,P,8,F,R,T)}function rt(c,f,y,b,P,F,R,T){Kr(c,f+4*P,P,1,8,F,R,T),Kr(y,b+4*P,P,1,8,F,R,T)}function ft(c,f,y,b,P,F,R,T){Kr(c,f+4,1,P,8,F,R,T),Kr(y,b+4,1,P,8,F,R,T)}function bt(){this.ba=new de,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _e,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function At(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ut(){this.ua=0,this.Wa=new Gt,this.vb=new Gt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new j}function ee(){this.xb=this.a=0,this.l=new yi,this.ca=new de,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ut,this.ab=0,this.gc=s(4,Rt),this.Oc=0}function se(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function be(c,f,y,b,P,F,R){for(c=c==null?0:c[f+0],f=0;f<R;++f)P[F+f]=c+y[b+f]&255,c=P[F+f]}function Ue(c,f,y,b,P,F,R){var T;if(c==null)be(null,null,y,b,P,F,R);else for(T=0;T<R;++T)P[F+T]=c[f+T]+y[b+T]&255}function nn(c,f,y,b,P,F,R){if(c==null)be(null,null,y,b,P,F,R);else{var T,z=c[f+0],Y=z,st=z;for(T=0;T<R;++T)Y=st+(z=c[f+T])-Y,st=y[b+T]+(-256&Y?0>Y?0:255:Y)&255,Y=z,P[F+T]=st}}function Fe(c,f,y,b){var P=f.width,F=f.o;if(e(c!=null&&f!=null),0>y||0>=b||y+b>F)return null;if(!c.Cc){if(c.ga==null){var R;if(c.ga=new se,(R=c.ga==null)||(R=f.width*f.o,e(c.Gb.length==0),c.Gb=o(R),c.Uc=0,c.Gb==null?R=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,R=1),R=!R),!R){R=c.ga;var T=c.Fa,z=c.P,Y=c.qc,st=c.mb,pt=c.nb,X=z+1,ct=Y-1,ht=R.l;if(e(T!=null&&st!=null&&f!=null),Ci[0]=null,Ci[1]=be,Ci[2]=Ue,Ci[3]=nn,R.ca=st,R.tb=pt,R.c=f.width,R.i=f.height,e(0<R.c&&0<R.i),1>=Y)f=0;else if(R.$a=3&T[z+0],R.Z=T[z+0]>>2&3,R.Lc=T[z+0]>>4&3,z=T[z+0]>>6&3,0>R.$a||1<R.$a||4<=R.Z||1<R.Lc||z)f=0;else if(ht.put=Zt,ht.ac=er,ht.bc=hr,ht.ma=R,ht.width=f.width,ht.height=f.height,ht.Da=f.Da,ht.v=f.v,ht.va=f.va,ht.j=f.j,ht.o=f.o,R.$a)t:{e(R.$a==1),f=Hr();e:for(;;){if(f==null){f=0;break t}if(e(R!=null),R.mc=f,f.c=R.c,f.i=R.i,f.l=R.l,f.l.ma=R,f.l.width=R.c,f.l.height=R.i,f.a=0,Q(f.m,T,X,ct),!rr(R.c,R.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&qn(f.s)?(R.ic=1,T=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o(T),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(R.ic=0,f=$r(f,R.c)),!f))break e;f=1;break t}R.mc=null,f=0}else f=ct>=R.c*R.i;R=!f}if(R)return null;c.ga.Lc!=1?c.Ga=0:b=F-y}e(c.ga!=null),e(y+b<=F);t:{if(f=(T=c.ga).c,F=T.l.o,T.$a==0){if(X=c.rc,ct=c.Vc,ht=c.Fa,z=c.P+1+y*f,Y=c.mb,st=c.nb+y*f,e(z<=c.P+c.qc),T.Z!=0)for(e(Ci[T.Z]!=null),R=0;R<b;++R)Ci[T.Z](X,ct,ht,z,Y,st,f),X=Y,ct=st,st+=f,z+=f;else for(R=0;R<b;++R)r(Y,st,ht,z,f),X=Y,ct=st,st+=f,z+=f;c.rc=X,c.Vc=ct}else{if(e(T.mc!=null),f=y+b,e((R=T.mc)!=null),e(f<=R.i),R.C>=f)f=1;else if(T.ic||mr(),T.ic){T=R.V,X=R.Ba,ct=R.c;var yt=R.i,dt=(ht=1,z=R.$/ct,Y=R.$%ct,st=R.m,pt=R.s,R.$),wt=ct*yt,_t=ct*f,Et=pt.wc,Lt=dt<_t?sn(pt,Y,z):null;e(dt<=wt),e(f<=yt),e(qn(pt));e:for(;;){for(;!st.h&&dt<_t;){if(Y&Et||(Lt=sn(pt,Y,z)),e(Lt!=null),ot(st),256>(yt=je(Lt.G[0],Lt.H[0],st)))T[X+dt]=yt,++dt,++Y>=ct&&(Y=0,++z<=f&&!(z%16)&&Mn(R,z));else{if(!(280>yt)){ht=0;break e}yt=Pn(yt-256,st);var $t,Mt=je(Lt.G[4],Lt.H[4],st);if(ot(st),!(dt>=(Mt=In(ct,Mt=Pn(Mt,st)))&&wt-dt>=yt)){ht=0;break e}for($t=0;$t<yt;++$t)T[X+dt+$t]=T[X+dt+$t-Mt];for(dt+=yt,Y+=yt;Y>=ct;)Y-=ct,++z<=f&&!(z%16)&&Mn(R,z);dt<_t&&Y&Et&&(Lt=sn(pt,Y,z))}e(st.h==tt(st))}Mn(R,z>f?f:z);break e}!ht||st.h&&dt<wt?(ht=0,R.a=st.h?5:3):R.$=dt,f=ht}else f=Fn(R,R.V,R.Ba,R.c,R.i,f,pi);if(!f){b=0;break t}}y+b>=F&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*P}function an(c,f,y,b,P,F){for(;0<P--;){var R,T=c,z=f+(y?1:0),Y=c,st=f+(y?0:3);for(R=0;R<b;++R){var pt=Y[st+4*R];pt!=255&&(pt*=32897,T[z+4*R+0]=T[z+4*R+0]*pt>>23,T[z+4*R+1]=T[z+4*R+1]*pt>>23,T[z+4*R+2]=T[z+4*R+2]*pt>>23)}f+=F}}function rn(c,f,y,b,P){for(;0<b--;){var F;for(F=0;F<y;++F){var R=c[f+2*F+0],T=15&(Y=c[f+2*F+1]),z=4369*T,Y=(240&Y|Y>>4)*z>>16;c[f+2*F+0]=(240&R|R>>4)*z>>16&240|(15&R|R<<4)*z>>16>>4&15,c[f+2*F+1]=240&Y|T}f+=P}}function pn(c,f,y,b,P,F,R,T){var z,Y,st=255;for(Y=0;Y<P;++Y){for(z=0;z<b;++z){var pt=c[f+z];F[R+4*z]=pt,st&=pt}f+=y,R+=T}return st!=255}function Jr(c,f,y,b,P){var F;for(F=0;F<P;++F)y[b+F]=c[f+F]>>8}function mr(){Fs=an,ff=rn,hf=pn,df=Jr}function Qr(c,f,y){I[c]=function(b,P,F,R,T,z,Y,st,pt,X,ct,ht,yt,dt,wt,_t,Et){var Lt,$t=Et-1>>1,Mt=T[z+0]|Y[st+0]<<16,fe=pt[X+0]|ct[ht+0]<<16;e(b!=null);var Ot=3*Mt+fe+131074>>2;for(f(b[P+0],255&Ot,Ot>>16,yt,dt),F!=null&&(Ot=3*fe+Mt+131074>>2,f(F[R+0],255&Ot,Ot>>16,wt,_t)),Lt=1;Lt<=$t;++Lt){var ye=T[z+Lt]|Y[st+Lt]<<16,ln=pt[X+Lt]|ct[ht+Lt]<<16,he=Mt+ye+fe+ln+524296,Dt=he+2*(ye+fe)>>3;Ot=Dt+Mt>>1,Mt=(he=he+2*(Mt+ln)>>3)+ye>>1,f(b[P+2*Lt-1],255&Ot,Ot>>16,yt,dt+(2*Lt-1)*y),f(b[P+2*Lt-0],255&Mt,Mt>>16,yt,dt+(2*Lt-0)*y),F!=null&&(Ot=he+fe>>1,Mt=Dt+ln>>1,f(F[R+2*Lt-1],255&Ot,Ot>>16,wt,_t+(2*Lt-1)*y),f(F[R+2*Lt+0],255&Mt,Mt>>16,wt,_t+(2*Lt+0)*y)),Mt=ye,fe=ln}1&Et||(Ot=3*Mt+fe+131074>>2,f(b[P+Et-1],255&Ot,Ot>>16,yt,dt+(Et-1)*y),F!=null&&(Ot=3*fe+Mt+131074>>2,f(F[R+Et-1],255&Ot,Ot>>16,wt,_t+(Et-1)*y)))}}function _s(){lr[Ea]=bp,lr[Ca]=Sf,lr[wf]=xp,lr[Pa]=Af,lr[Ia]=Lf,lr[ll]=kf,lr[bf]=_p,lr[ul]=Sf,lr[fl]=Af,lr[Ma]=Lf,lr[hl]=kf}function Oo(c){return c&-16384?0>c?0:255:c>>Np}function wi(c,f){return Oo((19077*c>>8)+(26149*f>>8)-14234)}function Ji(c,f,y){return Oo((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function Qi(c,f){return Oo((19077*c>>8)+(33050*f>>8)-17685)}function bi(c,f,y,b,P){b[P+0]=wi(c,y),b[P+1]=Ji(c,f,y),b[P+2]=Qi(c,f)}function gn(c,f,y,b,P){b[P+0]=Qi(c,f),b[P+1]=Ji(c,f,y),b[P+2]=wi(c,y)}function to(c,f,y,b,P){var F=Ji(c,f,y);f=F<<3&224|Qi(c,f)>>3,b[P+0]=248&wi(c,y)|F>>5,b[P+1]=f}function eo(c,f,y,b,P){var F=240&Qi(c,f)|15;b[P+0]=240&wi(c,y)|Ji(c,f,y)>>4,b[P+1]=F}function Ns(c,f,y,b,P){b[P+0]=255,bi(c,f,y,b,P+1)}function Ss(c,f,y,b,P){gn(c,f,y,b,P),b[P+3]=255}function Ln(c,f,y,b,P){bi(c,f,y,b,P),b[P+3]=255}function ti(c,f,y){I[c]=function(b,P,F,R,T,z,Y,st,pt){for(var X=st+(-2&pt)*y;st!=X;)f(b[P+0],F[R+0],T[z+0],Y,st),f(b[P+1],F[R+0],T[z+0],Y,st+y),P+=2,++R,++z,st+=2*y;1&pt&&f(b[P+0],F[R+0],T[z+0],Y,st)}}function Do(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function Sa(c,f,y,b,P){switch(c>>>30){case 3:oo(f,y,b,P,0);break;case 2:ar(f,y,b,P);break;case 1:Ne(f,y,b,P)}}function sr(c,f){var y,b,P=f.M,F=f.Nb,R=c.oc,T=c.pc+40,z=c.oc,Y=c.pc+584,st=c.oc,pt=c.pc+600;for(y=0;16>y;++y)R[T+32*y-1]=129;for(y=0;8>y;++y)z[Y+32*y-1]=129,st[pt+32*y-1]=129;for(0<P?R[T-1-32]=z[Y-1-32]=st[pt-1-32]=129:(i(R,T-32-1,127,21),i(z,Y-32-1,127,9),i(st,pt-32-1,127,9)),b=0;b<c.za;++b){var X=f.ya[f.aa+b];if(0<b){for(y=-1;16>y;++y)r(R,T+32*y-4,R,T+32*y+12,4);for(y=-1;8>y;++y)r(z,Y+32*y-4,z,Y+32*y+4,4),r(st,pt+32*y-4,st,pt+32*y+4,4)}var ct=c.Gd,ht=c.Hd+b,yt=X.ad,dt=X.Hc;if(0<P&&(r(R,T-32,ct[ht].y,0,16),r(z,Y-32,ct[ht].f,0,8),r(st,pt-32,ct[ht].ea,0,8)),X.Za){var wt=R,_t=T-32+16;for(0<P&&(b>=c.za-1?i(wt,_t,ct[ht].y[15],4):r(wt,_t,ct[ht+1].y,0,4)),y=0;4>y;y++)wt[_t+128+y]=wt[_t+256+y]=wt[_t+384+y]=wt[_t+0+y];for(y=0;16>y;++y,dt<<=2)wt=R,_t=T+Cf[y],yr[X.Ob[y]](wt,_t),Sa(dt,yt,16*+y,wt,_t)}else if(wt=Do(b,P,X.Ob[0]),Ei[wt](R,T),dt!=0)for(y=0;16>y;++y,dt<<=2)Sa(dt,yt,16*+y,R,T+Cf[y]);for(y=X.Gc,wt=Do(b,P,X.Dd),ri[wt](z,Y),ri[wt](st,pt),dt=yt,wt=z,_t=Y,255&(X=0|y)&&(170&X?Mr(dt,256,wt,_t):Ee(dt,256,wt,_t)),X=st,dt=pt,255&(y>>=8)&&(170&y?Mr(yt,320,X,dt):Ee(yt,320,X,dt)),P<c.Ub-1&&(r(ct[ht].y,0,R,T+480,16),r(ct[ht].f,0,z,Y+224,8),r(ct[ht].ea,0,st,pt+224,8)),y=8*F*c.B,ct=c.sa,ht=c.ta+16*b+16*F*c.R,yt=c.qa,X=c.ra+8*b+y,dt=c.Ha,wt=c.Ia+8*b+y,y=0;16>y;++y)r(ct,ht+y*c.R,R,T+32*y,16);for(y=0;8>y;++y)r(yt,X+y*c.B,z,Y+32*y,8),r(dt,wt+y*c.B,st,pt+32*y,8)}}function no(c,f,y,b,P,F,R,T,z){var Y=[0],st=[0],pt=0,X=z!=null?z.kd:0,ct=z??new At;if(c==null||12>y)return 7;ct.data=c,ct.w=f,ct.ha=y,f=[f],y=[y],ct.gb=[ct.gb];t:{var ht=f,yt=y,dt=ct.gb;if(e(c!=null),e(yt!=null),e(dt!=null),dt[0]=0,12<=yt[0]&&!n(c,ht[0],"RIFF")){if(n(c,ht[0]+8,"WEBP")){dt=3;break t}var wt=Ct(c,ht[0]+4);if(12>wt||4294967286<wt){dt=3;break t}if(X&&wt>yt[0]-8){dt=7;break t}dt[0]=wt,ht[0]+=12,yt[0]-=12}dt=0}if(dt!=0)return dt;for(wt=0<ct.gb[0],y=y[0];;){t:{var _t=c;yt=f,dt=y;var Et=Y,Lt=st,$t=ht=[0];if((Ot=pt=[pt])[0]=0,8>dt[0])dt=7;else{if(!n(_t,yt[0],"VP8X")){if(Ct(_t,yt[0]+4)!=10){dt=3;break t}if(18>dt[0]){dt=7;break t}var Mt=Ct(_t,yt[0]+8),fe=1+Nt(_t,yt[0]+12);if(2147483648<=fe*(_t=1+Nt(_t,yt[0]+15))){dt=3;break t}$t!=null&&($t[0]=Mt),Et!=null&&(Et[0]=fe),Lt!=null&&(Lt[0]=_t),yt[0]+=18,dt[0]-=18,Ot[0]=1}dt=0}}if(pt=pt[0],ht=ht[0],dt!=0)return dt;if(yt=!!(2&ht),!wt&&pt)return 3;if(F!=null&&(F[0]=!!(16&ht)),R!=null&&(R[0]=yt),T!=null&&(T[0]=0),R=Y[0],ht=st[0],pt&&yt&&z==null){dt=0;break}if(4>y){dt=7;break}if(wt&&pt||!wt&&!pt&&!n(c,f[0],"ALPH")){y=[y],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];t:{Mt=c,dt=f,wt=y;var Ot=ct.gb;Et=ct.na,Lt=ct.P,$t=ct.Sa,fe=22,e(Mt!=null),e(wt!=null),_t=dt[0];var ye=wt[0];for(e(Et!=null),e($t!=null),Et[0]=null,Lt[0]=null,$t[0]=0;;){if(dt[0]=_t,wt[0]=ye,8>ye){dt=7;break t}var ln=Ct(Mt,_t+4);if(4294967286<ln){dt=3;break t}var he=8+ln+1&-2;if(fe+=he,0<Ot&&fe>Ot){dt=3;break t}if(!n(Mt,_t,"VP8 ")||!n(Mt,_t,"VP8L")){dt=0;break t}if(ye[0]<he){dt=7;break t}n(Mt,_t,"ALPH")||(Et[0]=Mt,Lt[0]=_t+8,$t[0]=ln),_t+=he,ye-=he}}if(y=y[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],dt!=0)break}y=[y],ct.Ja=[ct.Ja],ct.xa=[ct.xa];t:if(Ot=c,dt=f,wt=y,Et=ct.gb[0],Lt=ct.Ja,$t=ct.xa,Mt=dt[0],_t=!n(Ot,Mt,"VP8 "),fe=!n(Ot,Mt,"VP8L"),e(Ot!=null),e(wt!=null),e(Lt!=null),e($t!=null),8>wt[0])dt=7;else{if(_t||fe){if(Ot=Ct(Ot,Mt+4),12<=Et&&Ot>Et-12){dt=3;break t}if(X&&Ot>wt[0]-8){dt=7;break t}Lt[0]=Ot,dt[0]+=8,wt[0]-=8,$t[0]=fe}else $t[0]=5<=wt[0]&&Ot[Mt+0]==47&&!(Ot[Mt+4]>>5),Lt[0]=wt[0];dt=0}if(y=y[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],f=f[0],dt!=0)break;if(4294967286<ct.Ja)return 3;if(T==null||yt||(T[0]=ct.xa?2:1),R=[R],ht=[ht],ct.xa){if(5>y){dt=7;break}T=R,X=ht,yt=F,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(wt=[0],Ot=[0],Et=[0],Q(Lt=new O,c,f,y),dr(Lt,wt,Ot,Et)?(T!=null&&(T[0]=wt[0]),X!=null&&(X[0]=Ot[0]),yt!=null&&(yt[0]=Et[0]),c=1):c=0):c=0}else{if(10>y){dt=7;break}T=ht,c==null||10>y||!Io(c,f+3,y-3)?c=0:(X=c[f+0]|c[f+1]<<8|c[f+2]<<16,yt=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=ct.Ja||!yt||!c?c=0:(R&&(R[0]=yt),T&&(T[0]=c),c=1))}if(!c||(R=R[0],ht=ht[0],pt&&(Y[0]!=R||st[0]!=ht)))return 3;z!=null&&(z[0]=ct,z.offset=f-z.w,e(4294967286>f-z.w),e(z.offset==z.ha-y));break}return dt==0||dt==7&&pt&&z==null?(F!=null&&(F[0]|=ct.na!=null&&0<ct.na.length),b!=null&&(b[0]=R),P!=null&&(P[0]=ht),0):dt}function As(c,f,y){var b=f.width,P=f.height,F=0,R=0,T=b,z=P;if(f.Da=c!=null&&0<c.Da,f.Da&&(T=c.cd,z=c.bd,F=c.v,R=c.j,11>y||(F&=-2,R&=-2),0>F||0>R||0>=T||0>=z||F+T>b||R+z>P))return 0;if(f.v=F,f.j=R,f.va=F+T,f.o=R+z,f.U=T,f.T=z,f.da=c!=null&&0<c.da,f.da){if(!jt(T,z,y=[c.ib],F=[c.hb]))return 0;f.ib=y[0],f.hb=F[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*b/4&&f.hb<3*P/4,f.Kb=0),1}function Ls(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function xi(c,f,y,b){if(b==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var P=y.cd,F=y.bd,R=-2&y.v,T=-2&y.j;if(0>R||0>T||0>=P||0>=F||R+P>c||T+F>f)return 2;c=P,f=F}if(y.da){if(!jt(c,f,P=[y.ib],F=[y.hb]))return 2;c=P[0],f=F[0]}}b.width=c,b.height=f;t:{var z=b.width,Y=b.height;if(c=b.S,0>=z||0>=Y||!(c>=Ea&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){R=F=P=f=0;var st=(T=z*Pf[c])*Y;if(11>c||(F=(Y+1)/2*(f=(z+1)/2),c==12&&(R=(P=z)*Y)),(Y=o(st+2*F+R))==null){c=1;break t}b.sd=Y,11>c?((z=b.f.RGBA).eb=Y,z.fb=0,z.A=T,z.size=st):((z=b.f.kb).y=Y,z.O=0,z.fa=T,z.Fd=st,z.f=Y,z.N=0+st,z.Ab=f,z.Cd=F,z.ea=Y,z.W=0+st+F,z.Db=f,z.Ed=F,c==12&&(z.F=Y,z.J=0+st+2*F),z.Tc=R,z.lb=P)}if(f=1,P=b.S,F=b.width,R=b.height,P>=Ea&&13>P)if(11>P)c=b.f.RGBA,f&=(T=Math.abs(c.A))*(R-1)+F<=c.size,f&=T>=F*Pf[P],f&=c.eb!=null;else{c=b.f.kb,T=(F+1)/2,st=(R+1)/2,z=Math.abs(c.fa),Y=Math.abs(c.Ab);var pt=Math.abs(c.Db),X=Math.abs(c.lb),ct=X*(R-1)+F;f&=z*(R-1)+F<=c.Fd,f&=Y*(st-1)+T<=c.Cd,f=(f&=pt*(st-1)+T<=c.Ed)&z>=F&Y>=T&pt>=T,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,P==12&&(f&=X>=F,f&=ct<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=Ls(b)),c}var ro=64,Un=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hn=24,_i=32,ei=8,Ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];It("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(c){return c},I.Predictor2=function(c,f,y){return f[y+0]},I.Predictor3=function(c,f,y){return f[y+1]},I.Predictor4=function(c,f,y){return f[y-1]},I.Predictor5=function(c,f,y){return Bt(Bt(c,f[y+1]),f[y+0])},I.Predictor6=function(c,f,y){return Bt(c,f[y-1])},I.Predictor7=function(c,f,y){return Bt(c,f[y+0])},I.Predictor8=function(c,f,y){return Bt(f[y-1],f[y+0])},I.Predictor9=function(c,f,y){return Bt(f[y+0],f[y+1])},I.Predictor10=function(c,f,y){return Bt(Bt(c,f[y-1]),Bt(f[y+0],f[y+1]))},I.Predictor11=function(c,f,y){var b=f[y+0];return 0>=Jt(b>>24&255,c>>24&255,(f=f[y-1])>>24&255)+Jt(b>>16&255,c>>16&255,f>>16&255)+Jt(b>>8&255,c>>8&255,f>>8&255)+Jt(255&b,255&c,255&f)?b:c},I.Predictor12=function(c,f,y){var b=f[y+0];return(ve((c>>24&255)+(b>>24&255)-((f=f[y-1])>>24&255))<<24|ve((c>>16&255)+(b>>16&255)-(f>>16&255))<<16|ve((c>>8&255)+(b>>8&255)-(f>>8&255))<<8|ve((255&c)+(255&b)-(255&f)))>>>0},I.Predictor13=function(c,f,y){var b=f[y-1];return(ae((c=Bt(c,f[y+0]))>>24&255,b>>24&255)<<24|ae(c>>16&255,b>>16&255)<<16|ae(c>>8&255,b>>8&255)<<8|ae(255&c,255&b))>>>0};var ks=I.PredictorAdd0;I.PredictorAdd1=ce,It("Predictor2","PredictorAdd2"),It("Predictor3","PredictorAdd3"),It("Predictor4","PredictorAdd4"),It("Predictor5","PredictorAdd5"),It("Predictor6","PredictorAdd6"),It("Predictor7","PredictorAdd7"),It("Predictor8","PredictorAdd8"),It("Predictor9","PredictorAdd9"),It("Predictor10","PredictorAdd10"),It("Predictor11","PredictorAdd11"),It("Predictor12","PredictorAdd12"),It("Predictor13","PredictorAdd13");var jo=I.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Ye,Aa=I.ColorIndexInverseTransform,Pr=I.MapARGB,Ir=I.VP8LColorIndexInverseTransformAlpha,Es=I.MapAlpha,Cs=I.VP8LPredictorsAdd=[];Cs.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Ps,Is,Si,Ai,Li,io,ki,oo,ar,Mr,Ne,Ee,Xe,cn,ni,Ms,Bo,La,of,sf,af,cf,lf,uf,Fs,ff,hf,df,pf=o(511),gf=o(2041),mf=o(225),yf=o(767),vf=0,cl=gf,ka=mf,$n=yf,cr=pf,Ea=0,Ca=1,wf=2,Pa=3,Ia=4,ll=5,bf=6,ul=7,fl=8,Ma=9,hl=10,sp=[2,3,7],ap=[3,3,11],xf=[280,256,256,256,40],cp=[0,1,1,1,0],lp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],up=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hp=8,dl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rs=null,dp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_f=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ei=[],yr=[],ri=[],wp=1,Nf=2,Ci=[],lr=[];Qr("UpsampleRgbLinePair",bi,3),Qr("UpsampleBgrLinePair",gn,3),Qr("UpsampleRgbaLinePair",Ln,4),Qr("UpsampleBgraLinePair",Ss,4),Qr("UpsampleArgbLinePair",Ns,4),Qr("UpsampleRgba4444LinePair",eo,2),Qr("UpsampleRgb565LinePair",to,2);var bp=I.UpsampleRgbLinePair,xp=I.UpsampleBgrLinePair,Sf=I.UpsampleRgbaLinePair,Af=I.UpsampleBgraLinePair,Lf=I.UpsampleArgbLinePair,kf=I.UpsampleRgba4444LinePair,_p=I.UpsampleRgb565LinePair,Fa=16,Ra=1<<Fa-1,Ts=-227,gl=482,Np=6,Ef=0,Sp=o(256),Ap=o(256),Lp=o(256),kp=o(256),Ep=o(gl-Ts),Cp=o(gl-Ts);ti("YuvToRgbRow",bi,3),ti("YuvToBgrRow",gn,3),ti("YuvToRgbaRow",Ln,4),ti("YuvToBgraRow",Ss,4),ti("YuvToArgbRow",Ns,4),ti("YuvToRgba4444Row",eo,2),ti("YuvToRgb565Row",to,2);var Cf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ta=[0,2,8],Pp=[8,7,6,4,4,2,2,2,1,1,1,1],Ip=1;this.WebPDecodeRGBA=function(c,f,y,b,P){var F=Ca,R=new bt,T=new de;R.ba=T,T.S=F,T.width=[T.width],T.height=[T.height];var z=T.width,Y=T.height,st=new Xt;if(st==null||c==null)var pt=2;else e(st!=null),pt=no(c,f,y,st.width,st.height,st.Pd,st.Qd,st.format,null);if(pt!=0?z=0:(z!=null&&(z[0]=st.width[0]),Y!=null&&(Y[0]=st.height[0]),z=1),z){T.width=T.width[0],T.height=T.height[0],b!=null&&(b[0]=T.width),P!=null&&(P[0]=T.height);t:{if(b=new yi,(P=new At).data=c,P.w=f,P.ha=y,P.kd=1,f=[0],e(P!=null),((c=no(P.data,P.w,P.ha,null,null,null,f,null,P))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(R!=null),b.data=P.data,b.w=P.w+P.offset,b.ha=P.ha-P.offset,b.put=Zt,b.ac=er,b.bc=hr,b.ma=R,P.xa){if((c=Hr())==null){R=1;break t}if((function(X,ct){var ht=[0],yt=[0],dt=[0];e:for(;;){if(X==null)return 0;if(ct==null)return X.a=2,0;if(X.l=ct,X.a=0,Q(X.m,ct.data,ct.w,ct.ha),!dr(X.m,ht,yt,dt)){X.a=3;break e}if(X.xb=Nf,ct.width=ht[0],ct.height=yt[0],!rr(ht[0],yt[0],1,X,null))break e;return 1}return e(X.a!=0),0})(c,b)){if(b=(f=xi(b.width,b.height,R.Oa,R.ba))==0){e:{b=c;n:for(;;){if(b==null){b=0;break e}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((P=y.ma)!=null),b.xb!=0){if(b.ca=P.ba,b.tb=P.tb,e(b.ca!=null),!As(P.Oa,y,Pa)){b.a=2;break n}if(!$r(b,y.width)||y.da)break n;if((y.da||Kt(b.ca.S))&&mr(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&mr()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!q(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Fn(b,b.V,b.Ba,b.c,b.i,y.o,Cr))break n;P.Dc=b.Ma,b=1;break e}e(b.a!=0),b=0}b=!b}b&&(f=c.a)}else f=c.a}else{if((c=new fs)==null){R=1;break t}if(c.Fa=P.na,c.P=P.P,c.qc=P.Sa,or(c,b)){if((f=xi(b.width,b.height,R.Oa,R.ba))==0){if(c.Aa=0,y=R.Oa,e((P=c)!=null),y!=null){if(0<(z=0>(z=y.Md)?0:100<z?255:255*z/100)){for(Y=st=0;4>Y;++Y)12>(pt=P.pb[Y]).lc&&(pt.ia=z*Pp[0>pt.lc?0:pt.lc]>>3),st|=pt.ia;st&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=y.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}(function(X,ct){if(X==null)return 0;if(ct==null)return He(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!or(X,ct))return 0;if(e(X.cb),ct.ac==null||ct.ac(ct)){ct.ob&&(X.L=0);var ht=Ta[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=ct.v-ht>>4,X.zb=ct.j-ht>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=ct.o+15+ht>>4,X.Hb=ct.va+15+ht>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var yt=X.ed;for(ht=0;4>ht;++ht){var dt;if(X.Qa.Cb){var wt=X.Qa.Lb[ht];X.Qa.Fb||(wt+=yt.Tb)}else wt=yt.Tb;for(dt=0;1>=dt;++dt){var _t=X.gd[ht][dt],Et=wt;if(yt.Pc&&(Et+=yt.vd[0],dt&&(Et+=yt.od[0])),0<(Et=0>Et?0:63<Et?63:Et)){var Lt=Et;0<yt.wb&&(Lt=4<yt.wb?Lt>>2:Lt>>1)>9-yt.wb&&(Lt=9-yt.wb),1>Lt&&(Lt=1),_t.dd=Lt,_t.tc=2*Et+Lt,_t.ld=40<=Et?2:15<=Et?1:0}else _t.tc=0;_t.La=dt}}}ht=0}else He(X,6,"Frame setup failed"),ht=X.a;if(ht=ht==0){if(ht){X.$c=0,0<X.Aa||(X.Ic=Ip);e:{ht=X.Ic,yt=4*(Lt=X.za);var $t=32*Lt,Mt=Lt+1,fe=0<X.L?Lt*(0<X.Aa?2:1):0,Ot=(X.Aa==2?2:1)*Lt;if((_t=yt+832+(dt=3*(16*ht+Ta[X.L])/2*$t)+(wt=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=_t)ht=0;else{if(_t>X.Vb){if(X.Vb=0,X.Ec=o(_t),X.Fc=0,X.Ec==null){ht=He(X,1,"no memory during frame initialization.");break e}X.Vb=_t}_t=X.Ec,Et=X.Fc,X.Ac=_t,X.Bc=Et,Et+=yt,X.Gd=s($t,Co),X.Hd=0,X.rb=s(Mt+1,$i),X.sb=1,X.wa=fe?s(fe,Rn):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Lt),e(!0),X.oc=_t,X.pc=Et,Et+=832,X.ya=s(Ot,Vi),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Lt),X.R=16*Lt,X.B=8*Lt,Lt=($t=Ta[X.L])*X.R,$t=$t/2*X.B,X.sa=_t,X.ta=Et+Lt,X.qa=X.sa,X.ra=X.ta+16*ht*X.R+$t,X.Ha=X.qa,X.Ia=X.ra+8*ht*X.B+$t,X.$c=0,Et+=dt,X.mb=wt?_t:null,X.nb=wt?Et:null,e(Et+wt<=X.Fc+X.Vb),Mo(X),i(X.Ac,X.Bc,0,yt),ht=1}}if(ht){if(ct.ka=0,ct.y=X.sa,ct.O=X.ta,ct.f=X.qa,ct.N=X.ra,ct.ea=X.Ha,ct.Vd=X.Ia,ct.fa=X.R,ct.Rc=X.B,ct.F=null,ct.J=0,!vf){for(ht=-255;255>=ht;++ht)pf[255+ht]=0>ht?-ht:ht;for(ht=-1020;1020>=ht;++ht)gf[1020+ht]=-128>ht?-128:127<ht?127:ht;for(ht=-112;112>=ht;++ht)mf[112+ht]=-16>ht?-16:15<ht?15:ht;for(ht=-255;510>=ht;++ht)yf[255+ht]=0>ht?0:255<ht?255:ht;vf=1}ki=Fo,oo=ds,Mr=zn,Ne=ma,Ee=ya,ar=hs,Xe=_a,cn=Ki,ni=C,Ms=K,Bo=Na,La=g,of=rt,sf=ft,af=Zi,cf=xs,lf=ba,uf=xa,yr[0]=rl,yr[1]=Zc,yr[2]=el,yr[3]=nl,yr[4]=Wr,yr[5]=il,yr[6]=Gr,yr[7]=ol,yr[8]=ms,yr[9]=Ro,Ei[0]=Qc,Ei[1]=Jc,Ei[2]=ps,Ei[3]=va,Ei[4]=Yi,Ei[5]=gs,Ei[6]=tl,ri[0]=al,ri[1]=Kc,ri[2]=Xi,ri[3]=sl,ri[4]=vs,ri[5]=ys,ri[6]=wa,ht=1}else ht=0}ht&&(ht=(function(ye,ln){for(ye.M=0;ye.M<ye.Va;++ye.M){var he,Dt=ye.Jc[ye.M&ye.Xb],Pt=ye.m,Ze=ye;for(he=0;he<Ze.za;++he){var oe=Pt,we=Ze,Te=we.Ac,mn=we.Bc+4*he,kn=we.zc,$e=we.ya[we.aa+he];if(we.Qa.Bb?$e.$b=gt(oe,we.Pa.jb[0])?2+gt(oe,we.Pa.jb[2]):gt(oe,we.Pa.jb[1]):$e.$b=0,we.kc&&($e.Ad=gt(oe,we.Bd)),$e.Za=!gt(oe,145)+0,$e.Za){var wn=$e.Ob,En=0;for(we=0;4>we;++we){var un,xe=kn[0+we];for(un=0;4>un;++un){xe=mp[Te[mn+un]][xe];for(var Se=_f[gt(oe,xe[0])];0<Se;)Se=_f[2*Se+gt(oe,xe[Se])];xe=-Se,Te[mn+un]=xe}r(wn,En,Te,mn,4),En+=4,kn[0+we]=xe}}else xe=gt(oe,156)?gt(oe,128)?1:3:gt(oe,163)?2:0,$e.Ob[0]=xe,i(Te,mn,xe,4),i(kn,0,xe,4);$e.Dd=gt(oe,142)?gt(oe,114)?gt(oe,183)?1:3:2:0}if(Ze.m.Ka)return He(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(Ze=Dt,oe=(Pt=ye).rb[Pt.sb-1],Te=Pt.rb[Pt.sb+Pt.ja],he=Pt.ya[Pt.aa+Pt.ja],mn=Pt.kc?he.Ad:0)oe.la=Te.la=0,he.Za||(oe.Na=Te.Na=0),he.Hc=0,he.Gc=0,he.ia=0;else{var Ve,Ae;if(oe=Te,Te=Ze,mn=Pt.Pa.Xc,kn=Pt.ya[Pt.aa+Pt.ja],$e=Pt.pb[kn.$b],we=kn.ad,wn=0,En=Pt.rb[Pt.sb-1],xe=un=0,i(we,wn,0,384),kn.Za)var yn=0,vr=mn[3];else{Se=o(16);var Ke=oe.Na+En.Na;if(Ke=Rs(Te,mn[1],Ke,$e.Eb,0,Se,0),oe.Na=En.Na=(0<Ke)+0,1<Ke)ki(Se,0,we,wn);else{var Tn=Se[0]+3>>3;for(Se=0;256>Se;Se+=16)we[wn+Se]=Tn}yn=1,vr=mn[0]}var Ce=15&oe.la,fn=15&En.la;for(Se=0;4>Se;++Se){var Vn=1&fn;for(Tn=Ae=0;4>Tn;++Tn)Ce=Ce>>1|(Vn=(Ke=Rs(Te,vr,Ke=Vn+(1&Ce),$e.Sc,yn,we,wn))>yn)<<7,Ae=Ae<<2|(3<Ke?3:1<Ke?2:we[wn+0]!=0),wn+=16;Ce>>=4,fn=fn>>1|Vn<<7,un=(un<<8|Ae)>>>0}for(vr=Ce,yn=fn>>4,Ve=0;4>Ve;Ve+=2){for(Ae=0,Ce=oe.la>>4+Ve,fn=En.la>>4+Ve,Se=0;2>Se;++Se){for(Vn=1&fn,Tn=0;2>Tn;++Tn)Ke=Vn+(1&Ce),Ce=Ce>>1|(Vn=0<(Ke=Rs(Te,mn[2],Ke,$e.Qc,0,we,wn)))<<3,Ae=Ae<<2|(3<Ke?3:1<Ke?2:we[wn+0]!=0),wn+=16;Ce>>=2,fn=fn>>1|Vn<<5}xe|=Ae<<4*Ve,vr|=Ce<<4<<Ve,yn|=(240&fn)<<Ve}oe.la=vr,En.la=yn,kn.Hc=un,kn.Gc=xe,kn.ia=43690&xe?0:$e.ia,mn=!(un|xe)}if(0<Pt.L&&(Pt.wa[Pt.Y+Pt.ja]=Pt.gd[he.$b][he.Za],Pt.wa[Pt.Y+Pt.ja].La|=!mn),Ze.Ka)return He(ye,7,"Premature end-of-file encountered.")}if(Mo(ye),Pt=ln,Ze=1,he=(Dt=ye).D,oe=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)e:{if(he.M=Dt.M,he.uc=oe,sr(Dt,he),Ze=1,he=(Ae=Dt.D).Nb,oe=(xe=Ta[Dt.L])*Dt.R,Te=xe/2*Dt.B,Se=16*he*Dt.R,Tn=8*he*Dt.B,mn=Dt.sa,kn=Dt.ta-oe+Se,$e=Dt.qa,we=Dt.ra-Te+Tn,wn=Dt.Ha,En=Dt.Ia-Te+Tn,fn=(Ce=Ae.M)==0,un=Ce>=Dt.Va-1,Dt.Aa==2&&sr(Dt,Ae),Ae.uc)for(Vn=(Ke=Dt).D.M,e(Ke.D.uc),Ae=Ke.yb;Ae<Ke.Hb;++Ae){yn=Ae,vr=Vn;var Cn=(Wn=(vn=Ke).D).Nb;Ve=vn.R;var Wn=Wn.wa[Wn.Y+yn],Gn=vn.sa,On=vn.ta+16*Cn*Ve+16*yn,Yn=Wn.dd,Re=Wn.tc;if(Re!=0)if(e(3<=Re),vn.L==1)0<yn&&cf(Gn,On,Ve,Re+4),Wn.La&&uf(Gn,On,Ve,Re),0<vr&&af(Gn,On,Ve,Re+4),Wn.La&&lf(Gn,On,Ve,Re);else{var Xn=vn.B,wr=vn.qa,so=vn.ra+8*Cn*Xn+8*yn,ii=vn.Ha,vn=vn.Ia+8*Cn*Xn+8*yn;Cn=Wn.ld,0<yn&&(cn(Gn,On,Ve,Re+4,Yn,Cn),Ms(wr,so,ii,vn,Xn,Re+4,Yn,Cn)),Wn.La&&(La(Gn,On,Ve,Re,Yn,Cn),sf(wr,so,ii,vn,Xn,Re,Yn,Cn)),0<vr&&(Xe(Gn,On,Ve,Re+4,Yn,Cn),ni(wr,so,ii,vn,Xn,Re+4,Yn,Cn)),Wn.La&&(Bo(Gn,On,Ve,Re,Yn,Cn),of(wr,so,ii,vn,Xn,Re,Yn,Cn))}}if(Dt.ia&&alert("todo:DitherRow"),Pt.put!=null){if(Ae=16*Ce,Ce=16*(Ce+1),fn?(Pt.y=Dt.sa,Pt.O=Dt.ta+Se,Pt.f=Dt.qa,Pt.N=Dt.ra+Tn,Pt.ea=Dt.Ha,Pt.W=Dt.Ia+Tn):(Ae-=xe,Pt.y=mn,Pt.O=kn,Pt.f=$e,Pt.N=we,Pt.ea=wn,Pt.W=En),un||(Ce-=xe),Ce>Pt.o&&(Ce=Pt.o),Pt.F=null,Pt.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&Ae<Ce&&(Pt.J=Fe(Dt,Pt,Ae,Ce-Ae),Pt.F=Dt.mb,Pt.F==null&&Pt.F.length==0)){Ze=He(Dt,3,"Could not decode alpha data.");break e}Ae<Pt.j&&(xe=Pt.j-Ae,Ae=Pt.j,e(!(1&xe)),Pt.O+=Dt.R*xe,Pt.N+=Dt.B*(xe>>1),Pt.W+=Dt.B*(xe>>1),Pt.F!=null&&(Pt.J+=Pt.width*xe)),Ae<Ce&&(Pt.O+=Pt.v,Pt.N+=Pt.v>>1,Pt.W+=Pt.v>>1,Pt.F!=null&&(Pt.J+=Pt.v),Pt.ka=Ae-Pt.j,Pt.U=Pt.va-Pt.v,Pt.T=Ce-Ae,Ze=Pt.put(Pt))}he+1!=Dt.Ic||un||(r(Dt.sa,Dt.ta-oe,mn,kn+16*Dt.R,oe),r(Dt.qa,Dt.ra-Te,$e,we+8*Dt.B,Te),r(Dt.Ha,Dt.Ia-Te,wn,En+8*Dt.B,Te))}if(!Ze)return He(ye,6,"Output aborted.")}return 1})(X,ct)),ct.bc!=null&&ct.bc(ct),ht&=1}return ht?(X.cb=0,ht):0})(c,b)||(f=c.a)}}else f=c.a}f==0&&R.Oa!=null&&R.Oa.fd&&(f=Ls(R.ba))}R=f}F=R!=0?null:11>F?T.f.RGBA.eb:T.f.kb.y}else F=null;return F};var Pf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,J){for(var S="",E=0;E<4;E++)S+=String.fromCharCode(I[J++]);return S}function h(I,J){return I[J+0]|I[J+1]<<8}function p(I,J){return(I[J+0]|I[J+1]<<8|I[J+2]<<16)>>>0}function m(I,J){return(I[J+0]|I[J+1]<<8|I[J+2]<<16|I[J+3]<<24)>>>0}new l;var d=[0],v=[0],x=[],N=new l,w=t,M=(function(I,J){var S={},E=0,j=!1,k=0,B=0;if(S.frames=[],!(function(L,O){for(var V=0;V<4;V++)if(L[O+V]!="RIFF".charCodeAt(V))return!0;return!1})(I,J)){for(m(I,J+=4),J+=8;J<I.length;){var U=u(I,J),Z=m(I,J+=4);J+=4;var $=Z+(1&Z);switch(U){case"VP8 ":case"VP8L":S.frames[E]===void 0&&(S.frames[E]={}),(at=S.frames[E]).src_off=j?B:J-8,at.src_size=k+Z+8,E++,j&&(j=!1,k=0,B=0);break;case"VP8X":(at=S.header={}).feature_flags=I[J];var Q=J+4;at.canvas_width=1+p(I,Q),Q+=3,at.canvas_height=1+p(I,Q),Q+=3;break;case"ALPH":j=!0,k=$+8,B=J-8;break;case"ANIM":(at=S.header).bgcolor=m(I,J),Q=J+4,at.loop_count=h(I,Q),Q+=2;break;case"ANMF":var lt,at;(at=S.frames[E]={}).offset_x=2*p(I,J),J+=3,at.offset_y=2*p(I,J),J+=3,at.width=1+p(I,J),J+=3,at.height=1+p(I,J),J+=3,at.duration=p(I,J),J+=3,lt=I[J++],at.dispose=1&lt,at.blend=lt>>1&1}U!="ANMF"&&(J+=$)}return S}})(w,0);M.response=w,M.rgbaoutput=!0,M.dataurl=!1;var _=M.header?M.header:null,A=M.frames?M.frames:null;if(_){_.loop_counter=_.loop_count,d=[_.canvas_height],v=[_.canvas_width];for(var H=0;H<A.length&&A[H].blend!=0;H++);}var G=A[0],W=N.WebPDecodeRGBA(w,G.src_off,G.src_size,v,d);G.rgba=W,G.imgwidth=v[0],G.imgheight=d[0];for(var D=0;D<v[0]*d[0]*4;D++)x[D]=W[D];return this.width=v,this.height=d,this.data=x,this}(function(t){var e,n,r,i,o,s,a,l,u,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var p=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=L;Object.defineProperty(this,"pdf",{get:function(){return O}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(q){V=!!q}});var tt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return tt},set:function(q){tt=!!q}});var et=0;Object.defineProperty(this,"posX",{get:function(){return et},set:function(q){isNaN(q)||(et=q)}});var ot=0;Object.defineProperty(this,"posY",{get:function(){return ot},set:function(q){isNaN(q)||(ot=q)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(q){var kt;typeof q=="number"?kt=[q,q,q,q]:((kt=new Array(4))[0]=q[0],kt[1]=q.length>=2?q[1]:kt[0],kt[2]=q.length>=3?q[2]:kt[0],kt[3]=q.length>=4?q[3]:kt[1]),u.margin=kt}});var it=!1;Object.defineProperty(this,"autoPaging",{get:function(){return it},set:function(q){it=q}});var ut=0;Object.defineProperty(this,"lastBreak",{get:function(){return ut},set:function(q){ut=q}});var gt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return gt},set:function(q){gt=q}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(q){q instanceof h&&(u=q)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(q){u.path=q}});var mt=[];Object.defineProperty(this,"ctxStack",{get:function(){return mt},set:function(q){mt=q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(q){var kt;kt=m(q),this.ctx.fillStyle=kt.style,this.ctx.isFillTransparent=kt.a===0,this.ctx.fillOpacity=kt.a,this.pdf.setFillColor(kt.r,kt.g,kt.b,{a:kt.a}),this.pdf.setTextColor(kt.r,kt.g,kt.b,{a:kt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(q){var kt=m(q);this.ctx.strokeStyle=kt.style,this.ctx.isStrokeTransparent=kt.a===0,this.ctx.strokeOpacity=kt.a,kt.a===0?this.pdf.setDrawColor(255,255,255):(kt.a,this.pdf.setDrawColor(kt.r,kt.g,kt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(q){["butt","round","square"].indexOf(q)!==-1&&(this.ctx.lineCap=q,this.pdf.setLineCap(q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(q){isNaN(q)||(this.ctx.lineWidth=q,this.pdf.setLineWidth(q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(q){["bevel","round","miter"].indexOf(q)!==-1&&(this.ctx.lineJoin=q,this.pdf.setLineJoin(q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(q){isNaN(q)||(this.ctx.miterLimit=q,this.pdf.setMiterLimit(q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(q){this.ctx.textBaseline=q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(q){["right","end","center","left","start"].indexOf(q)!==-1&&(this.ctx.textAlign=q)}});var xt=null,Nt=null,Ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ct},set:function(q){xt=null,Nt=null,Ct=q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(q){var kt;if(this.ctx.font=q,(kt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(q))!==null){var Gt=kt[1];kt[2];var jt=kt[3],St=kt[4];kt[5];var qt=kt[6],It=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(St)[2];St=Math.floor(It==="px"?parseFloat(St)*this.pdf.internal.scaleFactor:It==="em"?parseFloat(St)*this.pdf.getFontSize():parseFloat(St)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(St);var Ht=(function(zt){var ze,me,le=[],ue=zt.trim();if(ue==="")return iu;if(ue in r0)return[r0[ue]];for(;ue!=="";){switch(me=null,ze=(ue=o0(ue)).charAt(0)){case'"':case"'":me=P6(ue.substring(1),ze);break;default:me=I6(ue)}if(me===null||(le.push(me[0]),(ue=o0(me[1]))!==""&&ue.charAt(0)!==","))return iu;ue=ue.replace(/^,/,"")}return le})(qt);if(this.fontFaces){var Bt=(function(zt,ze){var me=zt.getFontList(),le=JSON.stringify(me);if(xt===null||Nt!==le){var ue=(function(Ie){var Yt=[];return Object.keys(Ie).forEach(function(ke){Ie[ke].forEach(function(Kt){var ne=null;switch(Kt){case"bold":ne={family:ke,weight:"bold"};break;case"italic":ne={family:ke,style:"italic"};break;case"bolditalic":ne={family:ke,weight:"bold",style:"italic"};break;case"":case"normal":ne={family:ke}}ne!==null&&(ne.ref={name:ke,style:Kt},Yt.push(ne))})}),Yt})(me);xt=(function(Ie){for(var Yt={},ke=0;ke<Ie.length;++ke){var Kt=ru(Ie[ke]),ne=Kt.family,Me=Kt.stretch,de=Kt.style,Xt=Kt.weight;Yt[ne]=Yt[ne]||{},Yt[ne][Me]=Yt[ne][Me]||{},Yt[ne][Me][de]=Yt[ne][Me][de]||{},Yt[ne][Me][de][Xt]=Kt}return Yt})(ue.concat(ze)),Nt=le}return xt})(this.pdf,this.fontFaces),ve=Ht.map(function(zt){return{family:zt,stretch:"normal",weight:jt,style:Gt}}),ae=(function(zt,ze,me){for(var le=(me=me||{}).defaultFontFamily||"times",ue=Object.assign({},C6,me.genericFontFamilies||{}),Ie=null,Yt=null,ke=0;ke<ze.length;++ke)if(ue[(Ie=ru(ze[ke])).family]&&(Ie.family=ue[Ie.family]),zt.hasOwnProperty(Ie.family)){Yt=zt[Ie.family];break}if(!(Yt=Yt||zt[le]))throw new Error("Could not find a font-family for the rule '"+i0(Ie)+"' and default family '"+le+"'.");if(Yt=(function(Kt,ne){if(ne[Kt])return ne[Kt];var Me=Mu[Kt],de=Me<=Mu.normal?-1:1,Xt=n0(ne,ep,Me,de);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+Kt);return Xt})(Ie.stretch,Yt),Yt=(function(Kt,ne){if(ne[Kt])return ne[Kt];for(var Me=tp[Kt],de=0;de<Me.length;++de)if(ne[Me[de]])return ne[Me[de]];throw new Error("Could not find a matching font-style for "+Kt)})(Ie.style,Yt),!(Yt=(function(Kt,ne){if(ne[Kt])return ne[Kt];if(Kt===400&&ne[500])return ne[500];if(Kt===500&&ne[400])return ne[400];var Me=E6[Kt],de=n0(ne,np,Me,Kt<400?-1:1);if(!de)throw new Error("Could not find a matching font-weight for value "+Kt);return de})(Ie.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+i0(Ie)+"'.");return Yt})(Bt,ve);this.pdf.setFont(ae.ref.name,ae.ref.style)}else{var Jt="";(jt==="bold"||parseInt(jt,10)>=700||Gt==="bold")&&(Jt="bold"),Gt==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var ce="",pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<Ht.length;Tt++){if(this.pdf.internal.getFont(Ht[Tt],Jt,{noFallback:!0,disableWarning:!0})!==void 0){ce=Ht[Tt];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(Ht[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ce=Ht[Tt],Jt="bold";else if(this.pdf.internal.getFont(Ht[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ce=Ht[Tt],Jt="normal";break}}if(ce===""){for(var te=0;te<Ht.length;te++)if(pe[Ht[te]]){ce=pe[Ht[te]];break}}ce=ce===""?"Times":ce,this.pdf.setFont(ce,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(q){this.ctx.globalCompositeOperation=q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(q){this.ctx.globalAlpha=q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(q){this.ctx.lineDashOffset=q,at.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(q){this.ctx.lineDash=q,at.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(q){this.ctx.ignoreClearRect=!!q}})};p.prototype.setLineDash=function(L){this.lineDash=L},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){A.call(this,"fill",!1)},p.prototype.stroke=function(){A.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(L,O){if(isNaN(L)||isNaN(O))throw Pe.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(L,O));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(L,O)},p.prototype.closePath=function(){var L=new s(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&Le(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){L=new s(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},p.prototype.lineTo=function(L,O){if(isNaN(L)||isNaN(O))throw Pe.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(L,O));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},p.prototype.quadraticCurveTo=function(L,O,V,tt){if(isNaN(V)||isNaN(tt)||isNaN(L)||isNaN(O))throw Pe.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var et=this.ctx.transform.applyToPoint(new s(V,tt)),ot=this.ctx.transform.applyToPoint(new s(L,O));this.path.push({type:"qct",x1:ot.x,y1:ot.y,x:et.x,y:et.y}),this.ctx.lastPoint=new s(et.x,et.y)},p.prototype.bezierCurveTo=function(L,O,V,tt,et,ot){if(isNaN(et)||isNaN(ot)||isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt))throw Pe.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var it=this.ctx.transform.applyToPoint(new s(et,ot)),ut=this.ctx.transform.applyToPoint(new s(L,O)),gt=this.ctx.transform.applyToPoint(new s(V,tt));this.path.push({type:"bct",x1:ut.x,y1:ut.y,x2:gt.x,y2:gt.y,x:it.x,y:it.y}),this.ctx.lastPoint=new s(it.x,it.y)},p.prototype.arc=function(L,O,V,tt,et,ot){if(isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt)||isNaN(et))throw Pe.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ot=!!ot,!this.ctx.transform.isIdentity){var it=this.ctx.transform.applyToPoint(new s(L,O));L=it.x,O=it.y;var ut=this.ctx.transform.applyToPoint(new s(0,V)),gt=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(ut.x-gt.x,2)+Math.pow(ut.y-gt.y,2))}Math.abs(et-tt)>=2*Math.PI&&(tt=0,et=2*Math.PI),this.path.push({type:"arc",x:L,y:O,radius:V,startAngle:tt,endAngle:et,counterclockwise:ot})},p.prototype.arcTo=function(L,O,V,tt,et){throw new Error("arcTo not implemented.")},p.prototype.rect=function(L,O,V,tt){if(isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt))throw Pe.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,O),this.lineTo(L+V,O),this.lineTo(L+V,O+tt),this.lineTo(L,O+tt),this.lineTo(L,O),this.lineTo(L+V,O),this.lineTo(L,O)},p.prototype.fillRect=function(L,O,V,tt){if(isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt))throw Pe.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var et={};this.lineCap!=="butt"&&(et.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(et.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,O,V,tt),this.fill(),et.hasOwnProperty("lineCap")&&(this.lineCap=et.lineCap),et.hasOwnProperty("lineJoin")&&(this.lineJoin=et.lineJoin)}},p.prototype.strokeRect=function(L,O,V,tt){if(isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt))throw Pe.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,O,V,tt),this.stroke())},p.prototype.clearRect=function(L,O,V,tt){if(isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt))throw Pe.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,O,V,tt))},p.prototype.save=function(L){L=typeof L!="boolean"||L;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var tt=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=tt}},p.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(O),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(L){var O,V,tt,et;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))O=0,V=0,tt=0,et=0;else{var ot=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ot!==null)O=parseInt(ot[1]),V=parseInt(ot[2]),tt=parseInt(ot[3]),et=1;else if((ot=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)O=parseInt(ot[1]),V=parseInt(ot[2]),tt=parseInt(ot[3]),et=parseFloat(ot[4]);else{if(et=1,typeof L=="string"&&L.charAt(0)!=="#"){var it=new G2(L);L=it.ok?it.toHex():"#000000"}L.length===4?(O=L.substring(1,2),O+=O,V=L.substring(2,3),V+=V,tt=L.substring(3,4),tt+=tt):(O=L.substring(1,3),V=L.substring(3,5),tt=L.substring(5,7)),O=parseInt(O,16),V=parseInt(V,16),tt=parseInt(tt,16)}}return{r:O,g:V,b:tt,a:et,style:L}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(L,O,V,tt){if(isNaN(O)||isNaN(V)||typeof L!="string")throw Pe.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(tt=isNaN(tt)?void 0:tt,!d.call(this)){var et=$(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;E.call(this,{text:L,x:O,y:V,scale:ot,angle:et,align:this.textAlign,maxWidth:tt})}},p.prototype.strokeText=function(L,O,V,tt){if(isNaN(O)||isNaN(V)||typeof L!="string")throw Pe.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){tt=isNaN(tt)?void 0:tt;var et=$(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;E.call(this,{text:L,x:O,y:V,scale:ot,renderingMode:"stroke",angle:et,align:this.textAlign,maxWidth:tt})}},p.prototype.measureText=function(L){if(typeof L!="string")throw Pe.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,V=this.pdf.internal.scaleFactor,tt=O.internal.getFontSize(),et=O.getStringUnitWidth(L)*tt/O.internal.scaleFactor;return new function(ot){var it=(ot=ot||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return it}}),this}({width:et*=Math.round(96*V/72*1e4)/1e4})},p.prototype.scale=function(L,O){if(isNaN(L)||isNaN(O))throw Pe.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(L,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.rotate=function(L){if(isNaN(L))throw Pe.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},p.prototype.translate=function(L,O){if(isNaN(L)||isNaN(O))throw Pe.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,L,O);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.transform=function(L,O,V,tt,et,ot){if(isNaN(L)||isNaN(O)||isNaN(V)||isNaN(tt)||isNaN(et)||isNaN(ot))throw Pe.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var it=new l(L,O,V,tt,et,ot);this.ctx.transform=this.ctx.transform.multiply(it)},p.prototype.setTransform=function(L,O,V,tt,et,ot){L=isNaN(L)?1:L,O=isNaN(O)?0:O,V=isNaN(V)?0:V,tt=isNaN(tt)?1:tt,et=isNaN(et)?0:et,ot=isNaN(ot)?0:ot,this.ctx.transform=new l(L,O,V,tt,et,ot)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(L,O,V,tt,et,ot,it,ut,gt){var mt=this.pdf.getImageProperties(L),xt=1,Nt=1,Ct=1,q=1;tt!==void 0&&ut!==void 0&&(Ct=ut/tt,q=gt/et,xt=mt.width/tt*ut/tt,Nt=mt.height/et*gt/et),ot===void 0&&(ot=O,it=V,O=0,V=0),tt!==void 0&&ut===void 0&&(ut=tt,gt=et),tt===void 0&&ut===void 0&&(ut=mt.width,gt=mt.height);var kt=this.ctx.transform.decompose(),Gt=$(kt.rotate.shx),jt=new l,St=(jt=(jt=(jt=jt.multiply(kt.translate)).multiply(kt.skew)).multiply(kt.scale)).applyToRectangle(new a(ot-O*Ct,it-V*q,tt*xt,et*Nt));if(this.autoPaging){for(var qt,It=N.call(this,St),Ht=[],Bt=0;Bt<It.length;Bt+=1)Ht.indexOf(It[Bt])===-1&&Ht.push(It[Bt]);_(Ht);for(var ve=Ht[0],ae=Ht[Ht.length-1],Jt=ve;Jt<ae+1;Jt++){this.pdf.setPage(Jt);var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pe=Jt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=Jt===1?0:Tt+(Jt-2)*te;if(this.ctx.clip_path.length!==0){var ze=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(qt,this.posX+this.margin[3],-zt+pe+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=ze}var me=JSON.parse(JSON.stringify(St));me=M([me],this.posX+this.margin[3],-zt+pe+this.ctx.prevPageLastElemOffset)[0];var le=(Jt>ve||Jt<ae)&&x.call(this);le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,te,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",me.x,me.y,me.w,me.h,null,null,Gt),le&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",St.x,St.y,St.w,St.h,null,null,Gt)};var N=function(L,O,V){var tt=[];O=O||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var et=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":tt.push(Math.floor((L.y+et)/V)+1);break;case"arc":tt.push(Math.floor((L.y+et-L.radius)/V)+1),tt.push(Math.floor((L.y+et+L.radius)/V)+1);break;case"qct":var ot=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);tt.push(Math.floor((ot.y+et)/V)+1),tt.push(Math.floor((ot.y+ot.h+et)/V)+1);break;case"bct":var it=lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);tt.push(Math.floor((it.y+et)/V)+1),tt.push(Math.floor((it.y+it.h+et)/V)+1);break;case"rect":tt.push(Math.floor((L.y+et)/V)+1),tt.push(Math.floor((L.y+L.h+et)/V)+1)}for(var ut=0;ut<tt.length;ut+=1)for(;this.pdf.internal.getNumberOfPages()<tt[ut];)w.call(this);return tt},w=function(){var L=this.fillStyle,O=this.strokeStyle,V=this.font,tt=this.lineCap,et=this.lineWidth,ot=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=O,this.font=V,this.lineCap=tt,this.lineWidth=et,this.lineJoin=ot},M=function(L,O,V){for(var tt=0;tt<L.length;tt++)switch(L[tt].type){case"bct":L[tt].x2+=O,L[tt].y2+=V;case"qct":L[tt].x1+=O,L[tt].y1+=V;default:L[tt].x+=O,L[tt].y+=V}return L},_=function(L){return L.sort(function(O,V){return O-V})},A=function(L,O){var V=this.fillStyle,tt=this.strokeStyle,et=this.lineCap,ot=this.lineWidth,it=Math.abs(ot*this.ctx.transform.scaleX),ut=this.lineJoin;if(this.autoPaging){for(var gt,mt,xt=JSON.parse(JSON.stringify(this.path)),Nt=JSON.parse(JSON.stringify(this.path)),Ct=[],q=0;q<Nt.length;q++)if(Nt[q].x!==void 0)for(var kt=N.call(this,Nt[q]),Gt=0;Gt<kt.length;Gt+=1)Ct.indexOf(kt[Gt])===-1&&Ct.push(kt[Gt]);for(var jt=0;jt<Ct.length;jt++)for(;this.pdf.internal.getNumberOfPages()<Ct[jt];)w.call(this);_(Ct);for(var St=Ct[0],qt=Ct[Ct.length-1],It=St;It<qt+1;It++){this.pdf.setPage(It),this.fillStyle=V,this.strokeStyle=tt,this.lineCap=et,this.lineWidth=it,this.lineJoin=ut;var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=It===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=It===1?0:ve+(It-2)*ae;if(this.ctx.clip_path.length!==0){var ce=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(gt,this.posX+this.margin[3],-Jt+Bt+this.ctx.prevPageLastElemOffset),H.call(this,L,!0),this.path=ce}if(mt=JSON.parse(JSON.stringify(xt)),this.path=M(mt,this.posX+this.margin[3],-Jt+Bt+this.ctx.prevPageLastElemOffset),O===!1||It===0){var pe=(It>St||It<qt)&&x.call(this);pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,ae,null).clip().discardPath()),H.call(this,L,O),pe&&this.pdf.restoreGraphicsState()}this.lineWidth=ot}this.path=xt}else this.lineWidth=it,H.call(this,L,O),this.lineWidth=ot},H=function(L,O){if((L!=="stroke"||O||!v.call(this))&&(L==="stroke"||O||!d.call(this))){for(var V,tt,et=[],ot=this.path,it=0;it<ot.length;it++){var ut=ot[it];switch(ut.type){case"begin":et.push({begin:!0});break;case"close":et.push({close:!0});break;case"mt":et.push({start:ut,deltas:[],abs:[]});break;case"lt":var gt=et.length;if(ot[it-1]&&!isNaN(ot[it-1].x)&&(V=[ut.x-ot[it-1].x,ut.y-ot[it-1].y],gt>0)){for(;gt>=0;gt--)if(et[gt-1].close!==!0&&et[gt-1].begin!==!0){et[gt-1].deltas.push(V),et[gt-1].abs.push(ut);break}}break;case"bct":V=[ut.x1-ot[it-1].x,ut.y1-ot[it-1].y,ut.x2-ot[it-1].x,ut.y2-ot[it-1].y,ut.x-ot[it-1].x,ut.y-ot[it-1].y],et[et.length-1].deltas.push(V);break;case"qct":var mt=ot[it-1].x+2/3*(ut.x1-ot[it-1].x),xt=ot[it-1].y+2/3*(ut.y1-ot[it-1].y),Nt=ut.x+2/3*(ut.x1-ut.x),Ct=ut.y+2/3*(ut.y1-ut.y),q=ut.x,kt=ut.y;V=[mt-ot[it-1].x,xt-ot[it-1].y,Nt-ot[it-1].x,Ct-ot[it-1].y,q-ot[it-1].x,kt-ot[it-1].y],et[et.length-1].deltas.push(V);break;case"arc":et.push({deltas:[],abs:[],arc:!0}),Array.isArray(et[et.length-1].abs)&&et[et.length-1].abs.push(ut)}}tt=O?null:L==="stroke"?"stroke":"fill";for(var Gt=!1,jt=0;jt<et.length;jt++)if(et[jt].arc)for(var St=et[jt].abs,qt=0;qt<St.length;qt++){var It=St[qt];It.type==="arc"?D.call(this,It.x,It.y,It.radius,It.startAngle,It.endAngle,It.counterclockwise,void 0,O,!Gt):j.call(this,It.x,It.y),Gt=!0}else if(et[jt].close===!0)this.pdf.internal.out("h"),Gt=!1;else if(et[jt].begin!==!0){var Ht=et[jt].start.x,Bt=et[jt].start.y;k.call(this,et[jt].deltas,Ht,Bt),Gt=!0}tt&&I.call(this,tt),O&&J.call(this)}},G=function(L){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-V;case"top":return L+O-V;case"hanging":return L+O-2*V;case"middle":return L+O/2-V;default:return L}},W=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(O,V){this.colorStops.push([O,V])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(L,O,V,tt,et,ot,it,ut,gt){for(var mt=U.call(this,V,tt,et,ot),xt=0;xt<mt.length;xt++){var Nt=mt[xt];xt===0&&(gt?S.call(this,Nt.x1+L,Nt.y1+O):j.call(this,Nt.x1+L,Nt.y1+O)),B.call(this,L,O,Nt.x2,Nt.y2,Nt.x3,Nt.y3,Nt.x4,Nt.y4)}ut?J.call(this):I.call(this,it)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(L,O){this.pdf.internal.out(n(L)+" "+r(O)+" m")},E=function(L){var O;switch(L.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var V,tt,et,ot=this.pdf.getTextDimensions(L.text),it=G.call(this,L.y),ut=W.call(this,it)-ot.h,gt=this.ctx.transform.applyToPoint(new s(L.x,it));if(this.autoPaging){var mt=this.ctx.transform.decompose(),xt=new l;xt=(xt=(xt=xt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale);for(var Nt=this.ctx.transform.applyToRectangle(new a(L.x,it,ot.w,ot.h)),Ct=xt.applyToRectangle(new a(L.x,ut,ot.w,ot.h)),q=N.call(this,Ct),kt=[],Gt=0;Gt<q.length;Gt+=1)kt.indexOf(q[Gt])===-1&&kt.push(q[Gt]);_(kt);for(var jt=kt[0],St=kt[kt.length-1],qt=jt;qt<St+1;qt++){this.pdf.setPage(qt);var It=qt===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],ve=Bt-this.margin[0],ae=this.pdf.internal.pageSize.width-this.margin[1],Jt=ae-this.margin[3],ce=qt===1?0:Ht+(qt-2)*ve;if(this.ctx.clip_path.length!==0){var pe=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(V,this.posX+this.margin[3],-1*ce+It),H.call(this,"fill",!0),this.path=pe}var Tt=M([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-ce+It+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*L.scale),et=this.lineWidth,this.lineWidth=et*L.scale);var te=this.autoPaging!=="text";if(te||Tt.y+Tt.h<=Bt){if(te||Tt.y>=It&&Tt.x<=ae){var zt=te?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||ae-Tt.x)[0],ze=M([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-ce+It+this.ctx.prevPageLastElemOffset)[0],me=te&&(qt>jt||qt<St)&&x.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,ve,null).clip().discardPath()),this.pdf.text(zt,ze.x,ze.y,{angle:L.angle,align:O,renderingMode:L.renderingMode}),me&&this.pdf.restoreGraphicsState()}}else Tt.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-Tt.y);L.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=et)}}else L.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*L.scale),et=this.lineWidth,this.lineWidth=et*L.scale),this.pdf.text(L.text,gt.x+this.posX,gt.y+this.posY,{angle:L.angle,align:O,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=et)},j=function(L,O,V,tt){V=V||0,tt=tt||0,this.pdf.internal.out(n(L+V)+" "+r(O+tt)+" l")},k=function(L,O,V){return this.pdf.lines(L,O,V,null,null)},B=function(L,O,V,tt,et,ot,it,ut){this.pdf.internal.out([e(i(V+L)),e(o(tt+O)),e(i(et+L)),e(o(ot+O)),e(i(it+L)),e(o(ut+O)),"c"].join(" "))},U=function(L,O,V,tt){for(var et=2*Math.PI,ot=Math.PI/2;O>V;)O-=et;var it=Math.abs(V-O);it<et&&tt&&(it=et-it);for(var ut=[],gt=tt?-1:1,mt=O;it>1e-5;){var xt=mt+gt*Math.min(it,ot);ut.push(Z.call(this,L,mt,xt)),it-=Math.abs(xt-mt),mt=xt}return ut},Z=function(L,O,V){var tt=(V-O)/2,et=L*Math.cos(tt),ot=L*Math.sin(tt),it=et,ut=-ot,gt=it*it+ut*ut,mt=gt+it*et+ut*ot,xt=4/3*(Math.sqrt(2*gt*mt)-mt)/(it*ot-ut*et),Nt=it-xt*ut,Ct=ut+xt*it,q=Nt,kt=-Ct,Gt=tt+O,jt=Math.cos(Gt),St=Math.sin(Gt);return{x1:L*Math.cos(O),y1:L*Math.sin(O),x2:Nt*jt-Ct*St,y2:Nt*St+Ct*jt,x3:q*jt-kt*St,y3:q*St+kt*jt,x4:L*Math.cos(V),y4:L*Math.sin(V)}},$=function(L){return 180*L/Math.PI},Q=function(L,O,V,tt,et,ot){var it=L+.5*(V-L),ut=O+.5*(tt-O),gt=et+.5*(V-et),mt=ot+.5*(tt-ot),xt=Math.min(L,et,it,gt),Nt=Math.max(L,et,it,gt),Ct=Math.min(O,ot,ut,mt),q=Math.max(O,ot,ut,mt);return new a(xt,Ct,Nt-xt,q-Ct)},lt=function(L,O,V,tt,et,ot,it,ut){var gt,mt,xt,Nt,Ct,q,kt,Gt,jt,St,qt,It,Ht,Bt,ve=V-L,ae=tt-O,Jt=et-V,ce=ot-tt,pe=it-et,Tt=ut-ot;for(mt=0;mt<41;mt++)jt=(kt=(xt=L+(gt=mt/40)*ve)+gt*((Ct=V+gt*Jt)-xt))+gt*(Ct+gt*(et+gt*pe-Ct)-kt),St=(Gt=(Nt=O+gt*ae)+gt*((q=tt+gt*ce)-Nt))+gt*(q+gt*(ot+gt*Tt-q)-Gt),mt==0?(qt=jt,It=St,Ht=jt,Bt=St):(qt=Math.min(qt,jt),It=Math.min(It,St),Ht=Math.max(Ht,jt),Bt=Math.max(Bt,St));return new a(Math.round(qt),Math.round(It),Math.round(Ht-qt),Math.round(Bt-It))},at=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,O,V=(L=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:O}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Vt.API),(function(t){var e=function(s){var a,l,u,h,p,m,d,v,x,N;for(l=[],u=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(m=(p=((p=((p=((p=(p-(N=p%85))/85)-(x=p%85))/85)-(v=p%85))/85)-(d=p%85))/85)%85,l.push(m+33,d+33,v+33,x+33,N+33)):l.push(122);return(function(w,M){for(var _=M;_>0;_--)w.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,u,h,p,m=String,d="length",v=255,x="charCodeAt",N="slice",w="replace";for(s[N](-2),s=s[N](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],h=0,p=(s+=a="uuuuu"[N](s[d]%5||5))[d];p>h;h+=5)l=52200625*(s[x](h)-33)+614125*(s[x](h+1)-33)+7225*(s[x](h+2)-33)+85*(s[x](h+3)-33)+(s[x](h+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return(function(M,_){for(var A=_;A>0;A--)M.pop()})(u,a[d]),m.fromCharCode.apply(m,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=Au(a)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}})(Vt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(l,u,h){var p=new XMLHttpRequest,m=0,d=function(v){var x=v.length,N=[],w=String.fromCharCode;for(m=0;m<x;m+=1)N.push(w(255&v.charCodeAt(m)));return N.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(d(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return d(p.responseText)})(i,o,s)}catch{}return a})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Vt.API),(function(t){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):Bl(()=>import("./html2canvas.esm.B0tyYwQk.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):Bl(()=>import("./purify.es.B9ZVCkUG.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Le(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},o=function a(l,u){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(a(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),u);return(h=h.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var d=0;d<h.length;++d){var v=h[d],x=v.src.find(function(N){return N.format==="truetype"});x&&u.addFont(x.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(a=a||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,h){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,h),m}).then(h,p).then(function(m){return u.updateProgress(1),m})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var h=this;a&&(a=a.bind(h)),l&&(l=l.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),m=u.call(p,a,l);return s.convert(m,h.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Vt.getPageSize=function(a,l,u){if(Le(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+u).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var v,x=0,N=0;if(d.hasOwnProperty(m))x=d[m][1]/p,N=d[m][0]/p;else try{x=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",N>x&&(v=N,N=x,x=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>N&&(v=N,N=x,x=v)}return{width:N,height:x,unit:l,k:p,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(ru):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}})(Vt.API),Vt.API.addJS=function(t){return a0=t,this.internal.events.subscribe("postPutResources",function(){oc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(oc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a0+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){oc!==void 0&&s0!==void 0&&this.internal.out("/Names <</JavaScript "+oc+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(o=0;o<u;o++){var p=n.internal.newObject();h.push(p);var m=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<h.length;o++)n.internal.write("(page_"+(o+1)+")"+h[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(Vt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(p){for(var m,d=256*p.charCodeAt(4)+p.charCodeAt(5),v=p.length,x={width:0,height:0,numcomponents:1},N=4;N<v;N+=2){if(N+=d,e.indexOf(p.charCodeAt(N+1))!==-1){m=256*p.charCodeAt(N+5)+p.charCodeAt(N+6),x={width:256*p.charCodeAt(N+7)+p.charCodeAt(N+8),height:m,numcomponents:p.charCodeAt(N+9)};break}d=256*p.charCodeAt(N+2)+p.charCodeAt(N+3)}return x})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}})(Vt.API),Vt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=p6(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.palette,h=o.depth;i=u&&l===1?(function(D){for(var I=D.width,J=D.height,S=D.data,E=D.palette,j=D.depth,k=!1,B=[],U=[],Z=void 0,$=!1,Q=0,lt=0;lt<E.length;lt++){var at=fd(E[lt],4),L=at[0],O=at[1],V=at[2],tt=at[3];B.push(L,O,V),tt!=null&&(tt===0?(Q++,U.length<1&&U.push(lt)):tt<255&&($=!0))}if($||Q>1){k=!0,U=void 0;var et=I*J;Z=new Uint8Array(et);for(var ot=new DataView(S.buffer),it=0;it<et;it++){var ut=ou(ot,it,j),gt=fd(E[ut],4)[3];Z[it]=gt}}else Q===0&&(U=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:k?8:void 0,colorBytes:S,alphaBytes:Z,needSMask:k,palette:B,mask:U}})(o):l===2||l===4?(function(D){for(var I=D.data,J=D.width,S=D.height,E=D.channels,j=D.depth,k=E===2?"DeviceGray":"DeviceRGB",B=E-1,U=J*S,Z=B,$=U*Z,Q=1*U,lt=Math.ceil($*j/8),at=Math.ceil(Q*j/8),L=new Uint8Array(lt),O=new Uint8Array(at),V=new DataView(I.buffer),tt=new DataView(L.buffer),et=new DataView(O.buffer),ot=!1,it=0;it<U;it++){for(var ut=it*E,gt=0;gt<Z;gt++)m0(tt,ou(V,ut+gt,j),it*Z+gt,j);var mt=ou(V,ut+Z,j);mt<(1<<j)-1&&(ot=!0),m0(et,mt,1*it,j)}return{colorSpace:k,colorsPerPixel:B,sMaskBitsPerComponent:ot?j:void 0,colorBytes:L,alphaBytes:O,needSMask:ot}})(o):(function(D){var I=D.data,J=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(S){for(var E=S.length,j=new Uint8Array(2*E),k=new DataView(j.buffer,j.byteOffset,j.byteLength),B=0;B<E;B++)k.setUint16(2*B,S[B],!1);return j})(I):I,needSMask:!1}})(o);var p,m,d,v=i,x=v.colorSpace,N=v.colorsPerPixel,w=v.sMaskBitsPerComponent,M=v.colorBytes,_=v.alphaBytes,A=v.needSMask,H=v.palette,G=v.mask,W=null;return r!==Vt.API.image_compression.NONE&&typeof Au=="function"?(W=(function(D){var I;switch(D){case Vt.API.image_compression.FAST:I=11;break;case Vt.API.image_compression.MEDIUM:I=13;break;case Vt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(r),p=this.decode.FLATE_DECODE,m="/Predictor ".concat(W," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(s),t=f0(M,Math.ceil(s*N*h/8),N,h,r),A&&(d=f0(_,Math.ceil(s*w/8),1,w,r))):(p=void 0,m=void 0,t=M,A&&(d=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:n,data:t,index:e,filter:p,decodeParameters:m,transparency:G,palette:H,sMask:d,predictor:W,width:s,height:a,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:x}}},(function(t){t.processGIF89A=function(e,n,r,i){var o=new T6(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},h=new su(100).encode(u,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(Vt.API),br.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},br.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Pe.log("bit decode error:"+n)}},br.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},br.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},br.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},br.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,u=o>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=u}this.pos+=t}},br.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,h=i*this.width*4+4*o;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},br.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},br.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},br.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var o=new br(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new su(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}})(Vt.API),v0.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var o=new v0(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new su(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}})(Vt.API),Vt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var h=r[u],p=r[u+1],m=r[u+2],d=r[u+3];o[a++]=h,o[a++]=p,o[a++]=m,s[l++]=d}var v=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wo=Vt.API,sc=Wo.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,m=0,d=t.length,v=0,x=a[0]||l,N=[];for(n=0;n<d;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(m=p&&Le(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/h:0,N.push((a[r]||x)/l+m)),v=r;return N},c0=Wo.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Wo.processArabic&&(t=Wo.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:sc.apply(this,arguments).reduce(function(o,s){return o+s},0)},l0=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},u0=function(t,e,n){n||(n={});var r,i,o,s,a,l,u,h=[],p=[h],m=n.textIndent||0,d=0,v=0,x=t.split(" "),N=sc.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),M=[];x.map(function(A){(A=A.split(/\s*\n/)).length>1?M=M.concat(A.map(function(H,G){return(G&&H.length?`
`:"")+H})):M.push(A[0])}),x=M,l=c0.apply(this,[w,n])}for(o=0,s=x.length;o<s;o++){var _=0;if(r=x[o],l&&r[0]==`
`&&(r=r.substr(1),_=1),m+d+(v=(i=sc.apply(this,[r,n])).reduce(function(A,H){return A+H},0))>e||_){if(v>e){for(a=l0.apply(this,[r,i,e-(m+d),e]),h.push(a.shift()),h=[a.pop()];a.length;)p.push([a.shift()]);v=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(A,H){return A+H},0)}else h=[r];p.push(h),m=v+l,d=N}else h.push(r),m+=d+v,d=N}return u=l?function(A,H){return(H?w:"")+A.join(" ")}:function(A){return A.join(" ")},p.map(u)},Wo.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),m="Unicode";return p.metadata[m]?{widths:p.metadata[m].widths||{0:1},kerning:p.metadata[m].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(u0.apply(this,[r[a],s,o]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var d,v,x,N,w=["{"];for(var M in m){if(d=m[M],isNaN(parseInt(M,10))?v="'"+M+"'":(M=parseInt(M,10),v=(v=s(M).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof d=="number")d<0?(x=s(d).slice(3),N="-"):(x=s(d).slice(2),N=""),x=N+x.slice(0,-1)+i[x.slice(-1)];else{if(Le(d)!=="object")throw new Error("Don't know what to do with value type "+Le(d)+".");x=a(d)}w.push(v+x)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,v,x,N,w={},M=1,_=w,A=[],H="",G="",W=m.length-1,D=1;D<W;D+=1)(N=m[D])=="'"?d?(x=d.join(""),d=void 0):d=[]:d?d.push(N):N=="{"?(A.push([_,x]),_={},x=void 0):N=="}"?((v=A.pop())[0][v[1]]=_,x=void 0,_=v[0]):N=="-"?M=-1:x===void 0?r.hasOwnProperty(N)?(H+=r[N],x=parseInt(H,16)*M,M=1,H=""):H+=N:r.hasOwnProperty(N)?(G+=r[N],_[x]=parseInt(G,16)*M,M=1,x=void 0,G=""):G+=N;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var d=m.font,v=p.Unicode[d.postScriptName];v&&(d.metadata.Unicode={},d.metadata.Unicode.widths=v.widths,d.metadata.Unicode.kerning=v.kerning);var x=h.Unicode[d.postScriptName];x&&(d.metadata.Unicode.encoding=x,d.encoding=x.codePages[0])}])})(Vt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(dc(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Vt),Vt.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw Pe.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Pe.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Qt.canvg?Promise.resolve(Qt.canvg):Bl(()=>import("./index.es.BQTaLac8.js"),__vite__mapDeps([0,1]))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},Vt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Vt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,h=0,p=0;function m(v,x){var N,w=!1;for(N=0;N<v.length;N+=1)v[N]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=a.length;for(p=0;p<d;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Le(t)==="object"){for(i in t)if(o=t[i],m(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&m(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")l.push(String(o[u]-1));else if(o[u].length>1){for(h=0;h<o[u].length;h+=1)typeof o[u][h]!="number"&&(r=!1);r===!0&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?x.push("/"+v+" /"+n[v].value):x.push("/"+v+" "+n[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Vt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,m=o.length;p<m;++p){if(a=s.metadata.characterToGlyph(o.charCodeAt(p)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(o){var s,a,l,u,h,p,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,m=(a=Object.keys(o).sort(function(d,v){return d-v})).length;p<m;p++)s=a[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,h=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",v=0;v<m.length;v++)d+=String.fromCharCode(m[v]);var x=u();h({data:d,addLength1:!0,objectId:x}),l("endobj");var N=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Yo(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var M=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Yo(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+Yo(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+M+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,h=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,m="",d=0;d<p.length;d++)m+=String.fromCharCode(p[d]);var v=u();h({data:m,addLength1:!0,objectId:v}),l("endobj");var x=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var N=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Yo(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Yo(a.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,u=o.y,h=o.options||{},p=o.mutex||{},m=p.pdfEscape,d=p.activeFontKey,v=p.fonts,x=d,N="",w=0,M="",_=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:a,x:l,y:u,options:h,mutex:p};for(M=a,x=d,Array.isArray(a)&&(M=a[0]),w=0;w<M.length;w+=1)v[x].metadata.hasOwnProperty("cmap")&&(s=v[x].metadata.cmap.unicode.codeMap[M[w].charCodeAt(0)]),s||M[w].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?N+=M[w]:N+="";var A="";return parseInt(x.slice(1))<14||_==="WinAnsiEncoding"?A=m(N,x).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=n(N,v[x])),p.isHex=!0,{text:A,x:l,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])})(Vt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Vt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,u,h,p=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,_=0;this.__bidiEngine__={};var A=function(S){var E=S.charCodeAt(),j=E>>8,k=x[j];return k!==void 0?p[256*k+(255&E)]:j===252||j===253?"AL":w.test(j)?"L":j===8?"R":"N"},H=function(S){for(var E,j=0;j<S.length;j++){if((E=A(S.charAt(j)))==="L")return!1;if(E==="R")return!0}return!1},G=function(S,E,j,k){var B,U,Z,$,Q=E[k];switch(Q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"N":case"AN":break;case"EN":M&&(Q="AN");break;case"AL":M=!0,Q="R";break;case"WS":case"BN":Q="N";break;case"CS":k<1||k+1>=E.length||(B=j[k-1])!=="EN"&&B!=="AN"||(U=E[k+1])!=="EN"&&U!=="AN"?Q="N":M&&(U="AN"),Q=U===B?U:"N";break;case"ES":Q=(B=k>0?j[k-1]:"B")==="EN"&&k+1<E.length&&E[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&j[k-1]==="EN"){Q="EN";break}if(M){Q="N";break}for(Z=k+1,$=E.length;Z<$&&E[Z]==="ET";)Z++;Q=Z<$&&E[Z]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for($=E.length,Z=k+1;Z<$&&E[Z]==="NSM";)Z++;if(Z<$){var lt=S[k],at=lt>=1425&&lt<=2303||lt===64286;if(B=E[Z],at&&(B==="R"||B==="AL")){Q="R";break}}}Q=k<1||(B=E[k-1])==="B"?"N":j[k-1];break;case"B":M=!1,i=!0,Q=_;break;case"S":o=!0,Q="N"}return Q},W=function(S,E,j){var k=S.split("");return j&&D(k,j,{hiLevel:_}),k.reverse(),E&&E.reverse(),k.join("")},D=function(S,E,j){var k,B,U,Z,$,Q=-1,lt=S.length,at=0,L=[],O=_?d:m,V=[];for(M=!1,i=!1,o=!1,B=0;B<lt;B++)V[B]=A(S[B]);for(U=0;U<lt;U++){if($=at,L[U]=G(S,V,L,U),k=240&(at=O[$][v[L[U]]]),at&=15,E[U]=Z=O[at][5],k>0)if(k===16){for(B=Q;B<U;B++)E[B]=1;Q=-1}else Q=-1;if(O[at][6])Q===-1&&(Q=U);else if(Q>-1){for(B=Q;B<U;B++)E[B]=Z;Q=-1}V[U]==="B"&&(E[U]=0),j.hiLevel|=Z}o&&(function(tt,et,ot){for(var it=0;it<ot;it++)if(tt[it]==="S"){et[it]=_;for(var ut=it-1;ut>=0&&tt[ut]==="WS";ut--)et[ut]=_}})(V,E,lt)},I=function(S,E,j,k,B){if(!(B.hiLevel<S)){if(S===1&&_===1&&!i)return E.reverse(),void(j&&j.reverse());for(var U,Z,$,Q,lt=E.length,at=0;at<lt;){if(k[at]>=S){for($=at+1;$<lt&&k[$]>=S;)$++;for(Q=at,Z=$-1;Q<Z;Q++,Z--)U=E[Q],E[Q]=E[Z],E[Z]=U,j&&(U=j[Q],j[Q]=j[Z],j[Z]=U);at=$}at++}}},J=function(S,E,j){var k=S.split(""),B={hiLevel:_};return j||(j=[]),D(k,j,B),(function(U,Z,$){if($.hiLevel!==0&&h)for(var Q,lt=0;lt<U.length;lt++)Z[lt]===1&&(Q=N.indexOf(U[lt]))>=0&&(U[lt]=N[Q+1])})(k,j,B),I(2,k,E,j,B),I(1,k,E,j,B),k.join("")};return this.__bidiEngine__.doBidiReorder=function(S,E,j){if((function(B,U){if(U)for(var Z=0;Z<B.length;Z++)U[Z]=Z;a===void 0&&(a=H(B)),u===void 0&&(u=H(B))})(S,E),s||!l||u)if(s&&l&&a^u)_=a?1:0,S=W(S,E,j);else if(!s&&l&&u)_=a?1:0,S=J(S,E,j),S=W(S,E);else if(!s||a||l||u){if(s&&!l&&a^u)S=W(S,E),a?(_=0,S=J(S,E,j)):(_=1,S=J(S,E,j),S=W(S,E));else if(s&&a&&!l&&u)_=1,S=J(S,E,j),S=W(S,E);else if(!s&&!l&&a^u){var k=h;a?(_=1,S=J(S,E,j),_=0,h=!1,S=J(S,E,j),h=k):(_=0,S=J(S,E,j),S=W(S,E),_=1,h=!1,S=J(S,E,j),h=k,S=W(S,E))}}else _=0,S=J(S,E,j);else _=a?1:0,S=J(S,E,j);return S},this.__bidiEngine__.setOptions=function(S){S&&(s=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,u=S.isOutputRtl,h=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Vt),Vt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ui(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Z6(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new O6(this.contents),this.head=new j6(this),this.name=new H6(this),this.cmap=new ip(this),this.toUnicode={},this.hhea=new B6(this),this.maxp=new $6(this),this.hmtx=new V6(this),this.post=new z6(this),this.os2=new q6(this),this.loca=new X6(this),this.glyf=new W6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Er,Ui=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t})(),O6=(function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,u,h,p,m,d,v,x;for(x in d=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(d)/l),s=Math.floor(p/l),h=16*d-p,(i=new Ui).writeInt(this.scalarType),i.writeShort(d),i.writeShort(p),i.writeShort(s),i.writeShort(h),o=16*d,u=i.pos+o,a=null,v=[],n)for(m=n[x],i.writeString(x),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),v=v.concat(m),x==="head"&&(a=u),u+=m.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=op.call(n);n.length%4;)n.push(0);for(o=new Ui(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),D6={}.hasOwnProperty,qr=function(t,e){for(var n in e)D6.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Er=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var j6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Ui).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),w0=(function(){function t(e,n){var r,i,o,s,a,l,u,h,p,m,d,v,x,N,w,M,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),m=d/2,e.pos+=6,o=(function(){var A,H;for(H=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)H.push(e.readUInt16());return H})(),e.pos+=2,x=(function(){var A,H;for(H=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)H.push(e.readUInt16());return H})(),u=(function(){var A,H;for(H=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)H.push(e.readUInt16());return H})(),h=(function(){var A,H;for(H=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)H.push(e.readUInt16());return H})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var A,H;for(H=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)H.push(e.readUInt16());return H})(),l=w=0,_=o.length;w<_;l=++w)for(N=o[l],r=M=v=x[l];v<=N?M<=N:M>=N;r=v<=N?++M:--M)h[l]===0?s=r+u[l]:(s=a[h[l]/2+(r-v)-(m-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=p}return t.encode=function(e,n){var r,i,o,s,a,l,u,h,p,m,d,v,x,N,w,M,_,A,H,G,W,D,I,J,S,E,j,k,B,U,Z,$,Q,lt,at,L,O,V,tt,et,ot,it,ut,gt,mt,xt;switch(k=new Ui,s=Object.keys(e).sort(function(Nt,Ct){return Nt-Ct}),n){case"macroman":for(x=0,N=(function(){var Nt=[];for(v=0;v<256;++v)Nt.push(0);return Nt})(),M={0:0},o={},B=0,Q=s.length;B<Q;B++)M[ut=e[i=s[B]]]==null&&(M[ut]=++x),o[i]={old:e[i],new:M[e[i]]},N[i]=M[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(N),{charMap:o,subtable:k.data,maxGlyphID:x+1};case"unicode":for(E=[],p=[],_=0,M={},r={},w=u=null,U=0,lt=s.length;U<lt;U++)M[H=e[i=s[U]]]==null&&(M[H]=++_),r[i]={old:H,new:M[H]},a=M[H]-i,w!=null&&a===u||(w&&p.push(w),E.push(i),u=a),w=i;for(w&&p.push(w),p.push(65535),E.push(65535),J=2*(I=E.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,W=2*I-D,l=[],G=[],d=[],v=Z=0,at=E.length;Z<at;v=++Z){if(S=E[v],h=p[v],S===65535){l.push(0),G.push(0);break}if(S-(j=r[S].new)>=32768)for(l.push(0),G.push(2*(d.length+I-v)),i=$=S;S<=h?$<=h:$>=h;i=S<=h?++$:--$)d.push(r[i].new);else l.push(j-S),G.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*I+2*d.length),k.writeUInt16(0),k.writeUInt16(J),k.writeUInt16(D),k.writeUInt16(m),k.writeUInt16(W),ot=0,L=p.length;ot<L;ot++)i=p[ot],k.writeUInt16(i);for(k.writeUInt16(0),it=0,O=E.length;it<O;it++)i=E[it],k.writeUInt16(i);for(gt=0,V=l.length;gt<V;gt++)a=l[gt],k.writeUInt16(a);for(mt=0,tt=G.length;mt<tt;mt++)A=G[mt],k.writeUInt16(A);for(xt=0,et=d.length;xt<et;xt++)x=d[xt],k.writeUInt16(x);return{charMap:r,subtable:k.data,maxGlyphID:_+1}}},t})(),ip=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new w0(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=w0.encode(e,n),(i=new Ui).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),B6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),q6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),z6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}.call(this)}},t})(),U6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},H6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,l,u,h,p,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=h=0,p=r.length;h<p;o=++h)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new U6(u,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),$6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),V6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(e.readInt16());return h})(),this.widths=function(){var u,h,p,m;for(m=[],u=0,h=(p=this.metrics).length;u<h;u++)o=p[u],m.push(o.advance);return m}.call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),op=[].slice,W6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,l,u,h,p;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new Ui(n.read(i))).readShort(),u=a.readShort(),p=a.readShort(),l=a.readShort(),h=a.readShort(),this.cache[e]=s===-1?new Y6(a,u,p,l,h):new G6(a,s,u,p,l,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t})(),G6=(function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Y6=(function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ui(op.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),X6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qr(t,Er),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),h=0;h<r.length;++h)u[4*h+3]=255&r[h],u[4*h+2]=(65280&r[h])>>8,u[4*h+1]=(16711680&r[h])>>16,u[4*h]=(4278190080&r[h])>>24;return u},t})(),Z6=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,u,h,p,m,d,v,x,N,w;for(i in r=ip.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),d={0:0},w=r.charMap)d[(l=w[i]).old]=l.new;for(v in m=r.maxGlyphID,s)v in d||(d[v]=m++);return h=(function(M){var _,A;for(_ in A={},M)A[M[_]]=_;return A})(d),p=Object.keys(h).sort(function(M,_){return M-_}),x=(function(){var M,_,A;for(A=[],M=0,_=p.length;M<_;M++)a=p[M],A.push(h[a]);return A})(),o=this.font.glyf.encode(s,x,d),u=this.font.loca.encode(o.offsets,x),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t})();Vt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+(function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e})();async function K6(t,e){const{title:n,filename:r="strategy-roadmap.pdf",includeHeader:i=!0}=e,o=document.querySelector(t);if(!o){console.error("Canvas element not found"),alert("Unable to generate PDF. Canvas not found.");return}const s=document.createElement("div");s.id="pdf-export-loading",s.innerHTML=`
    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
      <div style="
        width: 50px;
        height: 50px;
        border: 4px solid rgba(255,255,255,0.2);
        border-top-color: #00D26A;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      "></div>
      <p style="font-size: 16px; margin: 0;">Generating high-quality PDF...</p>
      <p style="font-size: 12px; color: #888; margin: 0;">This may take a few seconds</p>
    </div>
    <style>
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    </style>
  `,s.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    color: white;
    font-family: 'Inter', system-ui, sans-serif;
  `,document.body.appendChild(s),o.classList.add("pdf-export-mode"),o.offsetHeight;try{await new Promise(J=>setTimeout(J,800));const l=o.querySelector(".react-flow")||o,u=o.querySelector(".react-flow__edges"),h=o.querySelector(".react-flow__nodes");if(u){const J=u.querySelector("svg");J&&(J.style.overflow="visible",J.setAttribute("overflow","visible"),J.querySelectorAll("path").forEach((E,j)=>{const k=window.getComputedStyle(E),B=k.stroke,U=k.strokeWidth,Z=k.strokeDasharray;B&&B!=="none"&&E.setAttribute("stroke",B),U&&U!=="0px"&&E.setAttribute("stroke-width",U),Z&&Z!=="none"&&E.setAttribute("stroke-dasharray",Z),E.setAttribute("fill","none"),E.style.opacity="1",E.style.strokeOpacity="1",E.style.animation="none",j<3&&console.log(`Edge ${j}: stroke=${B}, width=${U}, dash=${Z}`)}))}h&&(h.style.opacity="1",h.style.visibility="visible"),await new Promise(J=>setTimeout(J,300));const p=await s4(l,{backgroundColor:"#0a0a0a",pixelRatio:2,cacheBust:!0,skipFonts:!1,includeQueryParams:!0,filter:J=>!(J.classList&&(J.classList.contains("react-flow__controls")||J.classList.contains("react-flow__minimap")||J.classList.contains("react-flow__attribution")))}),m=420,d=297,v=new Vt({orientation:"landscape",unit:"mm",format:"a3",compress:!0,putOnlyUsedFonts:!0});v.setProperties({title:n||"Security Strategy Roadmap",subject:"Q1-Q4 Cybersecurity Strategy Roadmap",author:"Hackfluency",creator:"Hackfluency Strategy Dashboard",keywords:"cybersecurity, strategy, roadmap, security planning",creationDate:new Date});const x=new Image;x.crossOrigin="anonymous";const N=await new Promise((J,S)=>{x.onload=()=>{const E=document.createElement("canvas");E.width=x.width,E.height=x.height;const j=E.getContext("2d");j?(j.drawImage(x,0,0),J(E.toDataURL("image/png"))):S(new Error("Failed to get canvas context"))},x.onerror=()=>S(new Error("Failed to load logo")),x.src="/HFNeon.png"});v.setFillColor(10,10,10),v.rect(0,0,m,d,"F");let w=15;if(i){v.addImage(N,"PNG",15,w-5,20,20),v.setDrawColor(0,210,106),v.setLineWidth(1),v.line(40,w,85,w),v.setFontSize(28),v.setTextColor(255,255,255),v.text(n,40,w+12),v.setFontSize(11),v.setTextColor(138,138,138);const S=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});v.text(`Q1 - Q4 Strategy Roadmap    Generated on ${S}`,40,w+20),v.setFontSize(12),v.setTextColor(0,210,106),v.text("Hackfluency",m-55,w+8),v.setDrawColor(42,42,42),v.setLineWidth(.5),v.line(15,w+28,m-15,w+28),w=50}const M=new Image;await new Promise((J,S)=>{M.onload=J,M.onerror=S,M.src=p});const _=m-30,A=d-w-25,H=M.width/M.height,G=_/A;let W,D;H>G?(W=_,D=_/H):(D=A,W=A*H);const I=(m-W)/2;v.addImage(p,"PNG",I,w,W,D),v.setFontSize(9),v.setTextColor(100,100,100),v.text("Q1: Jan-Mar  |  Q2: Apr-Jun  |  Q3: Jul-Sep  |  Q4: Oct-Dec",15,d-10),v.text("Security Strategy Roadmap - Confidential",m/2,d-10,{align:"center"}),v.setTextColor(0,210,106),v.text("hackfluency.com",m-15,d-10,{align:"right"}),v.setFontSize(8),v.setTextColor(80,80,80),v.text(" 2026 Hackfluency. All rights reserved.",m/2,d-5,{align:"center"}),v.save(r)}catch(a){console.error("Error generating PDF:",a),alert("Failed to generate PDF. Please try again.")}finally{o.classList.remove("pdf-export-mode"),s.remove()}}const J6=["q1","q2","q3","q4"],Q6={strategy:h3},t8={strategy:d3};function e8(){const{x:t,y:e,zoom:n}=Mb(),r={transform:`translate(${t}px, ${e}px) scale(${n})`,transformOrigin:"0 0"};return nt.jsx("div",{className:"strategic-bg-guide",style:r,children:J6.map(i=>nt.jsx("div",{className:"strategic-bg-column",children:nt.jsxs("div",{className:"strategic-bg-label",children:[nt.jsx("span",{className:"strategic-bg-badge",children:Kh[i].label}),nt.jsx("span",{className:"strategic-bg-months",children:Kh[i].months})]})},i))})}function n8({nodes:t}){const e=vt.useMemo(()=>{const r={done:0,active:0,planned:0,blocked:0};return t.forEach(i=>{const o=i.data;o&&(r[o.status]=(r[o.status]||0)+1)}),{byStatus:r,total:t.length}},[t]),n=e.total>0?Math.round(e.byStatus.done/e.total*100):0;return nt.jsxs("div",{className:"viewer-compact-stats",children:[nt.jsxs("div",{className:"compact-stat",children:[nt.jsx("span",{className:"label",children:"Total:"})," ",nt.jsx("span",{className:"value",children:e.total})]}),nt.jsxs("div",{className:"compact-stat",children:[nt.jsx("span",{className:"label",children:"Done:"})," ",nt.jsxs("span",{className:"value",children:[n,"%"]})]})]})}function r8({dashboard:t,publicMode:e=!1}){const[n,r]=vt.useState(!1),i=vt.useRef(null),o=vt.useCallback(async()=>{if(!n){r(!0);try{await K6(".viewer-canvas",{title:t.name,filename:`${t.name.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-roadmap.pdf`,includeHeader:!0})}finally{r(!1)}}},[t.name,n]);return nt.jsxs("div",{className:`dashboard-viewer ${e?"public-mode":""}`,children:[nt.jsxs("nav",{className:"viewer-nav",children:[nt.jsxs("div",{className:"nav-brand",children:[nt.jsxs("a",{href:"/",children:[nt.jsx("img",{src:"/HFNeon.png",alt:"Hackfluency"}),nt.jsxs("span",{className:"logo-text",children:[nt.jsx("span",{className:"logo-hack",children:"Hack"}),nt.jsx("span",{className:"logo-fluency",children:"fluency"})]})]}),nt.jsx("span",{className:"nav-divider"}),nt.jsxs("div",{className:"nav-title",children:[nt.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:nt.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),e?"Strategy Roadmap Sample":t.name]})]}),nt.jsxs("div",{className:"nav-actions",children:[nt.jsx(n8,{nodes:t.nodes||[]}),nt.jsx("span",{className:"nav-divider"}),nt.jsx("button",{className:"nav-btn",onClick:o,disabled:n,title:"Export PDF",children:nt.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[nt.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),nt.jsx("polyline",{points:"14 2 14 8 20 8"}),nt.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),nt.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),!e&&nt.jsx("a",{href:"/dashboards",className:"nav-btn",title:"Exit to Dashboards",children:nt.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:nt.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})]}),nt.jsx("div",{className:"viewer-canvas",ref:i,children:nt.jsx("div",{className:"react-flow-wrapper",children:nt.jsxs(Eb,{nodes:t.nodes,edges:t.edges||[],nodeTypes:Q6,nodeOrigin:[.5,0],defaultViewport:{x:-15,y:-15,zoom:1.38},fitView:!e,fitViewOptions:{padding:.15,maxZoom:1},nodesDraggable:!1,nodesConnectable:!1,nodesFocusable:!1,edgesFocusable:!1,elementsSelectable:!1,panOnDrag:!1,translateExtent:[[0,0],[1490,1e3]],zoomOnScroll:!1,zoomOnPinch:!1,zoomOnDoubleClick:!1,minZoom:1.38,maxZoom:1.38,edgeTypes:t8,children:[nt.jsx(e8,{}),nt.jsx(Db,{variant:fi.Dots,gap:20,size:1,color:"rgba(255,255,255,0.03)"})]})})})]})}function o8(t){return nt.jsx(e2,{children:nt.jsx(r8,{...t})})}export{o8 as D,Le as _,nt as j};
